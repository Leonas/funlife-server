/* FunLife */
function encodeHTMLSource(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,s,n,o,r,l,a="",c=0;for(e=Base64._utf8_encode(e);e.length>c;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),s=e.charCodeAt(c++),n=t>>2,o=(3&t)<<4|i>>4,r=(15&i)<<2|s>>6,l=63&s,isNaN(i)?r=l=64:isNaN(s)&&(l=64),a=a+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(l);return a},decode:function(e){var t,i,s,n,o,r,l,a="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");e.length>c;)n=this._keyStr.indexOf(e.charAt(c++)),o=this._keyStr.indexOf(e.charAt(c++)),r=this._keyStr.indexOf(e.charAt(c++)),l=this._keyStr.indexOf(e.charAt(c++)),t=n<<2|o>>4,i=(15&o)<<4|r>>2,s=(3&r)<<6|l,a+=String.fromCharCode(t),64!=r&&(a+=String.fromCharCode(i)),64!=l&&(a+=String.fromCharCode(s));return a=Base64._utf8_decode(a)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;e.length>i;i++){var s=e.charCodeAt(i);128>s?t+=String.fromCharCode(s):s>127&&2048>s?(t+=String.fromCharCode(192|s>>6),t+=String.fromCharCode(128|63&s)):(t+=String.fromCharCode(224|s>>12),t+=String.fromCharCode(128|63&s>>6),t+=String.fromCharCode(128|63&s))}return t},_utf8_decode:function(e){for(var t="",i=0,s=c1=c2=0;e.length>i;)s=e.charCodeAt(i),128>s?(t+=String.fromCharCode(s),i++):s>191&&224>s?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return t}};if(!window.jq||"function"!=typeof jq){var jq=function(e){function t(e,t,i){var s=_.createDocumentFragment();if(i){for(var n=e.length-1;n>=0;n--)s.insertBefore(e[n],s.firstChild);t.insertBefore(s,t.firstChild)}else{for(var n=0;e.length>n;n++)s.appendChild(e[n]);t.appendChild(s)}s=null}function i(e){return e in S?S[e]:S[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function s(e){for(var t=0;e.length>t;t++)e.indexOf(e[t])!=t&&(e.splice(t,1),t--);return e}function n(e,t){var i=[];if(e==w)return i;for(;e;e=e.nextSibling)1==e.nodeType&&e!==t&&i.push(e);return i}function o(e,t){try{return t.querySelectorAll(e)}catch(i){return[]}}function r(e,t){if(e=e.trim(),"#"===e[0]&&-1==e.indexOf(".")&&-1===e.indexOf(" ")&&-1===e.indexOf(">"))t==_?l(t.getElementById(e.replace("#","")),this):l(o(e,t),this);else if("<"===e[0]&&">"===e[e.length-1]){var i=_.createElement("div");i.innerHTML=e.trim(),l(i.childNodes,this)}else l(o(e,t),this);return this}function l(e,t){if(e){if(e.nodeType)return t[t.length++]=e;for(var i=0,s=e.length;s>i;i++)t[t.length++]=e[i]}}function a(){}function c(t,i){t.os={},t.os.webkit=i.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=i.match(/(Android)\s+([\d.]+)/)||i.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&i.match(/(Android)\s4/)?!0:!1,t.os.ipad=i.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&i.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.webos=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&i.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=i.match(/PlayBook/)?!0:!1,t.os.blackberry=t.os.playbook||i.match(/BlackBerry/)?!0:!1,t.os.blackberry10=t.os.blackberry&&i.match(/Safari\/536/)?!0:!1,t.os.chrome=i.match(/Chrome/)?!0:!1,t.os.opera=i.match(/Opera/)?!0:!1,t.os.fennec=i.match(/fennec/i)?!0:i.match(/Firefox/)?!0:!1,t.os.ie=i.match(/MSIE 10.0/i)?!0:!1,t.os.ieTouch=t.os.ie&&i.toLowerCase().match(/touch/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&_ instanceof e.DocumentTouch||"ontouchstart"in e,t.feat={};var s=_.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll=s.style["-webkit-overflow-scrolling"]!==w||t.os.chrome,t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1)}function h(e){return e._jqmid||(e._jqmid=D++)}function d(e,t,i,s){if(t=u(t),t.ns)var n=f(t.ns);return(P[h(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!=t.e||t.ns&&!n.test(e.ns)||i&&e.fn!=i&&("function"!=typeof e.fn||"function"!=typeof i||""+e.fn!=""+i)||s&&e.selector!=s)})}function u(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function f(e){return RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function p(e,t,i){j.isObject(e)?j.each(e,i):e.split(/\s/).forEach(function(e){i(e,t)})}function m(e,t,i,s,n){var o=h(e),r=P[o]||(P[o]=[]);p(t,i,function(t,i){var o=n&&n(i,t),l=o||i,a=function(t){var i=l.apply(e,[t].concat(t.data));return i===!1&&t.preventDefault(),i},c=j.extend(u(t),{fn:i,proxy:a,selector:s,del:o,i:r.length});r.push(c),e.addEventListener(c.e,a,!1)})}function v(e,t,i,s){var n=h(e);p(t||"",i,function(t,i){d(e,t,i,s).forEach(function(t){delete P[n][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function g(e){var t=j.extend({originalEvent:e},e);return j.each(H,function(i,s){t[i]=function(){return this[s]=A,"stopImmediatePropagation"!=i&&"stopPropagation"!=i||(e.cancelBubble=!0,e[i])?e[i].apply(e,arguments):w},t[s]=L}),t}function y(e,t){if(t&&e.dispatchEvent){var i=j.Event("destroy",{bubbles:!1});e.dispatchEvent(i)}var s=h(e);if(s&&P[s]){for(var n in P[s])e.removeEventListener(P[s][n].e,P[s][n].proxy,!1);delete P[s]}}function b(e,t){if(e){var i=e.childNodes;if(i&&i.length>0)for(var s in i)b(i[s],t);y(e,t)}}var w,_=e.document,x=[],T=x.slice,S={},C=1,k=/^\s*<(\w+)[^>]*>/,E={},I={},M=function(e,t){if(this.length=0,!e)return this;if(e instanceof M&&t==w)return e;if(j.isFunction(e))return j(_).ready(e);if(j.isArray(e)&&e.length!=w){for(var i=0;e.length>i;i++)this[this.length++]=e[i];return this}if(j.isObject(e)&&j.isObject(t)){if(e.length==w)e.parentNode==t&&(this[this.length++]=e);else for(var i=0;e.length>i;i++)e[i].parentNode==t&&(this[this.length++]=e[i]);return this}if(j.isObject(e)&&t==w)return this[this.length++]=e,this;if(t!==w){if(t instanceof M)return t.find(e)}else t=_;return this.selector(e,t)},j=function(e,t){return new M(e,t)};j.is$=function(e){return e instanceof M},j.map=function(e,t){var i,s,n,o=[];if(j.isArray(e))for(s=0;e.length>s;s++)i=t(e[s],s),i!==w&&o.push(i);else if(j.isObject(e))for(n in e)e.hasOwnProperty(n)&&(i=t(e[n],n),i!==w&&o.push(i));return j([o])},j.each=function(e,t){var i,s;if(j.isArray(e)){for(i=0;e.length>i;i++)if(t(i,e[i])===!1)return e}else if(j.isObject(e))for(s in e)if(e.hasOwnProperty(s)&&t(s,e[s])===!1)return e;return e},j.extend=function(e){if(e==w&&(e=this),1===arguments.length){for(var t in e)this[t]=e[t];return this}return T.call(arguments,1).forEach(function(t){for(var i in t)e[i]=t[i]}),e},j.isArray=function(e){return e instanceof Array&&e.push!=w},j.isFunction=function(e){return"function"==typeof e},j.isObject=function(e){return"object"==typeof e},j.fn=M.prototype={constructor:M,forEach:x.forEach,reduce:x.reduce,push:x.push,indexOf:x.indexOf,concat:x.concat,selector:r,oldElement:w,slice:x.slice,setupOld:function(e){return e==w?j():(e.oldElement=this,e)},map:function(e){var t,i,s=[];for(i=0;this.length>i;i++)t=e(i,this[i]),t!==w&&s.push(t);return j([s])},each:function(e){return this.forEach(function(t,i){e.call(t,i,t)}),this},ready:function(e){return"complete"===_.readyState||"loaded"===_.readyState||!j.os.ie&&"interactive"===_.readyState?e():_.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(0===this.length)return this;for(var t,i=[],n=0;this.length>n;n++){t=j(e,this[n]);for(var o=0;t.length>o;o++)i.push(t[o])}return j(s(i))},html:function(e,t){if(0===this.length)return this;if(e===w)return this[0].innerHTML;for(var i=0;this.length>i;i++)t!==!1&&j.cleanUpContent(this[i],!1,!0),this[i].innerHTML=e;return this},text:function(e){if(0===this.length)return this;if(e===w)return this[0].textContent;for(var t=0;this.length>t;t++)this[t].textContent=e;return this},css:function(t,i,s){var n=s!=w?s:this[0];if(0===this.length)return this;if(i==w&&"string"==typeof t)return e.getComputedStyle(n),n.style[t]?n.style[t]:e.getComputedStyle(n)[t];for(var o=0;this.length>o;o++)if(j.isObject(t))for(var r in t)this[o].style[r]=t[r];else this[o].style[t]=i;return this},vendorCss:function(e,t,i){return this.css(j.feat.cssPrefix+e,t,i)},empty:function(){for(var e=0;this.length>e;e++)j.cleanUpContent(this[e],!1,!0),this[e].innerHTML="";return this},hide:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"!=this.css("display",null,this[e])&&(this[e].setAttribute("jqmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"==this.css("display",null,this[e])&&(this[e].style.display=this[e].getAttribute("jqmOldStyle")?this[e].getAttribute("jqmOldStyle"):"block",this[e].removeAttribute("jqmOldStyle"));return this},toggle:function(t){for(var i=t===!0?!0:!1,s=0;this.length>s;s++)"none"!==e.getComputedStyle(this[s]).display||t!==w&&i===!1?(this[s].setAttribute("jqmOldStyle",this[s].style.display),this[s].style.display="none"):(this[s].style.display=this[s].getAttribute("jqmOldStyle")!=w?this[s].getAttribute("jqmOldStyle"):"block",this[s].removeAttribute("jqmOldStyle"));return this},val:function(e){if(0===this.length)return e===w?w:this;if(e==w)return this[0].value;for(var t=0;this.length>t;t++)this[t].value=e;return this},attr:function(e,t){if(0===this.length)return t===w?w:this;if(t===w&&!j.isObject(e)){var i=this[0].jqmCacheId&&E[this[0].jqmCacheId][e]?this[0].jqmCacheId&&E[this[0].jqmCacheId][e]:this[0].getAttribute(e);return i}for(var s=0;this.length>s;s++)if(j.isObject(e))for(var n in e)j(this[s]).attr(n,e[n]);else j.isArray(t)||j.isObject(t)||j.isFunction(t)?(this[s].jqmCacheId||(this[s].jqmCacheId=j.uuid()),E[this[s].jqmCacheId]||(E[this[s].jqmCacheId]={}),E[this[s].jqmCacheId][e]=t):null==t&&t!==w?(this[s].removeAttribute(e),this[s].jqmCacheId&&E[this[s].jqmCacheId][e]&&delete E[this[s].jqmCacheId][e]):this[s].setAttribute(e,t);return this},removeAttr:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(s){t[i].removeAttribute(s),t[i].jqmCacheId&&E[t[i].jqmCacheId][e]&&delete E[t[i].jqmCacheId][e]});return this},prop:function(e,t){if(0===this.length)return t===w?w:this;if(t===w&&!j.isObject(e)){var i,s=this[0].jqmCacheId&&I[this[0].jqmCacheId][e]?this[0].jqmCacheId&&I[this[0].jqmCacheId][e]:!(i=this[0][e])&&e in this[0]?this[0][e]:i;return s}for(var n=0;this.length>n;n++)if(j.isObject(e))for(var o in e)j(this[n]).prop(o,e[o]);else j.isArray(t)||j.isObject(t)||j.isFunction(t)?(this[n].jqmCacheId||(this[n].jqmCacheId=j.uuid()),I[this[n].jqmCacheId]||(I[this[n].jqmCacheId]={}),I[this[n].jqmCacheId][e]=t):null==t&&t!==w?j(this[n]).removeProp(e):this[n][e]=t;return this},removeProp:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(s){t[i][s]&&delete t[i][s],t[i].jqmCacheId&&I[t[i].jqmCacheId][e]&&delete I[t[i].jqmCacheId][e]});return this},remove:function(e){var t=j(this).filter(e);if(t==w)return this;for(var i=0;t.length>i;i++)j.cleanUpContent(t[i],!0,!0),t[i].parentNode.removeChild(t[i]);return this},addClass:function(e){for(var t=0;this.length>t;t++){var i=this[t].className,s=[],n=this;e.split(/\s+/g).forEach(function(e){n.hasClass(e,n[t])||s.push(e)}),this[t].className+=(i?" ":"")+s.join(" "),this[t].className=this[t].className.trim()}return this},removeClass:function(e){for(var t=0;this.length>t;t++){if(e==w)return this[t].className="",this;var s=this[t].className;e.split(/\s+/g).forEach(function(e){s=s.replace(i(e)," ")}),this[t].className=s.length>0?s.trim():""}return this},replaceClass:function(e,t){for(var s=0;this.length>s;s++)if(e!=w){var n=this[s].className;e.split(/\s+/g).concat(t.split(/\s+/g)).forEach(function(e){n=n.replace(i(e)," ")}),n=n.trim(),this[s].className=n.length>0?(n+" "+t).trim():t}else this[s].className=t;return this},hasClass:function(e,t){return 0===this.length?!1:(t||(t=this[0]),i(e).test(t.className))},append:function(i,s){if(i&&i.length!=w&&0===i.length)return this;(j.isArray(i)||j.isObject(i))&&(i=j(i));var n;for(n=0;this.length>n;n++)if(i.length&&"string"!=typeof i)i=j(i),t(i,this[n],s);else{var o=k.test(i)?j(i):w;(o==w||0==o.length)&&(o=_.createTextNode(i)),o.nodeName==w||"script"!=o.nodeName.toLowerCase()||o.type&&"text/javascript"!==o.type.toLowerCase()?o instanceof M?t(o,this[n],s):s!=w?this[n].insertBefore(o,this[n].firstChild):this[n].appendChild(o):e.eval(o.innerHTML)}return this},appendTo:function(e){var t=j(e);return t.append(this),this},prependTo:function(e){var t=j(e);return t.append(this,!0),this},prepend:function(e){return this.append(e,1)},insertBefore:function(e,t){if(0==this.length)return this;if(e=j(e).get(0),!e)return this;for(var i=0;this.length>i;i++)t?e.parentNode.insertBefore(this[i],e.nextSibling):e.parentNode.insertBefore(this[i],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){return e=e==w?0:e,0>e&&(e+=this.length),this[e]?this[e]:w},offset:function(){if(0===this.length)return this;if(this[0]==e)return{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight};var t=this[0].getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top}},height:function(t){if(0===this.length)return this;if(t!=w)return this.css("height",t);if(this[0]==this[0].window)return e.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var i=this.css("height").replace("px","");return i?i:this.offset().height},width:function(t){if(0===this.length)return this;if(t!=w)return this.css("width",t);if(this[0]==this[0].window)return e.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var i=this.css("width").replace("px","");return i?i:this.offset().width},parent:function(e,t){if(0==this.length)return this;for(var i=[],n=0;this.length>n;n++)for(var o=this[n];o.parentNode&&o.parentNode!=_&&(i.push(o.parentNode),o.parentNode&&(o=o.parentNode),t););return this.setupOld(j(s(i)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t=t.concat(n(this[i].firstChild));return this.setupOld(j(t).filter(e))},siblings:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)this[i].parentNode&&(t=t.concat(n(this[i].parentNode.firstChild,this[i])));return this.setupOld(j(t).filter(e))},closest:function(e,t){if(0==this.length)return this;var i=this[0],s=j(e,t);if(0==s.length)return j();for(;i&&-1==s.indexOf(i);)i=i!==t&&i!==_&&i.parentNode;return j(i)},filter:function(e){if(0==this.length)return this;if(e==w)return this;for(var t=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&j(e,n.parentNode).indexOf(n)>=0&&t.push(n)}return this.setupOld(j(s(t)))},not:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&-1==j(e,n.parentNode).indexOf(n)&&t.push(n)}return this.setupOld(j(s(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=w?this.oldElement:j()},clone:function(e){if(e=e===!1?!1:!0,0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t.push(this[i].cloneNode(e));return j(t)},size:function(){return this.length},serialize:function(){if(0==this.length)return"";for(var e=[],t=0;this.length>t;t++)this.slice.call(this[t].elements).forEach(function(t){var i=t.getAttribute("type");if("fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||t.checked)&&t.getAttribute("name"))if("select-multiple"==t.type)for(var s=0;t.options.length>s;s++)t.options[s].selected&&e.push(t.getAttribute("name")+"="+encodeURIComponent(t.options[s].value));else e.push(t.getAttribute("name")+"="+encodeURIComponent(t.value))});return e.join("&")},eq:function(e){return j(this.get(e))},index:function(e){return e?this.indexOf(j(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&this.filter(e).length>0}};var B={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:w,timeout:0,crossDomain:null};j.jsonP=function(t){var i,s="jsonp_callback"+ ++C,n="",o=_.createElement("script");return e[s]=function(r){clearTimeout(n),j(o).remove(),delete e[s],t.success.call(i,r)},o.src=t.url.replace(/=\?/,"="+s),t.error&&(o.onerror=function(){clearTimeout(n),t.error.call(i,"","error")}),j("head").append(o),t.timeout>0&&(n=setTimeout(function(){t.error.call(i,"","timeout")},t.timeout)),{}},j.ajax=function(t){var i;try{var s=t||{};for(var n in B)s[n]===w&&(s[n]=B[n]);if(s.url||(s.url=e.location),s.contentType||(s.contentType="application/x-www-form-urlencoded"),s.headers||(s.headers={}),"async"in s&&s.async===!1||(s.async=!0),s.dataType)switch(s.dataType){case"script":s.dataType="text/javascript, application/javascript";break;case"json":s.dataType="application/json";break;case"xml":s.dataType="application/xml, text/xml";break;case"html":s.dataType="text/html";break;case"text":s.dataType="text/plain";break;default:s.dataType="text/html";break;case"jsonp":return j.jsonP(t)}else s.dataType="text/html";if(j.isObject(s.data)&&(s.data=j.param(s.data)),"get"===s.type.toLowerCase()&&s.data&&(s.url+=-1===s.url.indexOf("?")?"?"+s.data:"&"+s.data),/=\?/.test(s.url))return j.jsonP(s);null===s.crossDomain&&(s.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(s.url)&&RegExp.$2!=e.location.host),s.crossDomain||(s.headers=j.extend({"X-Requested-With":"XMLHttpRequest"},s.headers));var o,r=s.context,l=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:e.location.protocol;i=new e.XMLHttpRequest,i.onreadystatechange=function(){var e=s.dataType;if(4===i.readyState){clearTimeout(o);var t,n=!1;if(i.status>=200&&300>i.status||0===i.status&&"file:"==l){if("application/json"!==e||/^\s*$/.test(i.responseText))"application/xml, text/xml"===e?t=i.responseXML:"text/html"==e?(t=i.responseText,j.parseJS(t)):t=i.responseText;else try{t=JSON.parse(i.responseText)}catch(a){n=a}0===i.status&&0===t.length&&(n=!0),n?s.error.call(r,i,"parsererror",n):s.success.call(r,t,"success",i)}else n=!0,s.error.call(r,i,"error");s.complete.call(r,i,n?"error":"success")}},i.open(s.type,s.url,s.async),s.withCredentials&&(i.withCredentials=!0),s.contentType&&(s.headers["Content-Type"]=s.contentType);for(var c in s.headers)i.setRequestHeader(c,s.headers[c]);if(s.beforeSend.call(r,i,s)===!1)return i.abort(),!1;s.timeout>0&&(o=setTimeout(function(){i.onreadystatechange=a,i.abort(),s.error.call(r,i,"timeout")},s.timeout)),i.send(s.data)}catch(h){s.error.call(r,i,"error",h)}return i},j.get=function(e,t){return this.ajax({url:e,success:t})},j.post=function(e,t,i,s){return"function"==typeof t&&(i=t,t={}),s===w&&(s="html"),this.ajax({url:e,type:"POST",data:t,dataType:s,success:i})},j.getJSON=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this.ajax({url:e,data:t,success:i,dataType:"json"})},j.param=function(e,t){var i=[];if(e instanceof M)e.each(function(){var e=t?t+"[]":this.id,s=this.value;i.push(e+"="+encodeURIComponent(s))});else for(var s in e){var n=t?t+"["+s+"]":s,o=e[s];i.push(j.isObject(o)?j.param(o,n):n+"="+encodeURIComponent(o))}return i.join("&")},j.parseJSON=function(e){return JSON.parse(e)},j.parseXML=function(e){return(new DOMParser).parseFromString(e,"text/xml")},c(j,navigator.userAgent),j.__detectUA=c,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+|\s+$/,""),this}),j.uuid=function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},j.getCssMatrix=function(t){if(t==w)return e.WebKitCSSMatrix||e.MSCSSMatrix||{a:0,b:0,c:0,d:0,e:0,f:0};try{if(e.WebKitCSSMatrix)return new WebKitCSSMatrix(e.getComputedStyle(t).webkitTransform);if(e.MSCSSMatrix)return new MSCSSMatrix(e.getComputedStyle(t).transform);var i=e.getComputedStyle(t)[j.feat.cssPrefix+"Transform"].replace(/[^0-9\-.,]/g,"").split(",");return{a:+i[0],b:+i[1],c:+i[2],d:+i[3],e:+i[4],f:+i[5]}}catch(s){return{a:0,b:0,c:0,d:0,e:0,f:0}}};var P={},D=1;j.event={add:m,remove:v},j.fn.bind=function(e,t){for(var i=0;this.length>i;i++)m(this[i],e,t);return this},j.fn.unbind=function(e,t){for(var i=0;this.length>i;i++)v(this[i],e,t);return this},j.fn.one=function(e,t){return this.each(function(i,s){m(this,e,t,null,function(e,t){return function(){var i=e.apply(s,arguments);return v(s,t,e),i}})})};var A=function(){return!0},L=function(){return!1},H={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};j.fn.delegate=function(e,t,i){for(var s=0;this.length>s;s++){var n=this[s];m(n,t,i,e,function(t){return function(i){var s,o=j(i.target).closest(e,n).get(0);return o?(s=j.extend(g(i),{currentTarget:o,liveFired:n}),t.apply(o,[s].concat([].slice.call(arguments,1)))):w}})}return this},j.fn.undelegate=function(e,t,i){for(var s=0;this.length>s;s++)v(this[s],t,i,e);return this},j.fn.on=function(e,t,i){return t===w||j.isFunction(t)?this.bind(e,t):this.delegate(t,e,i)},j.fn.off=function(e,t,i){return t===w||j.isFunction(t)?this.unbind(e,t):this.undelegate(t,e,i)},j.fn.trigger=function(e,t,i){"string"==typeof e&&(e=j.Event(e,i)),e.data=t;for(var s=0;this.length>s;s++)this[s].dispatchEvent(e);return this},j.Event=function(e,t){var i=_.createEvent("Events"),s=!0;if(t)for(var n in t)"bubbles"==n?s=!!t[n]:i[n]=t[n];return i.initEvent(e,s,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},j.bind=function(e,t,i){e.__events||(e.__events={}),j.isArray(t)||(t=[t]);for(var s=0;t.length>s;s++)e.__events[t[s]]||(e.__events[t[s]]=[]),e.__events[t[s]].push(i)},j.trigger=function(e,t,i){var s=!0;if(!e.__events)return s;j.isArray(t)||(t=[t]),j.isArray(i)||(i=[]);for(var n=0;t.length>n;n++)if(e.__events[t[n]])for(var o=e.__events[t[n]],r=0;o.length>r;r++)j.isFunction(o[r])&&o[r].apply(e,i)===!1&&(s=!1);return s},j.unbind=function(e,t,i){if(e.__events){j.isArray(t)||(t=[t]);for(var s=0;t.length>s;s++)if(e.__events[t[s]])for(var n=e.__events[t[s]],o=0;n.length>o;o++)if(i==w&&delete n[o],n[o]==i){n.splice(o,1);break}}},j.proxy=function(e,t,i){return function(){return i?e.apply(t,i):e.apply(t,arguments)}};var O=function(e,t){for(var i=0;e.length>i;i++)b(e[i],t)};j.cleanUpContent=function(e,t,i){if(e){var s=e.childNodes;s&&s.length>0&&j.asap(O,{},[T.apply(s,[0]),i]),t&&y(e,i)}};var Y=[],q=[],N=[];j.asap=function(t,i,s){if(!j.isFunction(t))throw"$.asap - argument is not a valid function";Y.push(t),q.push(i?i:{}),N.push(s?s:[]),e.postMessage("jqm-asap","*")},e.addEventListener("message",function(t){t.source==e&&"jqm-asap"==t.data&&(t.stopPropagation(),Y.length>0&&Y.shift().apply(q.shift(),N.shift()))},!0);var F={};return j.parseJS=function(t){if(t){if("string"==typeof t){var i=_.createElement("div");i.innerHTML=t,t=i}var s=t.getElementsByTagName("script");t=null;for(var n=0;s.length>n;n++)if(s[n].src.length>0&&!F[s[n].src]){var o=_.createElement("script");o.type=s[n].type,o.src=s[n].src,_.getElementsByTagName("head")[0].appendChild(o),F[s[n].src]=1,o=null}else e.eval(s[n].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(e){j.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),j}(window);"$"in window||(window.$=jq),window.numOnly||(window.numOnly=function numOnly(e){if(void 0===e||""===e)return 0;if(isNaN(parseFloat(e))){if(!e.replace)return 0;e=e.replace(/[^0-9.-]/,"")}return parseFloat(e)})}if(function(e){function t(e){throw e}function i(e,t){var i,s,n=[],o=[],r=0;if("UTF8"==t)for(s=0;e.length>s;s+=1)for(i=e.charCodeAt(s),o=[],i>2048?(o[0]=224|(61440&i)>>>12,o[1]=128|(4032&i)>>>6,o[2]=128|63&i):i>128?(o[0]=192|(1984&i)>>>6,o[1]=128|63&i):o[0]=i,i=0;o.length>i;i+=1)n[r>>>2]|=o[i]<<24-8*(r%4),r+=1;else if("UTF16"==t)for(s=0;e.length>s;s+=1)n[r>>>2]|=e.charCodeAt(s)<<16-8*(r%4),r+=2;return{value:n,binLen:8*r}}function s(e){var i,s,n=[],o=e.length;for(0!==o%2&&t("String of HEX type must be in byte increments"),i=0;o>i;i+=2)s=parseInt(e.substr(i,2),16),isNaN(s)&&t("String of HEX type contains invalid characters"),n[i>>>3]|=s<<24-4*(i%8);return{value:n,binLen:4*o}}function n(e){var i,s,n,o,r,l=[],a=0;for(-1===e.search(/^[a-zA-Z0-9=+\/]+$/)&&t("Invalid character in base-64 string"),i=e.indexOf("="),e=e.replace(/\=/g,""),-1!==i&&e.length>i&&t("Invalid '=' found in base-64 string"),s=0;e.length>s;s+=4){for(r=e.substr(s,4),n=o=0;r.length>n;n+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(r[n]),o|=i<<18-6*n;for(n=0;r.length-1>n;n+=1)l[a>>2]|=(255&o>>>16-8*n)<<24-8*(a%4),a+=1}return{value:l,binLen:8*a}}function o(e,t){var i,s,n="",o=4*e.length;for(i=0;o>i;i+=1)s=e[i>>>2]>>>8*(3-i%4),n+="0123456789abcdef".charAt(15&s>>>4)+"0123456789abcdef".charAt(15&s);return t.outputUpper?n.toUpperCase():n}function r(e,t){var i,s,n,o="",r=4*e.length;for(i=0;r>i;i+=3)for(n=(255&e[i>>>2]>>>8*(3-i%4))<<16|(255&e[i+1>>>2]>>>8*(3-(i+1)%4))<<8|255&e[i+2>>>2]>>>8*(3-(i+2)%4),s=0;4>s;s+=1)o=32*e.length>=8*i+6*s?o+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&n>>>6*(3-s)):o+t.b64Pad;return o}function l(e){var i={outputUpper:!1,b64Pad:"="};try{e.hasOwnProperty("outputUpper")&&(i.outputUpper=e.outputUpper),e.hasOwnProperty("b64Pad")&&(i.b64Pad=e.b64Pad)}catch(s){}return"boolean"!=typeof i.outputUpper&&t("Invalid outputUpper formatting option"),"string"!=typeof i.b64Pad&&t("Invalid b64Pad formatting option"),i}function a(e,t){var i=(65535&e)+(65535&t);return(65535&(e>>>16)+(t>>>16)+(i>>>16))<<16|65535&i}function c(e,t,i,s,n){var o=(65535&e)+(65535&t)+(65535&i)+(65535&s)+(65535&n);return(65535&(e>>>16)+(t>>>16)+(i>>>16)+(s>>>16)+(n>>>16)+(o>>>16))<<16|65535&o}function h(e,t){var i,s,n,o,r,l,h,d,u,f=[],p=[1732584193,4023233417,2562383102,271733878,3285377520],m=[1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1518500249,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,1859775393,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,2400959708,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782,3395469782];for(e[t>>>5]|=128<<24-t%32,e[(t+65>>>9<<4)+15]=t,u=e.length,h=0;u>h;h+=16){for(i=p[0],s=p[1],n=p[2],o=p[3],r=p[4],d=0;80>d;d+=1)f[d]=16>d?e[d+h]:(f[d-3]^f[d-8]^f[d-14]^f[d-16])<<1|(f[d-3]^f[d-8]^f[d-14]^f[d-16])>>>31,l=20>d?c(i<<5|i>>>27,s&n^~s&o,r,m[d],f[d]):40>d?c(i<<5|i>>>27,s^n^o,r,m[d],f[d]):60>d?c(i<<5|i>>>27,s&n^s&o^n&o,r,m[d],f[d]):c(i<<5|i>>>27,s^n^o,r,m[d],f[d]),r=o,o=n,n=s<<30|s>>>2,s=i,i=l;p[0]=a(i,p[0]),p[1]=a(s,p[1]),p[2]=a(n,p[2]),p[3]=a(o,p[3]),p[4]=a(r,p[4])}return p}e.jsSHA=function(e,a,c){var d=null,u=0,f=[0],p="",m=null,p=c!==void 0?c:"UTF8";"UTF8"===p||"UTF16"===p||t("encoding must be UTF8 or UTF16"),"HEX"===a?(0!==e.length%2&&t("srcString of HEX type must be in byte increments"),m=s(e),u=m.binLen,f=m.value):"ASCII"===a||"TEXT"===a?(m=i(e,p),u=m.binLen,f=m.value):"B64"===a?(m=n(e),u=m.binLen,f=m.value):t("inputFormat must be HEX, TEXT, ASCII, or B64"),this.getHash=function(e,i,s){var n=null,a=f.slice(),c="";switch(i){case"HEX":n=o;break;case"B64":n=r;break;default:t("format must be HEX or B64")}return"SHA-1"===e?(null===d&&(d=h(a,u)),c=n(d,l(s))):t("Chosen SHA variant is not supported"),c},this.getHMAC=function(e,a,c,d,m){var v,g,y,b,w,_,x=[],T=[],S=null;switch(d){case"HEX":v=o;break;case"B64":v=r;break;default:t("outputFormat must be HEX or B64")}for("SHA-1"===c?(y=64,_=160):t("Chosen SHA variant is not supported"),"HEX"===a?(S=s(e),w=S.binLen,g=S.value):"ASCII"===a||"TEXT"===a?(S=i(e,p),w=S.binLen,g=S.value):"B64"===a?(S=n(e),w=S.binLen,g=S.value):t("inputFormat must be HEX, TEXT, ASCII, or B64"),e=8*y,a=y/4-1,w/8>y?("SHA-1"===c?g=h(g,w):t("Unexpected error in HMAC implementation"),g[a]&=4294967040):y>w/8&&(g[a]&=4294967040),y=0;a>=y;y+=1)x[y]=909522486^g[y],T[y]=1549556828^g[y];return"SHA-1"===c?b=h(T.concat(h(x.concat(f),e+u)),e+_):t("Unexpected error in HMAC implementation"),v(b,l(m))}}}(this),function(e){var t=window.location.hash,i=t,s=function(){this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition};s.prototype={header_id:"#header",footer_id:"#footer",content_id:"#content",panel_id:"#panel",side_menu_id:"#side_menu",left_button_id:"#top_left_button",right_button_id:"#top_right_button",active_footer_button_id:"",active_footer_class:"active_footer_button",title_id:"#title",ui_kit_container_id:"#ui_kit",starting_panel_id:"#starting_panel",default_header_content:"",default_footer_content:"",default_side_menu_content:"",last_click:"",cached_pages:[],pages_created:0,pages_in_dom:0,delete_queue:{},on_unload:null,load_content_queue:[],footer:"",header:"",ui_kit_container:"",left_button:"",history:[],homeDiv:"",screen_width:"",content_string:"",modal_window:"",custom_footer:!1,default_footer:"",default_header:null,custom_menu:!1,default_menu:"",_readyFunc:null,doing_transition:!1,password_box:e.password_box?new e.password_box:!1,select_box:e.select_box?e.select_box:!1,ajax_url:"",transition_effect:"fade",scrolling_divs:[],firstDiv:"",has_launched:!1,launch_completed:!1,active_div:"",custom_click_handler:"",menu_animation:null,side_menu_displayed:!1,show_footer_menu:!0,auto_launch:!0,showBackbutton:!0,left_button_text:"Back",reset_scrollers:!0,load_default_hash:!0,useAjaxCacheBuster:!1,autoBoot:function(){this.auto_launch&&this.launch()},launch:function(){if(!this.has_launched){this.has_launched=!0;var s=this;this.ui_kit_container=e(this.ui_kit_container_id),this.footer=e(this.footer_id).get(0),this.content_string=e(this.content_id).get(0),this.header=e(this.header_id).get(0),this.left_button=e(this.left_button_id).get(0),this.right_button=e(this.right_button_id).get(0),this.menu=e(this.side_menu_id).get(0),this.ui_kit_container[0].addEventListener("click",function(t){e.ui.checkAnchorClick(t,t.target)},!1),this.os_specific_fixes(),e(document).on("click",".back_button",function(){s.go_back()});var n=e(this.starting_panel_id)[0],o=n,r=n.previousSibling;if(n.parentNode.removeChild(n),this.addDivAndScroll(o),e(this.starting_panel_id).insertAfter(r),this.firstDiv=e(this.starting_panel_id).get(0),n=null,this.firstDiv){s=this,this.active_div=this.firstDiv,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable();var l=function(){s.default_header=e("#header").children().clone();var n=s.get_panel_id_from_hash(t);n.length>0&&s.load_default_hash&&n!=="#"+s.firstDiv.id&&e(n).length>0?s.load_content(t,!0,!1,"none"):(i="#"+s.firstDiv.id,s.loadContentData(s.firstDiv),s.firstDiv.style.display="block",e("#header #left_button").css("visibility","hidden")),s.launch_completed=!0,e(document).trigger("$.ui.ready")};l()}s=this,e.bind(s,"content-loaded",function(){if(s.load_content_queue.length>0){var e=s.load_content_queue.splice(0,1)[0];s.load_content(e[0],e[1],e[2],e[3],e[4])}}),window.navigator.standalone&&this.blockPageScroll(),this.topClickScroll()}},toggle_visibility:function(t,i){return i===!0?(e(t).show(),void 0):i===!1?(e(t).hide(),void 0):(e(t).toggle(),void 0)},dispose:function(){},set_element:function(t,i){i&&i!==t?(t=e(t),t.html(e(i).html()),t.children().show()):i===t?e(t).children().show():i||e(t).children().hide()
},set_active_footer_button:function(t){e(this.current_footer_button_id).removeClass(this.active_footer_class),e(t).addClass(this.active_footer_class),this.current_footer_button_id=t},set_footer:function(t){t?(e(this.footer_id).hide(),this.footer_id=t,e(t).show()):e(this.footer_id).hide()},toggle_footer_menu:function(t){"none"!==e(this.footer_id).css("display")&&(void 0!==t&&t!==!0||void 0===t)?(e("#content").css("bottom","0px"),e(this.footer_id).hide()):(void 0===t||void 0!==t&&t===!0)&&(e(this.footer_id).show(),e("#content").css("bottom",e(this.footer_id).css("height")))},set_header:function(e){e?(this.set_element(this.header_id,e),this.toggle_header_menu(!0)):this.toggle_header_menu(!1)},toggle_header_menu:function(t){"none"!==e("#header").css("display")&&(void 0!==t&&t!==!0||void 0===t)?e("#header").hide():(void 0===t||void 0!==t&&t===!0)&&e(this.header_id).show()},set_left_button:function(e){this.set_element(this.left_button_id,e)},set_right_button:function(e){this.set_element(this.right_button_id,e)},os_specific_fixes:function(){var t=this,i=null;e.bind(e.touch_layer,"enter-edit",function(e){i=e}),e.bind(e.touch_layer,"enter-edit-reshape",function(){var s=e(i),n=s.closest(t.active_div);if(n&&n.size()>0)if(e.os.ios||e.os.chrome){var o,r;o=document.body.scrollTop?document.body.scrollTop-n.offset().top:0,r=n.offset().bottom-s.offset().bottom,t.scrolling_divs[t.active_div.id].setPaddings(o,r)}else if(e.os.android||e.os.blackberry){var l=s.offset(),a=n.offset();l.bottom>a.bottom&&l.height<a.height&&t.scrolling_divs[t.active_div.id].scrollToItem(s,"bottom")}}),e.os.ios&&e.bind(e.touch_layer,"exit-edit-reshape",function(){t.scrolling_divs[t.active_div.id].setPaddings(0,0)})},css3animate:function(t,i){return t=e(t),t.css3Animate(i)},actionsheet:function(t){return e("#ui_kit").actionsheet(t)},popup:function(t){return e("#ui_kit").popup(t)},ready:function(e){this.launch_completed?e():document.addEventListener("$.ui.ready",function(){e(),this.removeEventListener("$.ui.ready",arguments.callee)},!1)},go_back:function(){if(this.history.length>0){this.history.pop();var t=this.history.pop();e.mvc.route(t)}},clear_history:function(){this.history=[]},get_panel_id_from_hash:function(e){var t=e.indexOf("/");return-1===t?e:e.substring(0,t)},update_content_div:function(t,i){t="#"+t.replace("#","");var s=e(t).get(0);if(s){var n=document.createElement("div");n.innerHTML=i,e(n).children(".panel")&&e(n).children(".panel").length>0&&(n=e(n).children(".panel").get()),s.getAttribute("js-scrolling")&&"yes"===s.getAttribute("js-scrolling").toLowerCase()?(e.cleanUpContent(s.childNodes[0],!1,!0),s.childNodes[0].innerHTML=i):(e.cleanUpContent(s,!1,!0),s.innerHTML=i),e(n).title&&(s.title=e(n).title)}},add_content_div:function(t,i,s,n){t="string"!=typeof t?t:-1===t.indexOf("#")?"#"+t:t;var o,r,l=e(t).get(0);return l?o=l:(o=document.createElement("div"),o.innerHTML=i,e(o).children(".panel")&&e(o).children(".panel").length>0&&(o=e(o).children(".panel").get()),!o.title&&s&&(o.title=s),r=o.id?o.id:t.replace("#",""),o.id=r),o.className="panel",r=o.id,this.addDivAndScroll(o,n),l=null,o=null,r},load_content:function(e,t,i,s,n){if(this.doing_transition)this.load_content_queue.push([e,t,i,s,n]);else{if(0===e.length)return;this.loadDiv(e,t,i,s)}},loadDiv:function(t,i,s,n){t=t.replace("#","");var o=t.indexOf("/");-1!==o&&(t=t.substr(0,o));var r=e("#"+t).get(0);if(!r)return 0;this.transition_effect=n;var l=this.active_div;if(l!==r){i&&this.clear_history(),this.doing_transition=!0,l.style.display="block",r.style.display="block",this.runTransition(n,l,r,s),this.loadContentData(r);var a=this;setTimeout(function(){a.scrolling_divs[l.id]&&a.scrolling_divs[l.id].disable()},200)}},loadContentData:function(t){t.title&&e(this.title_id).html(t.title),this.active_div=t,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable(this.reset_scrollers)},runTransition:function(e,t,i,s){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,i,s)},addDivAndScroll:function(t,i){var s,n=!1,o=t.style.overflow,r="hidden"!==o&&"visible"!==o,l=this.content_string;!e.feat.nativeTouchScroll&&r&&t.setAttribute("js-scrolling","yes"),t.getAttribute("js-scrolling")&&"yes"===t.getAttribute("js-scrolling").toLowerCase()&&(n=!0,r=!0),t.getAttribute("scrolling")&&"no"===t.getAttribute("scrolling")&&(r=!1,n=!1,t.removeAttribute("js-scrolling")),n?(s=t.cloneNode(!1),t.title=null,t.id=null,e(t).replaceClass("panel","jqmScrollPanel"),s.appendChild(t),l.appendChild(s),this.select_box!==!1&&this.select_box.getOldSelects(s.id),this.password_box!==!1&&this.password_box.getOldPasswords(s.id)):(l.appendChild(t),s=t,t.style["-webkit-overflow-scrolling"]="none"),r&&(this.scrolling_divs[s.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"jqmScrollbar",refresh:i,useJsScroll:n,noParent:!n,autoEnable:!1})),t=null,s=null},scrollToTop:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToTop("300ms")},scrollToBottom:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToBottom("300ms")},topClickScroll:function(){document.getElementById("header").addEventListener("click",function(t){15>=t.clientY&&"h1"===t.target.nodeName.toLowerCase()&&e.ui.scrolling_divs[e.ui.active_div.id].scrollToTop("100")})},blockPageScroll:function(){e("#ui_kit #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t){t.style.display="block",e.style.display="block";var i=this;i.clearAnimations(t),i.css3animate(e,{x:"0%",y:0}),i.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,i){t.style.display="none",this.doing_transition=!1,i&&this.clearAnimations(i),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}},e.ui=new s}(jq),function(e){e.ui.checkAnchorClick=function(t,i){return i!==e.ui.ui_kit_container_id?i.tagName&&"a"!==i.tagName.toLowerCase()&&i.parentNode?e.ui.checkAnchorClick(t,i.parentNode):i.tagName&&"a"===i.tagName.toLowerCase()&&e.mvc.route(i)?t.preventDefault():void 0:void 0}}(jq),function(e){e.fn.actionsheet=function(e){for(var i,s=0;this.length>s;s++)i=new t(this[s],e);return 1==this.length?i:this};var t=function(){var t=function(i,s){if(this.element="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.element)return alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof t))return new t(i,s);if("object"==typeof s)for(var n in s)this[n]=s[n];try{var o,r=this,l='<div id="jq_actionsheet"><div style="width:100%">',a="</div></div>";if("string"==typeof s)o=e(l+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof s){o=e(l+a);var c=e(o.children().get());s.push({text:"Cancel",cssClasses:"cancel"});for(var h=0;s.length>h;h++){var d=e('<a href="javascript:;" >'+(s[h].text||"TEXT NOT ENTERED")+"</a>");d[0].onclick=s[h].handler||function(){},s[h].cssClasses&&s[h].cssClasses.length>0&&d.addClass(s[h].cssClasses),c.append(d)}}e(i).find("#jq_actionsheet").remove(),e(i).find("#jq_action_mask").remove(),actionsheetEl=e(i).append(o),o.get().style[e.feat.cssPrefix+"Transition"]="all 0ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0"+e.feat.cssTransformEnd),o.css("top",window.innerHeight+"px"),this.element.style.overflow="hidden",o.on("click","a",function(){r.hideSheet()}),this.activeSheet=o,e(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){o.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,"+-o.height()+"px"+e.feat.cssTransformEnd)},10)}catch(u){alert("error adding actionsheet"+u)}};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.element).find("#jq_action_mask").remove(),this.activeSheet.get().style[e.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,s=this.element;setTimeout(function(){i.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",i.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0px"+e.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},t}()}(jq),function(e){e.get_with_token=function(t){e.ajax({type:"GET",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.url,data:t.data,success:t.success,error:t.error})},e.post_with_token=function(t){e.ajax({type:"POST",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.url,data:t.data,success:t.success,error:t.error})},e.put_with_token=function(t){e.ajax({type:"PUT",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.url,data:t.data,success:t.success,error:t.error})},e.delete_with_token=function(t){e.ajax({type:"DELETE",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.url,data:t.data,success:t.success,error:t.error})}}(jq),function(e){var t=[],i=function(t){return t.jqmCSS3AnimateId||(t.jqmCSS3AnimateId=e.uuid()),t.jqmCSS3AnimateId},s=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},n=function(e,n){var o,r,l=s(e);return r=i(l),t[r]?(t[r].animate(n),o=t[r]):(o=a(l,n),t[r]=o),o};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=n(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var i=1;this.length>i;i++)t.link(this[i],e);return t},e.css3AnimateQueue=function(){return new a.queue};var o=e.feat.cssTransformStart,r=e.feat.cssTransformEnd,l=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=e.os.fennec||""==e.feat.cssPrefix||e.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.element=s,this.linkFinishedProxy_=e.proxy(this.linkFinished,this),this.element){this.animate(n);var o=this;jq(this.element).bind("destroy",function(){var e=o.element.jqmCSS3AnimateId;o.callbacksStack=[],t[e]&&delete t[e]})}};return i.prototype={animate:function(t){if(this.isActive&&this.cancel(),this.isActive=!0,!t)return alert("Please provide configuration options for animation of "+this.element.id),void 0;var i=!!t.addClass;if(i)t.removeClass?jq(this.element).replaceClass(t.removeClass,t.addClass):jq(this.element).addClass(t.addClass);else{var s=numOnly(t.time);if(0==s&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous){var n=new e.getCssMatrix(this.element);t.y+=numOnly(n.f),t.x+=numOnly(n.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear"),("number"==typeof t.x||-1==t.x.indexOf("%")&&-1==t.x.toLowerCase().indexOf("px")&&-1==t.x.toLowerCase().indexOf("deg"))&&(t.x=parseInt(t.x)+"px"),("number"==typeof t.y||-1==t.y.indexOf("%")&&-1==t.y.toLowerCase().indexOf("px")&&-1==t.y.toLowerCase().indexOf("deg"))&&(t.y=parseInt(t.y)+"px");var a="translate"+o+t.x+","+t.y+r+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(a+=" rotateY("+t.rotateY+")"),a+=" skew("+t.skewX+","+t.skewY+")",this.element.style[e.feat.cssPrefix+"Transform"]=a,this.element.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";if(void 0!==t.opacity&&(this.element.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.element.style.width=t.width,c="all"),t.height&&(this.element.style.height=t.height,c="all"),this.element.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s"))var h="ms",d=t.time+h;else if(-1!==t.time.indexOf("ms"))var h="ms",d=t.time;else var h="s",d=t.time+h;this.element.style[e.feat.cssPrefix+"TransitionDuration"]=d,this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.element.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.element);if(i){var p=f[e.feat.cssPrefix+"TransitionDuration"],s=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==s||"ms"==h&&5>s||"none"==f.display)e.asap(e.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(e){clearTimeout(u.timeout),u.finishAnimation(e),u.element.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.element.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var i=0;t.length>i;i++){var s=t[i].complete,n=t[i].success,o=t[i].failure;s&&"function"==typeof s&&s(e),e&&o&&"function"==typeof o?o():n&&"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.element.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var i={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(i),t.success=null,t.failure=null,n(e,t),t.complete=i.complete,t.success=i.success,t.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var t=this.shift();t()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(t){t||e.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(e){e.ui.cached_pages=void 0!==window.localStorage.getItem("cached_pages")?e.ui.cached_pages||JSON.parse(window.localStorage.getItem("cached_pages")):{},e.ui.cached_pages.save=function(){window.localStorage.setItem("cached_pages",JSON.stringify(e.ui.cached_pages))}}(jq),function(e){e.ui.show_modal=function(t){var i=this;t="#"+t.replace("#","");try{e(t)&&(jq("#modalContainer").html(e.feat.nativeTouchScroll?e(t).html():e(t).get(0).childNodes[0].innerHTML+"",!0),e("#modalContainer").append("<a href='javascript:;' onclick='$.ui.hide_modal();' class='closebutton modalbutton'></a>"),this.modal_window.style.display="block",this.scrolling_divs.modal_container.enable(i.reset_scrollers),this.scrollToTop("modal"),e("#modalContainer").data("panel",t))}catch(s){}},e.ui.hide_modal=function(){var t=e("#modalContainer");t.html("",!0),e("#modal_ui").hide(),this.scrolling_divs.modal_container.disable();var i=e(t.data("panel")),s=i.data("unload");"string"==typeof s&&window[s]&&window[s](i.get(0))}}(jq),function(e){e.password_box=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for password_box "+t),void 0;for(var s=i.getElementsByTagName("input"),n=0;s.length>n;n++)"password"==s[n].type&&e.os.webkit&&(s[n].type="text",s[n].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(t,i){t=parseInt(t);var s=document.getElementById(i);s.style[e.cssPrefix+"text-security"]=1==t?"none":"disc",e.os.webkit||(s.type=1==t?"text":"password"),s=null}}}(jq),function(){}(jq),function(e){e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=id=s.id=s.id||e.uuid(),this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,t.push(this),1==t.length&&this.show()}catch(n){}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";e(this.container).append(e(i));var s=e("#"+this.id);s.bind("close",function(){t.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"==i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.block_ui(.5),s.removeClass("hidden"),s.bind("orientationchange",function(){t.positionPopup()}),s.find("header").show(),s.find("footer").show(),this.onShow(this)},hide:function(){var t=this;e("#"+t.id).addClass("hidden"),e.unblock_ui(),setTimeout(function(){t.remove()},250)},remove:function(){var i=this,s=e("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),s=!1;e.block_ui=function(t){s||(t=t?" style='opacity:"+t+";'":"",e("BODY").prepend(e("<div id='mask'"+t+"></div>")),e("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),s=!0)},e.unblock_ui=function(){s=!1,e("BODY DIV#mask").unbind("touchstart"),e("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()},window.alert=function(t){(null===t||void 0===t)&&(t="null"),e("#ui_kit").length>0?e("#ui_kit").popup(""+t):e(document.body).popup(""+t)}}(jq),function(e){function t(e){return n[e].element?!0:(delete n[e],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;e.bind(e.touch_layer,"pre-enter-edit",function(e){if(!i){i=!0;for(var s in n)t(s)&&n[s].needsFormsFix(e)&&n[s].startFormsMode()}}),e.bind(e.touch_layer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var e in n)t(e)&&n[e].androidFormsMode&&n[e].stopFormsMode()}})}r=!0}var s=75,n=[],o=function(t){return t.jqmScrollerId||(t.jqmScrollerId=e.uuid()),t.jqmScrollerId};e.fn.scroller=function(t){for(var i,s,r=0;this.length>r;r++)s=o(this[r]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=l(this[r],t),n[s]=i);return 1==this.length?i:this};var r=!1,l=function(){function t(t,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=t+"px",s.style.height=i+"px",s.style[e.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.opacity=0,s.className="scrollBar",s.style.background="black",s}var o,l,a=e.feat.cssTransformStart,c=e.feat.cssTransformEnd,h=function(t,s){if(!r&&e.touch_layer&&e.isObject(e.touch_layer)?i():e.touch_layer&&e.isObject(e.touch_layer)||(e.touch_layer={}),"string"==typeof t||t instanceof String)var n=document.getElementById(t);else var n=t;return n?jq.os.desktop?new d(n,s):s.useJsScroll?new o(n,s):new l(n,s):(alert("Could not find element for scroller "+t),void 0)},d=function(t,i){this.element=t,this.jqEl=e(this.element);for(var s in i)this[s]=i[s]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(e,t){var t=parseInt(t);if(0==t||isNaN(t))return this.element.scrollTop=Math.abs(e.y),this.element.scrollLeft=Math.abs(e.x),void 0;var i=10,s=(this.element.scrollTop-e.y)/Math.ceil(t/i),n=(this.element.scrollLeft-e.x)/Math.ceil(t/i),o=this,r=Math.ceil(this.element.scrollTop-e.y)/s,l=Math.ceil(this.element.scrollLeft-e.x)/s,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.element.scrollTop-=s,yRun++,yRun>=r&&(o.element.scrollTop=e.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.element.scrollLeft-=n,a++,a>=l&&(o.element.scrollLeft=e.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.element.scrollHeight-this.element.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.element=t,this.jqEl=e(this.element),this.defaultProperties();for(var s in i)this[s]=i[s];var o=this,r=function(){o.eventsActive&&o.adjustScroll()};this.jqEl.bind("destroy",function(){o.disable(!0);var t=o.element.jqmScrollerId;n[t]&&delete n[t],e.unbind(e.touch_layer,"orientationchange-reshape",r)}),e.bind(e.touch_layer,"orientationchange-reshape",r)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!=this.element.style.display&&e(t).closest(this.jqEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){if(t&&(this.refreshElement=t),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var s=jq(i);else var s=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var s=jq(this.refreshElement);var n=s.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.element).prepend(this.refreshContainer.append(n,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(e){jq(this.container).find(".jqscroll_refresh").html(e)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(t,i){if(e.is$(t)||(t=e(t)),"bottom"==i){var s=t.offset(),n=s.top-this.jqEl.offset().bottom+s.height;n+=4}else{var o=t.offset().top,n=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(n-=r),n-=4}this.scrollBy({y:n,x:0},0)},setPaddings:function(t,i){var s=e(this.element),n=numOnly(s.css("paddingTop"));s.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-n,x:0})},divide:function(e,t){return 0!=t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,s){if(this.init(i,s),this.container=this.element.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=e(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var n=t(5,20);n.style.top="0px",this.vScrollCSS&&(n.className=this.vScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.vscrollBar=n,n=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var n=t(20,5);n.style.bottom="0px",this.hScrollCSS&&(n.className=this.hScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.hscrollBar=n,n=null}this.horizontalScroll&&(this.element.style["float"]="left"),this.element.hasScroller=!0},l=function(t,i){this.init(t,i);var s=e(t);if(i.noParent!==!0){var n=s.parent(),o=n.height();o+=-1==o.indexOf("%")?"px":"",s.css("height",o),s.parent().parent().append(s),n.remove()}this.container=this.element,s.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.jqEl.css("overflow","auto")}},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.element.style.overflow="auto",e||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("scroll",this,!1))},l.prototype.disable=function(e){this.eventsActive&&(this.logPos(this.element.scrollLeft,this.element.scrollTop),e||(this.element.style.overflow="hidden"),this.element.removeEventListener("touchstart",this,!1),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.element.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(e,t){this.element.removeEventListener("touchstart",this,!1),this.element.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(t){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.element.addEventListener("touchmove",this,!1),this.dY=t.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),e.trigger(this,"scrollstart",[this.element]),e.trigger(e.touch_layer,"scrollstart",[this.element])},l.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY;this.moved||(this.element.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.element.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.element.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=i,t.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var t=this.element.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(t,!0),t&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,s=this,n={top:this.element.scrollTop,left:this.element.scrollLeft},o=0;s.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(s.nativePolling),void 0):((s.element.scrollTop!=n.top||s.element.scrollLeft!=n.left)&&(clearInterval(s.nativePolling),e.trigger(e.touch_layer,"scrollend",[s.element]),e.trigger(s,"scrollend",[s.element])),void 0)},20)},l.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,n=function(t){t||(i.element.style[e.feat.cssPrefix+"Transform"]="none",i.element.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.element.scrollTop=0,i.logPos(i.element.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,e.trigger(i,"refresh-finish")};t!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.element.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},l.prototype.scrollBy=function(e,t){return e.x+=this.element.scrollLeft,e.y+=this.element.scrollTop,this.logPos(this.element.scrollLeft,this.element.scrollTop),this._scrollTo(e,t)},l.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.element.scrollLeft,this.element.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},l.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.element.scrollWidth),this.loggedPcentY=this.divide(t,this.element.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.element.scrollLeft=this.loggedPcentX*this.element.scrollWidth,this.element.scrollTop=this.loggedPcentY*this.element.scrollHeight,this.logPos(this.element.scrollLeft,this.element.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0
},o.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.element.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.element.clientHeight-e.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.element);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.element.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},o.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!=t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.element.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.element.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.element.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.element.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.element);s.top=numOnly(o.f)-numOnly(this.container.scrollTop),s.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.element,this.refresh&&0==s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>s.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=s,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),e.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop),s=parseInt(t.style.marginLeft);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=e.getCssMatrix(t);return n},o.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";s!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},t,i),!0},o.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},t,i),!0},o.prototype.onTouchMove=function(e){if(null!=this.currentScrollingObject){var t=this.calculateMovement(e);this.calculateTarget(t),this.lastScrollInfo=t,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==t.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>t.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(e),this.doScroll()}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var t=this.getCSSMatrix(this.element);this.lastScrollInfo.top=numOnly(t.f),this.lastScrollInfo.left=numOnly(t.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||s){var n=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-n)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:s&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=t?this.firstEventInfo:this.lastEventInfo,n=t?e.pageX:e.touches[0].pageX,o=t?e.pageY:e.touches[0].pageY,r=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=r,i.duration=r-s.time,i},o.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},o.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},o.prototype.checkXboundary=function(e){if(e.x>0)e.x=0;else{if(!(-e.x>this.elementInfo.maxLeft))return;e.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(e)},o.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},o.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},o.prototype.hideRefresh=function(){var t=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(t,"refresh-finish")}},s),this.refreshTriggered=!1)},o.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY=(0>e.deltaY?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(100*t>e.absSpeedY||5>e.absDeltaY)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX=(0>e.deltaX?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(100*t>e.absSpeedX||5>e.absDeltaX)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.element);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);this.fireRefreshRelease(n,t.top>0),this.refresh&&n?(t.y=this.refreshHeight,t.duration=s):t.y>=0?(t.y=0,t.top>=0&&(t.duration=s)):(-t.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=s)),this.androidFormsMode&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touch_layer,"scrollend",[i.element]),e.trigger(i,"scrollend",[i.element]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&e.trigger(i,"infinite-scroll-end")},t)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.element.style[e.feat.cssPrefix+"Transform"]="none",this.element.style[e.feat.cssPrefix+"Transition"]="none",this.element.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.element.style[e.feat.cssPrefix+"Perspective"]=1e3,this.element.style.marginTop=0,this.element.style.marginLeft=0,this.element.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(t,i,s){i||(i=0),s||(s="linear"),i=numOnly(i),this.element&&this.element.style&&(this.eventsActive&&(this.androidFormsMode?(this.element.style.marginTop=Math.round(t.y)+"px",this.element.style.marginLeft=Math.round(t.x)+"px"):(this.element.style[e.feat.cssPrefix+"Transform"]="translate"+a+t.x+"px,"+t.y+"px"+c,this.element.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=s)),this.logPos(t.x,t.y))},o.prototype.logPos=function(e,t){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(e,this.element.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.element.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},o.prototype.scrollbarMoveCSS=function(t,i,s,n){s||(s=0),n||(n="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,t.style[e.feat.cssPrefix+"TransitionDuration"]=s+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=n))},o.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},o.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.element),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-e.y,x:n-e.x},t)},o.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.element.clientHeight-this.container.clientHeight),x:0},e)},o.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},h}()}(jq),function(e){e.select_box={scroller:null,getOldSelects:function(t){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for jq.web.select_box "+t),void 0;for(var s=i.getElementsByTagName("select"),n=this,o=0;s.length>o;o++)s[o].hasSelectBoxFix||function(t){var i=document.createElement("div"),r=window.getComputedStyle(t),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(t.style.height)>0?t.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",t.value&&(i.innerHTML=t.options[t.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+t.className,i.id=t.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=t.id,i.onclick=function(){n.initDropDown(this.linkId)},e(i).insertBefore(e(t)),t.style.display="none",t.style.webkitAppearance="none";for(var h=0;t.options.length>h;h++)t.options[h].selected&&(i.value=t.options[h].text),t.options[h].watch("selected",function(e,i,s){return 1==s&&(t.getAttribute("multiple")||n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});t.watch("selectedIndex",function(e,i,s){return this.options[s]&&(t.getAttribute("multiple")||n.updateMaskValue(this.id,this.options[s].text,this.options[s].value),this.value=this.options[s].value),s}),i=null,imageMask=null,s[o].hasSelectBoxFix=!0}(s[o]);n.createHtml()}},updateDropdown:function(e){var t=document.getElementById(e);if(t){for(var i=0;t.options.length>i;i++)t.options[i].selected&&(fakeInput.value=t.options[i].text),t.options[i].watch("selected",function(e,t,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});t=null}},initDropDown:function(e){var t=this,i=document.getElementById(e);if(!i.disabled&&i&&i.options&&0!=i.options.length){var s=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:e;for(var n=0;i.options.length>n;n++){i.options[n].watch("selected",function(e,i,s){return 1==s&&(t.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});var o=i.options[n].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=n,r.onclick=function(){t.setDropDownValue(e,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[n].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(s*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=s*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){}r=null,i=null}},updateMaskValue:function(e,t,i){var s=document.getElementById(e+"_jqmobiSelect"),n=document.getElementById(e);s&&(s.innerHTML=t),"function"==typeof n.onchange&&n.onchange(i),s=null,n=null},setDropDownValue:function(t,i,s){var n=document.getElementById(t);if(n){if(n.getAttribute("multiple")){var o=e(n).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,e(s).find("button").css("background","#fff")):(o.selected=!0,e(s).find("button").css("background","#000"))}else n.selectedIndex=i,e(n).find("option").forEach(function(e){e.selected=!1}),e(n).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(n).trigger("change"),n=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var t=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var s=document.createElement("div");s.id="jqmobiSelectBoxContainer",s.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",s.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",s.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var t=this;i.appendChild(s),e(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var n=e("#jqmobiSelectClose").get();n.onclick=function(){t.hideDropDown()};var o=e("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{t.scroller=e("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){}i=null,s=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],s=i,n=function(){return s},o=function(n){return i=s,s=t.call(this,e,i,n)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:n,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,n),HTMLElement.prototype.__defineSetter__.call(this,e,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(jq),function(e){e.ui.show_page=function(t){if(this.on_unload&&(this.on_unload(),this.on_unload=null),void 0===t.cache&&(t.cache=!0),t.on_unload&&(this.unload=t.on_unload),t.on_load&&t.on_load(),this.set_header(t.header),this.set_footer(t.footer),this.set_active_footer_button(t.active_footer_button),this.set_left_button(t.left_button),this.set_right_button(t.right_button),t.url)if(t.cache&&void 0!==this.cached_pages[t.url]){var i=JSON.parse(this.cached_pages[t.url]);e.ui.add_content_div(t.div_id,tmpl[t.div_id](i),t.title,this.cached_pages[t.div_id]),this.load_content(t.div_id,!1,!1,"fade"),e.get_with_token({url:t.url,data:t.data,success:function(i){var s=JSON.parse(i);JSON.parse(i),e.ui.update_content_div(t.div_id,tmpl[t.div_id](s)),t.cache&&(e.ui.cached_pages[t.url]=i,e.ui.cached_pages.save())},error:function(){}})}else e.get_with_token({url:t.url,data:t.data,success:function(i){var s=JSON.parse(i);e.ui.add_content_div(t.div_id,tmpl[t.div_id](s),t.title),e.ui.load_content(t.div_id,!1,!1,"fade"),t.cache&&(e.ui.cached_pages[t.url]=i,e.ui.cached_pages.save())},error:function(){}});else 0===e("#"+t.div_id).length?e.ui.add_content_div(t.div_id,tmpl[t.div_id](t.data),t.title):this.update_content_div(t.div_id,tmpl[t.div_id](t.data)),this.load_content(t.div_id,!1,!1,"fade")}}(jq),function(e){e.ui.side_menu={create_side_menu:function(){this.menu||(this.menu=document.createElement("div"),this.menu.id="menu",this.menu.innerHTML='<div id="menu_scroller"></div>',this.ui_kit_container.append(this.menu),this.menu.style.overflow="hidden",this.scrolling_divs.menu_scroller=jq("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"jqmScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll}),e.feat.nativeTouchScroll&&e("#menu_scroller").css("height","100%"))},toggle_side_menu:function(e,t){this.side_menu_displayed=!0;var i=this,s=jq("#menu"),n=jq("#content, #menu, #header, #footer");s.hasClass("on")||s.hasClass("to-on")||(void 0===e||e===!1)&&void 0!==e?(void 0===e||void 0!==e&&e===!1)&&i.css3animate(n,{removeClass:"on off to-on",addClass:"to-off",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(n,{removeClass:"to-off on to-on",addClass:"off",time:0,complete:function(){s.hide(),i.side_menu_displayed=!1,t&&t(!1)}})}}):(s.show(),i.css3animate(n,{removeClass:"to-off off on",addClass:"to-on",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(n,{removeClass:"to-off off to-on",addClass:"on",time:0,complete:function(){i.side_menu_displayed=!1,t&&t(!1)}})}}))},disableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");this.isSideMenuOn()?this.toggle_side_menu(!1,function(t){t||e.removeClass("hasMenu")}):e.removeClass("hasMenu")},enableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");e.addClass("hasMenu")},isSideMenuEnabled:function(){return jq("#content").hasClass("hasMenu")},isSideMenuOn:function(){var e=jq("#menu");return this.isSideMenuEnabled()&&(e.hasClass("on")||e.hasClass("to-on"))},update_side_menu:function(e){var t=this,i=jq("#menu_scroller");if(void 0!==e&&null!=e){if("string"==typeof e)i.html(e,!0);else{i.html("");var s=document.createElement("a");s.className="closebutton jqMenuClose",s.href="javascript:;",s.onclick=function(){t.toggle_side_menu(!1)},i.append(s);var n=document.createElement("div");n.className="jqMenuHeader",n.innerHTML="Menu",i.append(n);for(var o=0;e.length>o;o++){var r=e[o].cloneNode(!0);i.append(r)}}this.scrolling_divs.menu_scroller.hideScrollbars(),this.scrolling_divs.menu_scroller.scrollToTop()}}}}(jq),function(){$.touch_layer=function(e){return $.touch_layer=new c(e),$.touch_layer};var e=["input","select","textarea"],t=["button","radio","checkbox","range","date"],i=$.os.ios,s=$.os.blackberry,n=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(e){this.clearTouchVars(),e.addEventListener("touchstart",this,!1),e.addEventListener("touchmove",this,!1),e.addEventListener("touchend",this,!1),e.addEventListener("click",this,!1),e.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=e,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var t=this;this.scrollTimeoutExpireProxy_=function(){t.scrollTimeout_=null,t.scrollTimeoutEl_.addEventListener("scroll",t.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(t.layer.style.height="100%"),$.asap(t.testAndFixUI,t,arguments)},document.addEventListener("click",function(e){void 0!==e.clientX&&null!==t.lastTouchStartX&&2>Math.abs(t.lastTouchStartX-e.clientX)&&2>Math.abs(t.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),$.bind(this,"scrollstart",function(e){t.isScrolling=!0,t.scrollingEl_=e,t.fireEvent("UIEvents","scrollstart",e,!1,!1)}),$.bind(this,"scrollend",function(e){t.isScrolling=!1,t.fireEvent("UIEvents","scrollend",e,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){return e||(e=l),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,e):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var i=this.getReferenceHeight(),s=this.getCurrentHeight();return i==s||i>s*r&&s>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(e>=t)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px";var i=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight
},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(s){var n=s.target&&void 0!=s.target.tagName?s.target.tagName.toLowerCase():"";if(-1===e.indexOf(n)||this.isFocused_&&!s.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=s.target&&void 0!=s.target.type?s.target.type.toLowerCase():"",r=-1!==t.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=s.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[s.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&s.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(e){$.trigger(this,"reshape"),$.trigger(this,e?e+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(e){jq.os.android&&e.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[e.target]))},exitExit:function(e){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[e]),this.allowDocumentScroll_=!1,$.os.ios){var t=this;setTimeout(function(){t.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e){this.allowDocumentScroll_||this.isPanning_||e.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(t){this.dX=t.touches[0].pageX,this.dY=t.touches[0].pageY,this.lastTimestamp=t.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(t.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&t&&t.target&&t.target.getAttribute&&"ignore"==t.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(n&&t.target&&void 0!=t.target.tagName){var s=t.target.tagName.toLowerCase();-1!==e.indexOf(s)&&("select"!=s&&$.trigger(this,"pre-enter-edit",[t.target]),this.requiresNativeTap=!0)}else t.target&&void 0!==t.target.tagName&&"input"==t.target.tagName.toLowerCase()&&"range"==t.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&t.preventDefault()},demandVerticalScroll:function(){var e=0>=this.scrollingEl_.scrollTop;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=t>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth?!0:void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var i=t.overflowY;return"scroll"==i?!0:"auto"==i&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var i=t.overflowX;return"scroll"==i?!0:"auto"==i&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(e,t){if(o&&this.panElementId==e.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(e))return;var i=window.getComputedStyle(e);if(this.allowsVerticalScroll(e,i))return this.isScrollingVertical_=!0,this.scrollingEl_=e,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(e,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var s=e==t;!s&&e.parentNode&&this.checkDOMTree(e.parentNode,t)},scrollEnded:function(e){e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(e){var t=this.moved;return this.moved=!0,s&&(this.cY=e.touches[0].pageY-this.dY,this.cX=e.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(t||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-e.touches[0].pageY)/(e.timeStamp-this.lastTimestamp),this.lastY=e.touches[0].pageY,this.lastX=e.touches[0].pageX,this.lastTimestamp=e.timeStamp),$.os.blackberry10||this.requiresNativeTap?(e.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||e.preventDefault(),void 0))},onTouchEnd:function(e){if($.os.ios){if(a==e.changedTouches[0].identifier)return e.preventDefault(),!1;a=e.changedTouches[0].identifier}var t=this.moved;if(s&&(t=t&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&t)this.wasPanning_=!0;else if(t||this.requiresNativeTap)t&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[e.target])));else if(e.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=e.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,e.mouseToTouch,e.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(e,t,i,s,n,o){var r=document.createEvent(e);r.initEvent(t,s,!0),r.target=i,o&&$.each(o,function(e,t){r[e]=t}),n&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(e){function t(e){return"tagName"in e?e:e.parentNode}function i(e,t,i,s){var n=Math.abs(e-t),o=Math.abs(i-s);return n>=o?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){r.last&&Date.now()-r.last>=l&&(r.element.trigger("longTap"),r={})}var n,o,r={},l=750;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.element=e(t(i.touches[0].target)),n&&clearTimeout(n),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(s,l),r.element.data("ignore-pressed")||r.element.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.element)}}).bind("touchmove",function(e){r.x2=e.touches[0].pageX,r.y2=e.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.element&&(r.element.data("ignore-pressed")||r.element.removeClass("selected"),r.isDoubleTap?(r.element.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.element.trigger("swipe")&&r.element.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.element.trigger("tap"),n=setTimeout(function(){n=null,r.element&&r.element.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.element&&!r.element.data("ignore-pressed")&&r.element.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){e(document).ready(function(){e.os.supportsTouch&&e.touch_layer(document.getElementById("ui_kit"))}),"complete"===document.readyState||"loaded"===document.readyState?e.ui.autoBoot():document.addEventListener("DOMContentLoaded",function(){e.ui.autoBoot(),this.removeEventListener("DOMContentLoaded",arguments.callee)},!1)}(jq),!window.jQuery){var jQuery=jq;(function(e){var t=window.document,i=/^\.([\w-]+)$/,s=/^#([\w-]+)$/,n=/^[\w-]+$/,o=t.createElement("div"),r=[],l=r.slice;["width","height"].forEach(function(i){e.fn[i]=function(s){var n,o=i.replace(/./,function(e){return e[0].toUpperCase()});return void 0===s?this[0]==window?window["inner"+o]:this[0]==t?t.documentElement["offset"+o]:(n=this.offset())&&n[i]:this.each(function(){e(this).css(i,s)})}}),["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});e.fn["outer"+i]=function(e){var s=this;if(s){var n=s[0]["offset"+i];return{width:["left","right"],height:["top","bottom"]}[t].forEach(function(t){e&&(n+=parseInt(s.css("margin-"+t),10))}),n}return null}}),["Left","Top"].forEach(function(t,i){function s(e){return e&&"object"==typeof e&&"setInterval"in e?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n="scroll"+t;e.fn[n]=function(t){var o,r;return void 0===t?(o=this[0],o?(r=s(o))?"pageXOffset"in r?r[i?"pageYOffset":"pageXOffset"]:r.document.documentElement[n]||r.document.body[n]:o[n]:null):(this.each(function(){if(r=s(this)){var o=i?e(r).scrollLeft():t,l=i?t:e(r).scrollTop();r.scrollTo(o,l)}else this[n]=t}),void 0)}}),e.fn.is=function(e){var a;if(a=this.length>0)if(a=this[0],a&&1===a.nodeType){var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)a=c.call(a,e);else{var h=a.parentNode;(c=!h)&&(h=o).appendChild(a);var d,e=~(h===t&&s.test(e)?(d=h.getElementById(RegExp.$1))?[d]:r:1!==h.nodeType&&9!==h.nodeType?r:l.call(i.test(e)?h.getElementsByClassName(RegExp.$1):n.test(e)?h.getElementsByTagName(e):h.querySelectorAll(e))).indexOf(a);c&&o.removeChild(a),a=e}}else a=!1;return a},e.fn.prop=function(e,t){return void 0===t?this[0]?this[0][e]:void 0:this.each(function(){this[e]=t})},e.fn.focus=function(t){void 0===t?e(this).trigger("focus"):e(this).bind("focus",t)},e.fn.blur=function(t){void 0===t?e(this).trigger("blur"):e(this).bind("blur",t)},e.fn.click=function(t){void 0===t?e(this).trigger("click"):e(this).bind("click",t)},e.fn.eq=function(t){return e(e(this).get(t))},e.fn.index=function(t){return t?this.indexOf(e(t)[0]):this.length?this.parent().children().indexOf(this[0]):-1},e.fn.slice=function(){return e(l.apply(this,arguments))},e.fn.before=function(t){return e(t).insertBefore(this),this},e.fn.appendTo=function(t){return e(t).append(this),this},e.fn.pluck=function(e){return this.map(function(){return this[e]})},e.fn.prev=function(){var t=this.pluck("previousElementSibling");return t[0][0]?e(t[0]):e([])},e.fn.next=function(){var t=this.pluck("nextElementSibling");return t[0][0]?e(t[0]):e([])},e.inArray=function(e,t,i){for(i=i||0;t.length>i;)if(t[i++]==e)return--i;return-1},e.isPlainObject=function(t){return e.isObject(t)},e.fn._css=e.fn.css,e.fn.css=function(t,i,s){if(e.isObject(t)){for(var n in t)e(this)._css(n,!isNaN(parseFloat(t[n]))&&isFinite(t[n])?t[n]+"px":t[n],s);return this}return e(this)._css(t,!isNaN(parseFloat(i))&&isFinite(i)?i+"px":i,s)},e.fn._height=e.fn.height,e.fn.height=function(){if("#document"==this[0].nodeName){var i=t.body,s=t.documentElement;return Math.max(i.scrollHeight,i.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)}return e.fn._height.apply(this,arguments)},e._extend=e.extend,e.extend=function(){return arguments[0]=arguments[0]||{},e._extend.apply(this,arguments)}})(jQuery)}(function(e){function t(t,i){function s(t){return e.isArray(rt.readonly)?(t=e(".dwwl",$).index(t),rt.readonly[t]):rt.readonly}function r(e){var t,i='<div class="dw-bf">',s=1;for(t in at[e])0==s%20&&(i+='</div><div class="dw-bf">'),i+='<div class="dw-li dw-v" data-val="'+t+'" style="height:'+V+"px;line-height:"+V+'px;"><div class="dw-i">'+at[e][t]+"</div></div>",s++;return i+"</div>"}function a(t){d=e(".dw-li",t).index(e(".dw-v",t).eq(0)),u=e(".dw-li",t).index(e(".dw-v",t).eq(-1)),g=e(".dw-ul",$).index(t),h=V,f=it}function k(e){var t=rt.headerText;return t?"function"==typeof t?t.call(nt,e):t.replace(/\{value\}/i,e):""}function I(){it.temp=dt&&null!==it.val&&it.val!=ot.val()||null===it.values?rt.parseValue(ot.val()||"",it):it.values.slice(0),it.setValue(!0)}function M(t,i,s,n,o){!1!==N("validate",[$,i,t])&&(e(".dw-ul",$).each(function(s){var r=e(this),l=e('.dw-li[data-val="'+it.temp[s]+'"]',r),a=e(".dw-li",r),c=a.index(l),h=a.length,d=s==i||void 0===i;if(!l.hasClass("dw-v")){for(var u=l,f=0,p=0;c-f>=0&&!u.hasClass("dw-v");)f++,u=a.eq(c-f);for(;h>c+p&&!l.hasClass("dw-v");)p++,l=a.eq(c+p);(f>p&&p&&2!==n||!f||0>c-f||1==n)&&l.hasClass("dw-v")?c+=p:(l=u,c-=f)}(!l.hasClass("dw-sel")||d)&&(it.temp[s]=l.attr("data-val"),e(".dw-sel",r).removeClass("dw-sel"),l.addClass("dw-sel"),it.scroll(r,s,c,d?t:.1,d?o:void 0))}),it.change(s))}function Y(t){if(!("inline"==rt.display||U===e(window).width()&&G===e(window).height()&&t)){var i,s,n,o,r,l,a,c,h,d=0,u=0,t=e(window).scrollTop();o=e(".dwwr",$);var f=e(".dw",$),p={};r=void 0===rt.anchor?ot:rt.anchor,U=e(window).width(),G=e(window).height(),W=(W=window.innerHeight)||G,/modal|bubble/.test(rt.display)&&(e(".dwc",$).each(function(){i=e(this).outerWidth(!0),d+=i,u=i>u?i:u}),i=d>U?u:d,o.width(i)),J=f.outerWidth(),Q=f.outerHeight(!0),"modal"==rt.display?(s=(U-J)/2,n=t+(W-Q)/2):"bubble"==rt.display?(h=!0,c=e(".dw-arrw-i",$),s=r.offset(),l=s.top,a=s.left,o=r.outerWidth(),r=r.outerHeight(),s=a-(f.outerWidth(!0)-o)/2,s=s>U-J?U-(J+20):s,s=s>=0?s:20,n=l-Q,t>n||l>t+W?(f.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),n=l+r):f.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),c=c.outerWidth(),o=a+o/2-(s+(J-c)/2),e(".dw-arr",$).css({left:o>c?c:o})):(p.width="100%","top"==rt.display?n=t:"bottom"==rt.display&&(n=t+W-Q)),p.top=0>n?0:n,p.left=s,f.css(p),e(".dw-persp",$).height(0).height(n+Q>e(document).height()?n+Q:e(document).height()),h&&(n+Q>t+W||l>t+W)&&e(window).scrollTop(n+Q-W)}}function q(e){if("touchstart"===e.type)C=!0,setTimeout(function(){C=!1},500);else if(C)return C=!1;return!0}function N(t,s){var n;return s.push(it),e.each([lt,i],function(e,i){i[t]&&(n=i[t].apply(nt,s))}),n}function F(e){var t=+e.data("pos")+1;l(e,t>u?d:t,1,!0)}function X(e){var t=+e.data("pos")-1;l(e,d>t?u:t,2,!0)}var R,V,z,$,U,W,G,J,Q,Z,K,et,tt,it=this,st=e.mobiscroll,nt=t,ot=e(nt),rt=P({},H),lt={},at=[],ct={},ht={},dt=ot.is("input"),ut=!1;it.enable=function(){rt.disabled=!1,dt&&ot.prop("disabled",!1)},it.disable=function(){rt.disabled=!0,dt&&ot.prop("disabled",!0)},it.scroll=function(e,t,i,s,n){function o(){clearInterval(ct[t]),delete ct[t],e.data("pos",i).closest(".dwwl").removeClass("dwa")}var r,l=(R-i)*V;l==ht[t]&&ct[t]||(ht[t]=l,e.attr("style",B+"-transition:all "+(s?s.toFixed(3):0)+"s ease-out;"+(j?B+"-transform:translate3d(0,"+l+"px,0);":"top:"+l+"px;")),ct[t]&&o(),s&&void 0!==n?(r=0,e.closest(".dwwl").addClass("dwa"),ct[t]=setInterval(function(){r+=.1,e.data("pos",Math.round((i-n)*Math.sin(r/s*(Math.PI/2))+n)),r>=s&&o()},100)):e.data("pos",i))},it.setValue=function(t,i,s,n){e.isArray(it.temp)||(it.temp=rt.parseValue(it.temp+"",it)),ut&&t&&M(s),z=rt.formatResult(it.temp),n||(it.values=it.temp.slice(0),it.val=z),i&&dt&&ot.val(z).trigger("change")},it.getValues=function(){var e,t=[];for(e in it._selectedValues)t.push(it._selectedValues[e]);return t},it.validate=function(e,t,i,s){M(i,e,!0,t,s)},it.change=function(t){z=rt.formatResult(it.temp),"inline"==rt.display?it.setValue(!1,t):e(".dwv",$).html(k(z)),t&&N("onChange",[z])},it.changeWheel=function(t,i){if($){var s,n,o=0,l=t.length;for(s in rt.wheels)for(n in rt.wheels[s]){if(e.inArray(o,t)>-1&&(at[o]=rt.wheels[s][n],e(".dw-ul",$).eq(o).html(r(o)),l--,!l))return Y(),M(i,void 0,!0),void 0;o++}}},it.isVisible=function(){return ut},it.tap=function(e,t){var i,s;rt.tap&&e.bind("touchstart",function(e){e.preventDefault(),i=n(e,"X"),s=n(e,"Y")}).bind("touchend",function(e){20>Math.abs(n(e,"X")-i)&&20>Math.abs(n(e,"Y")-s)&&t.call(this,e),S=!0,setTimeout(function(){S=!1},300)}),e.bind("click",function(e){S||t.call(this,e)})},it.show=function(t){if(rt.disabled||ut)return!1;"top"==rt.display&&(Z="slidedown"),"bottom"==rt.display&&(Z="slideup"),I(),N("onBeforeShow",[$]);var i,o=0,h="";Z&&!t&&(h="dw-"+Z+" dw-in");for(var d='<div class="dw-trans '+rt.theme+" dw-"+rt.display+'">'+("inline"==rt.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+h+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr">'+(rt.headerText?'<div class="dwv"></div>':"")),t=0;rt.wheels.length>t;t++){d+='<div class="dwc'+("scroller"!=rt.mode?" dwpm":" dwsc")+(rt.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>';for(i in rt.wheels[t])at[o]=rt.wheels[t][i],d+='<td><div class="dwwl dwrc dwwl'+o+'">'+("scroller"!=rt.mode?'<div class="dwwb dwwbp" style="height:'+V+"px;line-height:"+V+'px;"><span>+</span></div><div class="dwwb dwwbm" style="height:'+V+"px;line-height:"+V+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+i+'</div><div class="dww" style="height:'+rt.rows*V+"px;min-width:"+rt.width+'px;"><div class="dw-ul">',d+=r(o),d+='</div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',o++;d+="</tr></table></div></div>"}d+=("inline"!=rt.display?'<div class="dwbc'+(rt.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb">'+rt.setText+"</span></span>"+(rt.button3?'<span class="dwbw dwb-n"><span class="dwb">'+rt.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb">'+rt.cancelText+"</span></span></div></div>":'<div class="dwcc"></div>')+"</div></div></div>",$=e(d),M(),N("onMarkupReady",[$]),"inline"!=rt.display?($.appendTo("body"),setTimeout(function(){$.removeClass("dw-trans").find(".dw").removeClass(h)},350)):ot.is("div")?ot.html($):$.insertAfter(ot),ut=!0,et.init($,it),"inline"!=rt.display&&(it.tap(e(".dwb-s span",$),function(){it.hide(!1,"set")!==!1&&(it.setValue(!1,!0),N("onSelect",[it.val]))}),it.tap(e(".dwb-c span",$),function(){it.cancel()}),rt.button3&&it.tap(e(".dwb-n span",$),rt.button3),rt.scrollLock&&$.bind("touchmove",function(e){W>=Q&&U>=J&&e.preventDefault()}),e("input,select,button").each(function(){e(this).prop("disabled")||e(this).addClass("dwtd").prop("disabled",!0)}),Y(),e(window).bind("resize.dw",function(){clearTimeout(K),K=setTimeout(function(){Y(!0)},100)})),$.delegate(".dwwl","DOMMouseScroll mousewheel",function(t){if(!s(this)){t.preventDefault();var t=t.originalEvent,t=t.wheelDelta?t.wheelDelta/120:t.detail?-t.detail/3:0,i=e(".dw-ul",this),n=+i.data("pos"),n=Math.round(n-t);a(i),l(i,n,0>t?1:2)}}).delegate(".dwb, .dwwb",D,function(){e(this).addClass("dwb-a")}).delegate(".dwwb",D,function(t){t.stopPropagation(),t.preventDefault();var i=e(this).closest(".dwwl");if(q(t)&&!s(i)&&!i.hasClass("dwa")){m=!0;var n=i.find(".dw-ul"),o=e(this).hasClass("dwwbp")?F:X;a(n),clearInterval(c),c=setInterval(function(){o(n)},rt.delay),o(n)}}).delegate(".dwwl",D,function(t){t.preventDefault(),!q(t)||p||s(this)||m||(p=!0,e(document).bind(A,L),v=e(".dw-ul",this),T="clickpick"!=rt.mode,_=+v.data("pos"),a(v),x=void 0!==ct[g],y=n(t,"Y"),w=new Date,b=y,it.scroll(v,g,_,.001),T&&v.closest(".dwwl").addClass("dwa"))}),N("onShow",[$,z])},it.hide=function(t,i){return!1===N("onClose",[z,i])?!1:(e(".dwtd").prop("disabled",!1).removeClass("dwtd"),ot.blur(),$&&("inline"!=rt.display&&Z&&!t?($.addClass("dw-trans").find(".dw").addClass("dw-"+Z+" dw-out"),setTimeout(function(){$.remove(),$=null},350)):($.remove(),$=null),ut=!1,ht={},e(window).unbind(".dw")),void 0)},it.cancel=function(){!1!==it.hide(!1,"cancel")&&N("onCancel",[it.val])},it.init=function(e){et=P({defaults:{},init:E},st.themes[e.theme||rt.theme]),tt=st.i18n[e.lang||rt.lang],P(i,e),P(rt,et.defaults,tt,i),it.settings=rt,ot.unbind(".dw"),(e=st.presets[rt.preset])&&(lt=e.call(nt,it),P(rt,lt,i),P(O,lt.methods)),R=Math.floor(rt.rows/2),V=rt.height,Z=rt.animate,void 0!==ot.data("dwro")&&(nt.readOnly=o(ot.data("dwro"))),ut&&it.hide(),"inline"==rt.display?it.show():(I(),dt&&rt.showOnFocus&&(ot.data("dwro",nt.readOnly),nt.readOnly=!0,ot.bind("focus.dw",function(){it.show()})))},it.trigger=function(e,t){return N(e,t)},it.values=null,it.val=null,it.temp=null,it._selectedValues={},it.init(i)}function i(e){for(var t in e)if(void 0!==M[e[t]])return!0;return!1}function s(e){return k[e.id]}function n(e,t){var i=e.originalEvent,s=e.changedTouches;return s||i&&i.changedTouches?i?i.changedTouches[0]["page"+t]:s[0]["page"+t]:e["page"+t]}function o(e){return!0===e||"true"==e}function r(e,t,i){return e=e>i?i:e,t>e?t:e}function l(t,i,s,n,o){var i=r(i,d,u),l=e(".dw-li",t).eq(i),a=void 0===o?i:o,c=g,h=n?i==a?.1:Math.abs(.1*(i-a)):0;f.temp[c]=l.attr("data-val"),f.scroll(t,c,i,h,o),setTimeout(function(){f.validate(c,s,h,o)},10)}function a(e,t,i){return O[t]?O[t].apply(e,Array.prototype.slice.call(i,1)):"object"==typeof t?O.init.call(e,t):e}var c,h,d,u,f,p,m,v,g,y,b,w,_,x,T,S,C,k={},E=function(){},I=(new Date).getTime(),M=document.createElement("modernizr").style,j=i(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),B=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(i([t[e]+"Transform"]))return"-"+t[e].toLowerCase();return""}(),P=e.extend,D="touchstart mousedown",A="touchmove mousemove",L=function(e){T&&(e.preventDefault(),b=n(e,"Y"),f.scroll(v,g,r(_+(y-b)/h,d-1,u+1))),x=!0},H={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",scrollLock:!0,tap:!0,formatResult:function(e){return e.join(" ")},parseValue:function(e,t){var i,s,n,o=t.settings.wheels,r=e.split(" "),l=[],a=0;for(i=0;o.length>i;i++)for(s in o[i]){if(void 0!==o[i][s][r[a]])l.push(r[a]);else for(n in o[i][s]){l.push(n);break}a++}return l}},O={init:function(e){return void 0===e&&(e={}),this.each(function(){this.id||(I+=1,this.id="scoller"+I),k[this.id]=new t(this,e)})},enable:function(){return this.each(function(){var e=s(this);e&&e.enable()})},disable:function(){return this.each(function(){var e=s(this);e&&e.disable()})},isDisabled:function(){var e=s(this[0]);return e?e.settings.disabled:void 0},isVisible:function(){var e=s(this[0]);return e?e.isVisible():void 0},option:function(e,t){return this.each(function(){var i=s(this);if(i){var n={};"object"==typeof e?n=e:n[e]=t,i.init(n)}})},setValue:function(e,t,i,n){return this.each(function(){var o=s(this);o&&(o.temp=e,o.setValue(!0,t,i,n))})},getInst:function(){return s(this[0])},getValue:function(){var e=s(this[0]);return e?e.values:void 0},getValues:function(){var e=s(this[0]);return e?e.getValues():void 0},show:function(){var e=s(this[0]);return e?e.show():void 0},hide:function(){return this.each(function(){var e=s(this);e&&e.hide()})},destroy:function(){return this.each(function(){var t=s(this);t&&(t.hide(),e(this).unbind(".dw"),delete k[this.id],e(this).is("input")&&(this.readOnly=o(e(this).data("dwro"))))})}};e(document).bind("touchend mouseup",function(){if(p){var t,i=new Date-w,s=r(_+(y-b)/h,d-1,u+1),n=v.offset().top;if(300>i?(i=(b-y)/i,t=i*i/.0012,0>b-y&&(t=-t)):t=b-y,i=Math.round(_-t/h),!t&&!x){var n=Math.floor((b-n)/h),o=e(".dw-li",v).eq(n);t=T,!1!==f.trigger("onValueTap",[o])?i=n:t=!0,t&&(o.addClass("dw-hl"),setTimeout(function(){o.removeClass("dw-hl")},200))}T&&l(v,i,0,!0,Math.round(s)),p=!1,v=null,e(document).unbind(A,L)}m&&(clearInterval(c),m=!1),e(".dwb-a").removeClass("dwb-a")}).bind("mouseover mouseup mousedown click",function(e){return S?(e.stopPropagation(),e.preventDefault(),!1):void 0}),e.fn.mobiscroll=function(t){return P(this,e.mobiscroll.shorts),a(this,t,arguments)},e.mobiscroll=e.mobiscroll||{setDefaults:function(e){P(H,e)},presetShort:function(e){this.shorts[e]=function(t){return a(this,P(t,{preset:e}),arguments)}},shorts:{},presets:{},themes:{},i18n:{}},e.scroller=e.scroller||e.mobiscroll,e.fn.scroller=e.fn.scroller||e.fn.mobiscroll})(jQuery),function(e){var t={controls:["time","calendar"],firstDay:0,firstSelectDay:0,swipe:!0,prevText:"Prev",nextText:"Next",calWidth:0,calHeight:0,onDayChange:function(){}};e.mobiscroll.presetShort("calendar"),e.mobiscroll.presets.calendar=function(i){function s(e,t){var i,s,n;if(t){if(t.dates)for(i=0;t.dates.length>i;i++)if(n=t.dates[i],s=n.d||n,s.getTime()===e.getTime())return n;if(t.daysOfMonth)for(i=0;t.daysOfMonth.length>i;i++)if(n=t.daysOfMonth[i],s=n.d||n,s=(s+"").split("/"),s[1]){if(s[0]-1==e.getMonth()&&s[1]==e.getDate())return n}else if(s[0]==e.getDate())return n;if(t.daysOfWeek)for(i=0;t.daysOfWeek.length>i;i++)if(n=t.daysOfWeek[i],s=n.d||n,s===e.getDay())return n}return!1}function n(t,n){var o,r,l,a;i.getDate(i.temp);var c=new Date(t,n+1,0).getDate(),h=new Date(t,n,1).getDay(),d=new Date(t,n,0).getDate()-h+1,u='<div class="dw-cal-slide dw-cal-slide-a"><table cellpadding="0" cellspacing="0">';for(a=0;42>a;a++)l=a+j.firstDay,o=new Date(t,n,l-h+1),r=new Date(_.getFullYear(),_.getMonth(),_.getDate())>o||o>x?!1:!1===s(o,j.invalid),marked=s(o,j.marked),selected=void 0!==i._selectedValues[o],o=h>l||l>=c+h,0==a%7&&(u+=(a?"</tr>":"")+"<tr>"),u+='<td class="dw-cal-day dw-cal-day-'+a%7+(B?" ui-body-c":"")+(selected?" dw-sel":"")+(r&&o?" dw-cal-day-diff":"")+(r?" dw-cal-day-v":"")+'" data-date="'+(l-h+1)+'"><div class="dw-i'+(selected&&B?" ui-btn-active":"")+(r&&B?' ui-btn-up-c ui-state-default ui-btn" data-theme="c"':'"')+">"+(h>l?d+l:l>=c+h?l-c-h+1:l-h+1)+(marked?'<div class="dw-cal-day-m"></div>':"")+(marked&&marked.text?'<div class="dw-cal-day-txt">'+marked.text+"</div>":"")+"</div></td>";return u+="</tr></table></div>",e(".dw-cal-my",m).text(j.monthNames[n]+" "+t),b>new Date(t,n-1,1)?e(".dw-cal-prev",m).addClass(D):e(".dw-cal-prev",m).removeClass(D),new Date(t,n+1,1)>w?e(".dw-cal-next",m).addClass(D):e(".dw-cal-next",m).removeClass(D),u}function o(){if(u=i.getDate(i.temp),u.getFullYear()===S&&u.getMonth()===C&&!P){e(".dw-cal-slide-a .dw-sel",m).removeClass("dw-sel");var t=e('.dw-cal-slide-a .dw-cal-day[data-date="'+u.getDate()+'"]',m).addClass("dw-sel").parent();e(".dw-cal-week-hl",m).removeClass("dw-cal-week-hl"),t&&t.addClass("dw-cal-week-hl"),B&&(e(".dw-cal-slide-a .ui-btn-active",m).removeClass("ui-btn-active"),e(".dw-cal-slide-a .dw-sel .dw-i",m).addClass("ui-btn-active"))}}function r(){u=i.getDate(i.temp),u.getFullYear()===S&&u.getMonth()===C?(T=u,o()):u>T?(S=u.getFullYear(),C=u.getMonth(),a()):T>u&&(S=u.getFullYear(),C=u.getMonth(),l())}function l(){T=new Date(S,C,1),S=T.getFullYear(),C=T.getMonth(),i.trigger("onMonthChange",[S,C]),e(".dw-cal-slide",m).length>1&&(e(".dw-cal-slide",m).eq(0).remove(),e(".dw-cal-slide-a",m).removeClass("dw-cal-slide-a")),y=n(T.getFullYear(),T.getMonth()),v.addClass("dw-cal-anim-prev").prepend(y),o(),M=!0,setTimeout(function(){v.addClass("dw-cal-anim-a").removeClass("dw-cal-anim-prev"),setTimeout(function(){v.removeClass("dw-cal-anim-a"),M=!1},300)},10)}function a(){T=new Date(S,C,1),S=T.getFullYear(),C=T.getMonth(),i.trigger("onMonthChange",[S,C]),e(".dw-cal-slide",m).length>1&&(e(".dw-cal-slide",m).eq(0).remove(),e(".dw-cal-slide-a",m).removeClass("dw-cal-slide-a")),y=n(T.getFullYear(),T.getMonth()),v.removeClass("dw-cal-anim-prev").append(y),o(),setTimeout(function(){v.addClass("dw-cal-anim-a").addClass("dw-cal-anim-prev"),M=!0,setTimeout(function(){v.removeClass("dw-cal-anim-a"),M=!1},300)},10)}function c(){if(P)if(u=new Date(S,C,e(this).attr("data-date")),"week"==j.selectType){var t,s=e(this).hasClass("dw-sel"),n=u.getDay()-j.firstSelectDay,o=0,n=0>n?7+n:n;for(j.multiSelect||(i._selectedValues={}),o;7>o;o++)t=new Date(u.getFullYear(),u.getMonth(),u.getDate()-n+o),s?delete i._selectedValues[t]:i._selectedValues[t]=t;h()}else e(this).toggleClass("dw-sel"),B&&e(".dw-i",this).toggleClass("ui-btn-active"),e(this).hasClass("dw-sel")?i._selectedValues[u]=u:delete i._selectedValues[u];t="inline"===j.display,u=i.getDate(i.temp),i.setDate(new Date(S,C,e(this).attr("data-date"),u.getHours(),u.getMinutes(),u.getSeconds()),t,.2,!t),i.trigger("onDayChange",[{date:u,marked:e(".dw-cal-day-m",this).length>0,cell:this}])}function h(){P&&i.isVisible()&&(e(".dw-cal-slide",m).length>1&&e(".dw-cal-slide",m).eq(0).remove(),v.hasClass("dw-cal-anim-prev")?v.append(n(S,C)):v.prepend(n(S,C)))}function d(e){var t=e.originalEvent,i=e.changedTouches;return i||t&&t.changedTouches?t?t.changedTouches[0].pageX:i[0].pageX:e.pageX}var u,f,p,m,v,g,y,b,w,_,x,T,S,C,k,E=!1,I=!1,M=!1,j=e.extend({},t,i.settings),B="jqm"==j.theme,P=j.multiSelect||"week"==j.selectType,D="dw-cal-btn-d"+(B?" ui-disabled":"");if(k=j.controls.join(","),i.settings.preset="date"+(k.match(/time/)?"time":""),i.settings.selectedValues)for(f=0;i.settings.selectedValues.length>f;f++)u=i.settings.selectedValues[f],i._selectedValues[u]=u;return i.addValue=function(e){i._selectedValues[e]=e,h()},i.removeValue=function(e){delete i._selectedValues[e],h()},i.setValues=function(e){var t=0;for(i._selectedValues={},t;e.length>t;t++)i._selectedValues[e[t]]=e[t];h()},i._setValue||(i._setValue=i.setValue,i.setValue=function(){i._setValue.apply(this,arguments),i.isVisible()?r():T=i.getDate(i.temp)}),p=e.mobiscroll.presets.datetime.call(this,i),e.extend(p,{onMarkupReady:function(s){for(m=s,u=i.getDate(i.temp),j=e.extend({},t,i.settings),T=u,S=u.getFullYear(),C=u.getMonth(),j.minDate?(b=new Date(j.minDate.getFullYear(),j.minDate.getMonth(),1),_=j.minDate):_=b=new Date(j.startYear,0,1),j.maxDate?(w=new Date(j.maxDate.getFullYear(),j.maxDate.getMonth(),1),x=j.maxDate):x=w=new Date(j.endYear,11,31,23,59,59),s.addClass("dw-calendar"),k.match(/date/)||e(".dwc",m).eq(0).addClass("dwc-h"),g='<div class="dwc dw-cal-c"><div class="dw-cal"><div class="dw-cal-header'+(B?" ui-body-c":"")+'"><div class="dw-cal-btnc"><div class="dw-cal-prev dw-cal-btn dwb"><div class="dw-cal-btn-txt"'+(B?'data-role="button" data-icon="arrow-l" data-iconpos="notext"':"")+">"+j.prevText+'</div></div><span class="dw-cal-my">'+j.monthNames[C]+" "+S+'</span><div class="dw-cal-next dw-cal-btn dwb"><div class="dw-cal-btn-txt"'+(B?'data-role="button" data-icon="arrow-r" data-iconpos="notext"':"")+">"+j.nextText+'</div></div></div><table cellpadding="0" cellspacing="0"><tr>',f=0;7>f;f++)g+="<th>"+j.dayNamesShort[(f+j.firstDay)%7]+"</th>";if(g+='</tr></table></div><div class="dw-cal-anim-c"><div class="dw-cal-anim dw-cal-anim-prev"><div class="dw-cal-slide"></div></div></div><div class="dw-cal-f"></div></div></div>',e(".dwcc, .dwbc",m).before(g),v=e(".dw-cal-anim",m),v.append(n(S,C)).delegate(".dw-cal-day-v","touchstart mousedown",function(){e(this).addClass("dwb-a")}).delegate(".dw-cal-day-v","touchstart",function(){I=!1,E=!0}).delegate(".dw-cal-day-v","touchmove",function(){clearTimeout(void 0),I=!0}).delegate(".dw-cal-day-v","touchend",function(){I||c.call(this)}).delegate(".dw-cal-day-v","click",function(){E||c.call(this)}),i.tap(e(".dw-cal-prev",m),function(){M||e(this).hasClass("dw-cal-btn-d")||(C--,l.call(this))}),i.tap(e(".dw-cal-next",m),function(){M||e(this).hasClass("dw-cal-btn-d")||(C++,a.call(this))}),j.calWidth&&e(".dw-cal",m).width(j.calWidth),j.calHeight&&e(".dw-cal-anim-c",m).height(j.calHeight),j.swipe){var o,h,p,y;
e(".dw-cal-anim-c",m).bind("touchstart mousedown",function(e){e.preventDefault(),p=new Date,o=d(e)}).bind("touchend mouseup",function(t){y=new Date,h=d(t),y-p>300||(h-o>30&&!e(".dw-cal-prev",m).hasClass("dw-cal-btn-d")?(C--,l.call(this)):-30>h-o&&!e(".dw-cal-next",m).hasClass("dw-cal-btn-d")&&(C++,a.call(this)))})}r()},onChange:r,methods:{addValue:function(t){var i=e(this).mobiscroll("getInst");return i&&i.addValue(t),this},removeValue:function(t){var i=e(this).mobiscroll("getInst");return i&&i.removeValue(t),this},setValues:function(t){var i=e(this).mobiscroll("getInst");return i&&i.setValues(t),this}}}),p}}(jQuery),function(e){var t=e.mobiscroll,i=new Date,s={dateFormat:"mm/dd/yy",dateOrder:"mmddy",timeWheels:"hhiiA",timeFormat:"hh:ii A",startYear:i.getFullYear()-100,endYear:i.getFullYear()+1,monthNames:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthNamesShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),dayNames:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),dayNamesShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),shortYearCutoff:"+10",monthText:"Month",dayText:"Day",yearText:"Year",hourText:"Hours",minuteText:"Minutes",secText:"Seconds",ampmText:"&nbsp;",nowText:"Now",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" "},n=function(i){function n(e,t,i){return void 0!==m[t]?+e[m[t]]:void 0!==i?i:S[v[t]]?S[v[t]]():v[t](S)}function o(e,t){return Math.floor(e/t)*t}function r(e){var t=n(e,"h",0);return new Date(n(e,"y"),n(e,"m"),n(e,"d",1),n(e,"a")?t+12:t,n(e,"i",0),n(e,"s",0))}var l,a=e(this),c={};if(a.is("input")){switch(a.attr("type")){case"date":l="yy-mm-dd";break;case"datetime":l="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":l="yy-mm-ddTHH:ii:ss";break;case"month":l="yy-mm",c.dateOrder="mmyy";break;case"time":l="HH:ii:ss"}var h=a.attr("min"),a=a.attr("max");h&&(c.minDate=t.parseDate(l,h)),a&&(c.maxDate=t.parseDate(l,a))}var d,u=e.extend({},s,c,i.settings),f=0,c=[],p=[],m={},v={y:"getFullYear",m:"getMonth",d:"getDate",h:function(e){return e=e.getHours(),e=x&&e>=12?e-12:e,o(e,C)},i:function(e){return o(e.getMinutes(),k)},s:function(e){return o(e.getSeconds(),E)},a:function(e){return _&&e.getHours()>11?1:0}},g=u.preset,y=u.dateOrder,b=u.timeWheels,w=y.match(/D/),_=b.match(/a/i),x=b.match(/h/),T="datetime"==g?u.dateFormat+u.separator+u.timeFormat:"time"==g?u.timeFormat:u.dateFormat,S=new Date,C=u.stepHour,k=u.stepMinute,E=u.stepSecond,I=u.minDate||new Date(u.startYear,0,1),M=u.maxDate||new Date(u.endYear,11,31,23,59,59);if(i.settings=u,l=l||T,g.match(/date/i)){for(e.each(["y","m","d"],function(e,t){d=y.search(RegExp(t,"i")),d>-1&&p.push({o:d,v:t})}),p.sort(function(e,t){return e.o>t.o?1:-1}),e.each(p,function(e,t){m[t.v]=e}),a={},h=0;3>h;h++)if(h==m.y){f++,a[u.yearText]={};var j=I.getFullYear(),B=M.getFullYear();for(d=j;B>=d;d++)a[u.yearText][d]=y.match(/yy/i)?d:(d+"").substr(2,2)}else if(h==m.m)for(f++,a[u.monthText]={},d=0;12>d;d++)j=y.replace(/[dy]/gi,"").replace(/mm/,9>d?"0"+(d+1):d+1).replace(/m/,d+1),a[u.monthText][d]=j.match(/MM/)?j.replace(/MM/,'<span class="dw-mon">'+u.monthNames[d]+"</span>"):j.replace(/M/,'<span class="dw-mon">'+u.monthNamesShort[d]+"</span>");else if(h==m.d)for(f++,a[u.dayText]={},d=1;32>d;d++)a[u.dayText][d]=y.match(/dd/i)&&10>d?"0"+d:d;c.push(a)}if(g.match(/time/i)){for(p=[],e.each(["h","i","s","a"],function(e,t){e=b.search(RegExp(t,"i")),e>-1&&p.push({o:e,v:t})}),p.sort(function(e,t){return e.o>t.o?1:-1}),e.each(p,function(e,t){m[t.v]=f+e}),a={},h=f;f+4>h;h++)if(h==m.h)for(f++,a[u.hourText]={},d=0;(x?12:24)>d;d+=C)a[u.hourText][d]=x&&0==d?12:b.match(/hh/i)&&10>d?"0"+d:d;else if(h==m.i)for(f++,a[u.minuteText]={},d=0;60>d;d+=k)a[u.minuteText][d]=b.match(/ii/)&&10>d?"0"+d:d;else if(h==m.s)for(f++,a[u.secText]={},d=0;60>d;d+=E)a[u.secText][d]=b.match(/ss/)&&10>d?"0"+d:d;else h==m.a&&(f++,g=b.match(/A/),a[u.ampmText]={0:g?"AM":"am",1:g?"PM":"pm"});c.push(a)}return i.setDate=function(e,t,i,s){for(var n in m)this.temp[m[n]]=e[v[n]]?e[v[n]]():v[n](e);this.setValue(!0,t,i,s)},i.getDate=function(e){return r(e)},{button3Text:u.showNow?u.nowText:void 0,button3:u.showNow?function(){i.setDate(new Date,!1,.3,!0)}:void 0,wheels:c,headerText:function(){return t.formatDate(T,r(i.temp),u)},formatResult:function(e){return t.formatDate(l,r(e),u)},parseValue:function(e){var i,s=new Date,n=[];try{s=t.parseDate(l,e,u)}catch(o){}for(i in m)n[m[i]]=s[v[i]]?s[v[i]]():v[i](s);return n},validate:function(t){var s=i.temp,r={y:I.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},l={y:M.getFullYear(),m:11,d:31,h:o(x?11:23,C),i:o(59,k),s:o(59,E),a:1},a=!0,c=!0;e.each("y,m,d,a,h,i,s".split(","),function(i,o){if(void 0!==m[o]){var h,d,f=r[o],p=l[o],g=31,b=n(s,o),_=e(".dw-ul",t).eq(m[o]);if("d"==o&&(h=n(s,"y"),d=n(s,"m"),p=g=32-new Date(h,d,32).getDate(),w&&e(".dw-li",_).each(function(){var t=e(this),i=t.data("val"),s=new Date(h,d,i).getDay(),i=y.replace(/[my]/gi,"").replace(/dd/,10>i?"0"+i:i).replace(/d/,i);e(".dw-i",t).html(i.match(/DD/)?i.replace(/DD/,'<span class="dw-day">'+u.dayNames[s]+"</span>"):i.replace(/D/,'<span class="dw-day">'+u.dayNamesShort[s]+"</span>"))})),a&&I&&(f=I[v[o]]?I[v[o]]():v[o](I)),c&&M&&(p=M[v[o]]?M[v[o]]():v[o](M)),"y"!=o){var x=e(".dw-li",_).index(e('.dw-li[data-val="'+f+'"]',_)),T=e(".dw-li",_).index(e('.dw-li[data-val="'+p+'"]',_));e(".dw-li",_).removeClass("dw-v").slice(x,T+1).addClass("dw-v"),"d"==o&&e(".dw-li",_).removeClass("dw-h").slice(g).addClass("dw-h")}if(f>b&&(b=f),b>p&&(b=p),a&&(a=b==f),c&&(c=b==p),u.invalid&&"d"==o){var S=[];if(u.invalid.dates&&e.each(u.invalid.dates,function(e,t){t.getFullYear()==h&&t.getMonth()==d&&S.push(t.getDate()-1)}),u.invalid.daysOfWeek){var C,k=new Date(h,d,1).getDay();e.each(u.invalid.daysOfWeek,function(e,t){for(C=t-k;g>C;C+=7)C>=0&&S.push(C)})}u.invalid.daysOfMonth&&e.each(u.invalid.daysOfMonth,function(e,t){t=(t+"").split("/"),t[1]?t[0]-1==d&&S.push(t[1]-1):S.push(t[0]-1)}),e.each(S,function(t,i){e(".dw-li",_).eq(i).removeClass("dw-v")})}s[m[o]]=b}})},methods:{getDate:function(t){var i=e(this).mobiscroll("getInst");return i?i.getDate(t?i.temp:i.values):void 0},setDate:function(t,i,s,n){return void 0==i&&(i=!1),this.each(function(){var o=e(this).mobiscroll("getInst");o&&o.setDate(t,i,s,n)})}}}};e.each(["date","time","datetime"],function(e,i){t.presets[i]=n,t.presetShort(i)}),t.formatDate=function(t,i,n){if(!i)return null;var o,n=e.extend({},s,n),r=function(e){for(var i=0;t.length>o+1&&t.charAt(o+1)==e;)i++,o++;return i},l=function(e,t,i){if(t=""+t,r(e))for(;i>t.length;)t="0"+t;return t},a=function(e,t,i,s){return r(e)?s[t]:i[t]},c="",h=!1;for(o=0;t.length>o;o++)if(h)"'"!=t.charAt(o)||r("'")?c+=t.charAt(o):h=!1;else switch(t.charAt(o)){case"d":c+=l("d",i.getDate(),2);break;case"D":c+=a("D",i.getDay(),n.dayNamesShort,n.dayNames);break;case"o":c+=l("o",(i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=l("m",i.getMonth()+1,2);break;case"M":c+=a("M",i.getMonth(),n.monthNamesShort,n.monthNames);break;case"y":c+=r("y")?i.getFullYear():(10>i.getYear()%100?"0":"")+i.getYear()%100;break;case"h":var d=i.getHours(),c=c+l("h",d>12?d-12:0==d?12:d,2);break;case"H":c+=l("H",i.getHours(),2);break;case"i":c+=l("i",i.getMinutes(),2);break;case"s":c+=l("s",i.getSeconds(),2);break;case"a":c+=i.getHours()>11?"pm":"am";break;case"A":c+=i.getHours()>11?"PM":"AM";break;case"'":r("'")?c+="'":h=!0;break;default:c+=t.charAt(o)}return c},t.parseDate=function(t,i,n){var o=new Date;if(!t||!i)return o;var r,i="object"==typeof i?""+i:i+"",l=e.extend({},s,n),a=l.shortYearCutoff,n=o.getFullYear(),c=o.getMonth()+1,h=o.getDate(),d=-1,u=o.getHours(),o=o.getMinutes(),f=0,p=-1,m=!1,v=function(e){return(e=t.length>r+1&&t.charAt(r+1)==e)&&r++,e},g=function(e){return v(e),(e=i.substr(b).match(RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}")))?(b+=e[0].length,parseInt(e[0],10)):0},y=function(e,t,s){for(e=v(e)?s:t,t=0;e.length>t;t++)if(i.substr(b,e[t].length).toLowerCase()==e[t].toLowerCase())return b+=e[t].length,t+1;return 0},b=0;for(r=0;t.length>r;r++)if(m)"'"!=t.charAt(r)||v("'")?b++:m=!1;else switch(t.charAt(r)){case"d":h=g("d");break;case"D":y("D",l.dayNamesShort,l.dayNames);break;case"o":d=g("o");break;case"m":c=g("m");break;case"M":c=y("M",l.monthNamesShort,l.monthNames);break;case"y":n=g("y");break;case"H":u=g("H");break;case"h":u=g("h");break;case"i":o=g("i");break;case"s":f=g("s");break;case"a":p=y("a",["am","pm"],["am","pm"])-1;break;case"A":p=y("A",["am","pm"],["am","pm"])-1;break;case"'":v("'")?b++:m=!0;break;default:b++}if(100>n&&(n+=(new Date).getFullYear()-(new Date).getFullYear()%100+(("string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10))>=n?0:-100)),d>-1)for(c=1,h=d;;){if(l=32-new Date(n,c-1,32).getDate(),l>=h)break;c++,h-=l}if(u=new Date(n,c-1,h,-1==p?u:p&&12>u?u+12:p||12!=u?u:0,o,f),u.getFullYear()!=n||u.getMonth()+1!=c||u.getDate()!=h)throw"Invalid date";return u}}(jQuery),function(e){e.mobiscroll.themes.jqm={defaults:{jqmBorder:"a",jqmBody:"c",jqmHeader:"b",jqmWheel:"d",jqmClickPick:"c",jqmSet:"b",jqmCancel:"c"},init:function(t,i){var s=i.settings;e(".dw",t).removeClass("dwbg").addClass("ui-overlay-shadow ui-corner-all ui-body-"+s.jqmBorder),e(".dwb-s span",t).attr("data-role","button").attr("data-theme",s.jqmSet),e(".dwb-n span",t).attr("data-role","button").attr("data-theme",s.jqmCancel),e(".dwb-c span",t).attr("data-role","button").attr("data-theme",s.jqmCancel),e(".dwwb",t).attr("data-role","button").attr("data-theme",s.jqmClickPick),e(".dwv",t).addClass("ui-header ui-bar-"+s.jqmHeader),e(".dwwr",t).addClass("ui-body-"+s.jqmBody),e(".dwpm .dwwl",t).addClass("ui-body-"+s.jqmWheel),e(".dwpm .dwl",t).addClass("ui-body-"+s.jqmBody),t.trigger("create"),e(".dwo",t).click(function(){i.cancel()})}}}(jQuery),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(s.css3animate(t,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(t,{x:"0%",scale:1,time:"150ms",rotateY:"0deg",complete:function(){s.clearAnimations(t)}})}}),s.css3animate(e,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(e,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){s.finishTransition(e)}}),t.style.zIndex=2,e.style.zIndex=1}})):(e.style.zIndex=1,t.style.zIndex=2,s.css3animate(e,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(e,{x:"-100%",y:0,time:"1ms",scale:1,rotateY:"0deg",complete:function(){s.finishTransition(e)}})}}),s.css3animate(t,{x:"100%",time:"1ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(t,{x:"0%",time:"150ms",scale:1,rotateY:"0deg",complete:function(){s.clearAnimations(t)}})}}))}e.availableTransitions.flip=t}($.ui),function(e){e.fn.actionsheet=function(e){for(var i,s=0;this.length>s;s++)i=new t(this[s],e);return 1==this.length?i:this};var t=function(){var t=function(i,s){if(this.el="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.el)return alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof t))return new t(i,s);if("object"==typeof s)for(j in s)this[j]=s[j];try{var n,o=this,r='<div id="jq_actionsheet"><div style="width:100%">',l="</div></div>";if("string"==typeof s)n=e(r+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+l);else if("object"==typeof s){n=e(r+l);var a=e(n.children().get());s.push({text:"Cancel",cssClasses:"cancel"});for(var c=0;s.length>c;c++){var h=e('<a href="javascript:;" >'+(s[c].text||"TEXT NOT ENTERED")+"</a>");h[0].onclick=s[c].handler||function(){},s[c].cssClasses&&s[c].cssClasses.length>0&&h.addClass(s[c].cssClasses),a.append(h)}}e(i).find("#jq_actionsheet").remove(),e(i).find("#jq_action_mask").remove(),actionsheetEl=e(i).append(n),n.get().style[e.feat.cssPrefix+"Transition"]="all 0ms",n.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0"+e.feat.cssTransformEnd),n.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",n.on("click","a",function(){o.hideSheet()}),this.activeSheet=n,e(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){n.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",n.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,"+-n.height()+"px"+e.feat.cssTransformEnd)},10)}catch(d){alert("error adding actionsheet"+d)}};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.el).find("#jq_action_mask").remove(),this.activeSheet.get().style[e.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,s=this.el;setTimeout(function(){i.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",i.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0px"+e.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},t}()}(jq),function(e){e.fn.alphatable=function(e,i){for(var s,n=0;this.length>n;n++)s=new t(this[n],e,i);return 1==this.length?s:this};var t=function(){e.feat.cssTransformStart,e.feat.cssTransformEnd;var t=function(e,i,s){if("string"==typeof e&&(e=document.getElementById(e)),this.container=e.parentNode,!this.container)return alert("Error finding container for alphaTable "+e),void 0;if(!(this instanceof t))return new t(e,i,s);for(j in s)this[j]=s[j];return i&&"object"==typeof i?(this.scroller=i,this.el=e,this.setupIndex(),this.setupLetterBox(),void 0):alert("Error: Please include an jq.web.scroll object to use this")};return t.prototype={listCssClass:"",letterBox:null,isMoving:!1,prefix:"",scrollToLetter:function(e){var t=document.getElementById(this.prefix+e);if(t){var i=-t.offsetTop;this.scroller.scrollTo({x:0,y:i})}},setupIndex:function(){var e=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t=this,s=document.createElement("div");for(s.id="indexDIV_"+this.el.id,s.style.cssText="position:absolute;top:0px;right:20px;width:20px;font-size:6pt;font-weight:bold;color:#000;opacity:.5;border-radius:5px;text-align:center;z-index:9999;border:1px solid black;background:#666;padding-top:5px;padding-bottom:5px;",s.className=this.listCssClass,s.addEventListener("touchend",function(){t.isMoving=!1,t.clearLetterBox()},!1),s.addEventListener("touchstart",function(e){if(e.touches[0].target!=this){t.isMoving=!0;var i=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(!i||!i.getAttribute("alphatable-item")||0==i.getAttribute("alphatable-item").length)var i=e.touches[0].target;i.innerHTML.length>1||(t.showLetter(i.innerHTML),t.scrollToLetter(i.innerHTML),e.preventDefault(),e.stopPropagation())}},!1),s.addEventListener("touchmove",function(e){var i=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(!i||!i.getAttribute("alphatable-item")||0==i.getAttribute("alphatable-item").length)var i=e.touches[0].target;i.innerHTML.length>1||t.isMoving&&(t.showLetter(i.innerHTML),t.scrollToLetter(i.innerHTML),e.preventDefault())},!1),i=0;e.length>i;i++){var n=document.createElement("div");n.innerHTML=e[i],n.setAttribute("alphatable-item","true"),s.appendChild(n)}this.container.appendChild(s),numOnly(s.clientHeight)-numOnly(s.style.top)-numOnly(s.style.paddingTop),this.scroller.scrollTo({x:0,y:0}),s=null},showLetter:function(e){var t=this;this.letterBox.style.display="block",this.letterBox.innerHTML!=e&&(t.letterBox.innerHTML=e)},clearLetterBox:function(){this.letterBox.style.display="none",this.letterBox.innerHTML=""},setupLetterBox:function(){var t=document.createElement("div");t.style.cssText=e.feat.cssPrefix+"-transform:translate3d(0,0,0);display:none;position:absolute;top:35%;left:35%;height:2em;width:15%;line-height:2em;text-align:center;font-size:2em;color:blue;background:#666;z-index:999999;border:1px solid black;border-raidus:10px;",t.className=this.letterBoxCssClass,t.innerHTML="",this.letterBox=t,this.container.appendChild(t),t=null}},t}()}(jq),function(e){function t(e,t){var i=e,s=t;Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)));var n=Math.atan2(s,i),o=Math.round(180*n/Math.PI);return 0>o&&(o=360-Math.abs(o)),215>=o&&o>=155||45>=o&&o>=0||360>=o&&o>=315?!0:!1}var i=[],s=function(t){return t.jqmCarouselId||(t.jqmCarouselId=e.uuid()),t.jqmCarouselId};e.fn.carousel=function(e){for(var t,n,r=0;this.length>r;r++)n=s(this[r]),i[n]?t=i[n]:(t=new o(this[r],e),i[n]=t);return 1==this.length?t:this};var o=function(){var s=e.feat.cssTransformStart,o=e.feat.cssTransformEnd,r=function(t,s){if(this.container="string"==typeof t||t instanceof String?document.getElementById(t):t,!this.container)return alert("Error finding container for carousel "+t),void 0;if(!(this instanceof r))return new r(t,s);for(var n in s)s.hasOwnProperty(n)&&(this[n]=s[n]);var o=this;jq(this.container).bind("destroy",function(e){var t=o.container.jqmCarouselId;window.removeEventListener("orientationchange",o.orientationHandler,!1),i[t]&&delete i[t],e.stopPropagation()}),this.pagingDiv=this.pagingDiv?document.getElementById(this.pagingDiv):null,this.container.style.overflow="hidden",this.vertical&&(this.horizontal=!1);var l=document.createElement("div");this.container.appendChild(l);for(var a=e(l),c=e(this.container),h=Array.prototype.slice.call(this.container.childNodes);h.length>0;){var d=h.splice(0,1);d=c.find(d),d.get()!=l&&a.append(d.get())}this.horizontal?(l.style.display="block",l.style["float"]="left"):l.style.display="block",this.el=l,this.refreshItems();var u=jq(l);u.bind("touchmove",function(e){o.touchMove(e)}),u.bind("touchend",function(e){o.touchEnd(e)}),u.bind("touchstart",function(e){o.touchStart(e)}),this.orientationHandler=function(){o.onMoveIndex(o.carouselIndex,0)},window.addEventListener("orientationchange",this.orientationHandler,!1)};return r.prototype={startX:0,startY:0,dx:0,dy:0,glue:!1,myDivWidth:0,myDivHeight:0,cssMoveStart:0,childrenCount:0,carouselIndex:0,vertical:!1,horizontal:!0,el:null,movingElement:!1,container:null,pagingDiv:null,pagingCssName:"carousel_paging",pagingCssNameSelected:"carousel_paging_selected",pagingFunction:null,lockMove:!1,okToMove:!1,touchStart:function(t){if(this.okToMove=!1,this.myDivWidth=numOnly(this.container.clientWidth),this.myDivHeight=numOnly(this.container.clientHeight),this.lockMove=!1,t.touches[0].target&&void 0!==t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"===i||"input"===i||"button"===i)return}if(1===t.touches.length){this.movingElement=!0,this.startY=t.touches[0].pageY,this.startX=t.touches[0].pageX;var s=e.getCssMatrix(this.el);if(this.vertical)try{this.cssMoveStart=numOnly(s.f)}catch(n){this.cssMoveStart=0}else try{this.cssMoveStart=numOnly(s.e)}catch(n){this.cssMoveStart=0}}},touchMove:function(i){if(this.movingElement){if(i.touches.length>1)return this.touchEnd(i);var s={x:i.touches[0].pageX-this.startX,y:i.touches[0].pageY-this.startY};if(this.vertical){var n={x:0,y:0};this.dy=i.touches[0].pageY-this.startY,this.dy+=this.cssMoveStart,n.y=this.dy,i.preventDefault()}else{if(this.lockMove||!t(s.x,s.y))return this.lockMove=!0;var n={x:0,y:0};this.dx=i.touches[0].pageX-this.startX,this.dx+=this.cssMoveStart,i.preventDefault(),n.x=this.dx}var o=this.vertical?-1*100*(this.dy%this.myDivHeight/this.myDivHeight):-1*100*(this.dx%this.myDivWidth/this.myDivWidth);this.okToMove||(oldStateOkToMove=this.okToMove,this.okToMove=this.glue?Math.abs(o)>this.glue&&Math.abs(o)<100-this.glue:!0,this.okToMove&&!oldStateOkToMove&&e.trigger(this,"movestart",[this.el])),this.okToMove&&n&&this.moveCSS3(this.el,n)}},touchEnd:function(){if(this.movingElement){e.trigger(this,"movestop",[this.el]);var t=!1;try{var i=e.getCssMatrix(this.el),s=this.vertical?numOnly(i.f):numOnly(i.e),n=this.vertical?-1*100*(this.dy%this.myDivHeight/this.myDivHeight):-1*100*(this.dx%this.myDivWidth/this.myDivWidth),o=this.carouselIndex;this.cssMoveStart>s&&n>3?o++:s>this.cssMoveStart&&97>n&&o--;var r=o;o>this.childrenCount-1&&(o=0,r=this.childrenCount),0>o&&(o=this.childrenCount-1,r=-1);var l={x:0,y:0};if(this.vertical?l.y=-1*r*this.myDivHeight:l.x=-1*r*this.myDivWidth,this.moveCSS3(this.el,l,"150"),this.pagingDiv&&this.carouselIndex!==o&&(document.getElementById(this.container.id+"_"+this.carouselIndex).className=this.pagingCssName,document.getElementById(this.container.id+"_"+o).className=this.pagingCssNameSelected),this.carouselIndex!=o&&(t=!0),this.carouselIndex=o,r!=o){var a=this;window.setTimeout(function(){a.onMoveIndex(o,"1ms")},155)}}catch(c){}this.dx=0,this.movingElement=!1,this.startX=0,this.dy=0,this.startY=0,t&&this.pagingFunction&&"function"==typeof this.pagingFunction&&this.pagingFunction(this.carouselIndex)}},onMoveIndex:function(e,t){this.myDivWidth=numOnly(this.container.clientWidth),this.myDivHeight=numOnly(this.container.clientHeight);var i=!1;document.getElementById(this.container.id+"_"+this.carouselIndex)&&(document.getElementById(this.container.id+"_"+this.carouselIndex).className=this.pagingCssName);var s=Math.abs(e-this.carouselIndex),n=e;0>n&&(n=0),n>this.childrenCount-1&&(n=this.childrenCount-1);var o={x:0,y:0};this.vertical?o.y=-1*n*this.myDivHeight:o.x=-1*n*this.myDivWidth;var r=t?t:50+parseInt(20*s);if(this.moveCSS3(this.el,o,r),this.carouselIndex!=n&&(i=!0),this.carouselIndex=n,this.pagingDiv){var l=document.getElementById(this.container.id+"_"+this.carouselIndex);l&&(l.className=this.pagingCssNameSelected)}i&&this.pagingFunction&&"function"==typeof this.pagingFunction&&this.pagingFunction(currInd)},moveCSS3:function(t,i,n,r){n=n?parseInt(n):0,r||(r="linear"),t.style[e.feat.cssPrefix+"Transform"]="translate"+s+i.x+"px,"+i.y+"px"+o,t.style[e.feat.cssPrefix+"TransitionDuration"]=n+"ms",t.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",t.style[e.feat.cssPrefix+"TransformStyle"]="preserve-3d",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=r},addItem:function(e){e&&e.nodeType&&(this.container.childNodes[0].appendChild(e),this.refreshItems())},refreshItems:function(){var t=0,i=this,s=this.el;e(s).children().find(".prevBuffer").remove(),e(s).children().find(".nextBuffer").remove(),n=s.childNodes[0];for(var o,r=[];n;n=n.nextSibling)1===n.nodeType&&(r.push(n),t++);var l=e(r[r.length-1]).clone().get(0);e(s).prepend(l);var a=e(r[0]).clone().get(0);e(s).append(a),r.push(a),r.unshift(l),this.childrenCount=t,o=parseFloat(100/t)+"%";for(var c=0;r.length>c;c++)this.horizontal?(r[c].style.width=o,r[c].style.height="100%",r[c].style["float"]="left"):(r[c].style.height=o,r[c].style.width="100%",r[c].style.display="block");if(a.style.position="absolute",l.style.position="absolute",this.moveCSS3(s,{x:0,y:0}),this.horizontal?(s.style.width=Math.ceil(100*this.childrenCount)+"%",s.style.height="100%",s.style["min-height"]="100%",l.style.left="-"+o,a.style.left="100%"):(s.style.width="100%",s.style.height=Math.ceil(100*this.childrenCount)+"%",s.style["min-height"]=Math.ceil(100*this.childrenCount)+"%",l.style.top="-"+o,a.style.top="100%"),this.pagingDiv){for(this.pagingDiv.innerHTML="",c=0;this.childrenCount>c;c++){var h=document.createElement("div");h.id=this.container.id+"_"+c,h.pageId=c,h.className=c!==this.carouselIndex?this.pagingCssName:this.pagingCssNameSelected,h.onclick=function(){i.onMoveIndex(this.pageId)};var d=document.createElement("div");d.style.width="20px",this.horizontal?(d.style.display="inline-block",d.innerHTML="&nbsp;"):(d.innerHTML="&nbsp;",d.style.display="block"),this.pagingDiv.appendChild(h),this.childrenCount>c+1&&this.pagingDiv.appendChild(d),h=null,d=null}this.horizontal?(this.pagingDiv.style.width=50*this.childrenCount+"px",this.pagingDiv.style.height="25px"):(this.pagingDiv.style.height=50*this.childrenCount+"px",this.pagingDiv.style.width="25px")}this.onMoveIndex(this.carouselIndex)}},r}()}(jq),function(e){var t=[],i=function(t){return t.jqmCSS3AnimateId||(t.jqmCSS3AnimateId=e.uuid()),t.jqmCSS3AnimateId},s=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},n=function(e,n){var o,r,l=s(e);return r=i(l),t[r]?(t[r].animate(n),o=t[r]):(o=a(l,n),t[r]=o),o};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=n(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var i=1;this.length>i;i++)t.link(this[i],e);return t},e.css3AnimateQueue=function(){return new a.queue};var o=e.feat.cssTransformStart,r=e.feat.cssTransformEnd,l=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=e.os.fennec||""==e.feat.cssPrefix||e.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=s,this.linkFinishedProxy_=e.proxy(this.linkFinished,this),this.el){this.animate(n);var o=this;jq(this.el).bind("destroy",function(){var e=o.el.jqmCSS3AnimateId;o.callbacksStack=[],t[e]&&delete t[e]})}};return i.prototype={animate:function(t){if(this.isActive&&this.cancel(),this.isActive=!0,!t)return alert("Please provide configuration options for animation of "+this.el.id),void 0;var i=!!t.addClass;if(i)t.removeClass?jq(this.el).replaceClass(t.removeClass,t.addClass):jq(this.el).addClass(t.addClass);else{var s=numOnly(t.time);if(0==s&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous){var n=new e.getCssMatrix(this.el);t.y+=numOnly(n.f),t.x+=numOnly(n.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear"),("number"==typeof t.x||-1==t.x.indexOf("%")&&-1==t.x.toLowerCase().indexOf("px")&&-1==t.x.toLowerCase().indexOf("deg"))&&(t.x=parseInt(t.x)+"px"),("number"==typeof t.y||-1==t.y.indexOf("%")&&-1==t.y.toLowerCase().indexOf("px")&&-1==t.y.toLowerCase().indexOf("deg"))&&(t.y=parseInt(t.y)+"px");var a="translate"+o+t.x+","+t.y+r+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(a+=" rotateY("+t.rotateY+")"),a+=" skew("+t.skewX+","+t.skewY+")",this.el.style[e.feat.cssPrefix+"Transform"]=a,this.el.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";if(void 0!==t.opacity&&(this.el.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.el.style.width=t.width,c="all"),t.height&&(this.el.style.height=t.height,c="all"),this.el.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s"))var h="ms",d=t.time+h;else if(-1!==t.time.indexOf("ms"))var h="ms",d=t.time;else var h="s",d=t.time+h;this.el.style[e.feat.cssPrefix+"TransitionDuration"]=d,this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.el.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.el);if(i){var p=f[e.feat.cssPrefix+"TransitionDuration"],s=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==s||"ms"==h&&5>s||"none"==f.display)e.asap(e.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(e){clearTimeout(u.timeout),u.finishAnimation(e),u.el.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.el.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var i=0;t.length>i;i++){var s=t[i].complete,n=t[i].success,o=t[i].failure;s&&"function"==typeof s&&s(e),e&&o&&"function"==typeof o?o():n&&"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var i={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(i),t.success=null,t.failure=null,n(e,t),t.complete=i.complete,t.success=i.success,t.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var t=this.shift();t()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(t){t||e.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(e){e.debug={},e.debug.out=function(){};var t=14,s=function(){return(new Date).getTime()},n=s(),o=function(){return thisTime=s(),pastTime=thisTime-n,n=thisTime,pastTime>1e4?""+Math.floor(pastTime/1e3)+"s":pastTime>3e3?""+Math.floor(pastTime/100)/10+"s":""+Math.floor(pastTime)+"ms"},r=function(i,s){if(null===i)return null;if(curType=typeof i,"number"==curType)return i;if("string"==curType)return"'"+i+"'";if("boolean"==curType)return i?"true":"false";if(e.isArray(i)){if(t>=i.length){var n="[",o=!0;for(el in i)o?o=!1:n+=", ",n+=r(i[el],!1);return n+"]"}}else if("object"==curType){var l=e.is$(i);if(!l&&s&&t>=Object.keys(i).length){var n="{",o=!0;for(el in i)o?o=!1:n+=", ",n+=el+":"+r(i[el],!1);return n+"}"}if(l){for(var n="$("+i[0].tagName+(i[0].id?"#"+i[0].id:""),a=0;i.length>a;a++)n+=", "+oobj[a].tagName+(i[a].id?"#"+i[a].id:"");return n+")"}if(void 0!==i.tagName&&"string"==typeof i.tagName)return"["+i.tagName+(i.id?"#"+i.id:"")+"]"}return"["+curType+"]"},l=function(e){var t="",s=!0;for(i=0;e.length>i;i++)s?s=!1:t+=", ",t+=r(e[i],!0);return""==t&&(t="void"),t};e.debug.since=function(){return"[+"+o()+"] "},e.debug.log=function(e){this.out(this.since()+e)},e.debug.method=function(e,t,i){var s=this;return function(){return s.log(i+"("+l(arguments)+")"),t.apply(e,arguments)}},e.debug.object=function(e,t){for(item in e)"function"==typeof e[item]&&(e[item]=this.method(e,e[item],t+"."+item))},e.debug.type=function(e,t){var i=this,s=function(){i.log(t+".constructor("+l(arguments)+")"),e.apply(this,arguments),i.object(this,t)};for(el in e.prototype)s.prototype[el]=e.prototype[el];return s}}(jq),function($){var cancelClickMove=!1,preventAll=function(e){e.preventDefault(),e.stopPropagation()},redirectMouseToTouch=function(type,originalEvent,newTarget){var theTarget=newTarget?newTarget:originalEvent.target;-1==theTarget.tagName.toUpperCase().indexOf("SELECT")&&-1==theTarget.tagName.toUpperCase().indexOf("TEXTAREA")&&-1==theTarget.tagName.toUpperCase().indexOf("INPUT")&&preventAll(originalEvent);var touchevt=document.createEvent("MouseEvent");if(touchevt.initEvent(type,!0,!0),touchevt.initMouseEvent(type,!0,!0,window,originalEvent.detail,originalEvent.screenX,originalEvent.screenY,originalEvent.clientX,originalEvent.clientY,originalEvent.ctrlKey,originalEvent.shiftKey,originalEvent.altKey,originalEvent.metaKey,originalEvent.button,originalEvent.relatedTarget),"touchend"!=type&&(touchevt.touches=[],touchevt.touches[0]={},touchevt.touches[0].pageX=originalEvent.pageX,touchevt.touches[0].pageY=originalEvent.pageY,touchevt.touches[0].target=theTarget,touchevt.changedTouches=touchevt.touches,touchevt.targetTouches=touchevt.touches),touchevt.mouseToTouch=!0,$.os.ie)for(var elem=originalEvent.target;null!=elem;)elem.hasAttribute("on"+type)&&eval(elem.getAttribute("on"+type)),elem=elem.parentElement;theTarget.dispatchEvent(touchevt)},mouseDown=!1,lastTarget=null,firstMove=!1;window.navigator.msPointerEnabled?(document.addEventListener("MSPointerDown",function(e){mouseDown=!0,lastTarget=e.target,"a"==e.target.nodeName.toLowerCase()&&"javascript:;"==e.target.href.toLowerCase()&&(e.target.href="#"),redirectMouseToTouch("touchstart",e),firstMove=!0,cancelClickMove=!1
},!0),document.addEventListener("MSPointerUp",function(e){mouseDown&&(redirectMouseToTouch("touchend",e,lastTarget),lastTarget=null,mouseDown=!1)},!0),document.addEventListener("MSPointerMove",function(e){if(mouseDown){if(firstMove)return firstMove=!1;redirectMouseToTouch("touchmove",e),e.preventDefault(),cancelClickMove=!0}},!0)):(document.addEventListener("mousedown",function(e){mouseDown=!0,lastTarget=e.target,"a"==e.target.nodeName.toLowerCase()&&"javascript:;"==e.target.href.toLowerCase()&&(e.target.href="#"),redirectMouseToTouch("touchstart",e),firstMove=!0,cancelClickMove=!1},!0),document.addEventListener("mouseup",function(e){mouseDown&&(redirectMouseToTouch("touchend",e,lastTarget),lastTarget=null,mouseDown=!1)},!0),document.addEventListener("mousemove",function(e){if(mouseDown){if(firstMove)return firstMove=!1;redirectMouseToTouch("touchmove",e),e.preventDefault(),cancelClickMove=!0}},!0)),document.addEventListener("drag",preventAll,!0),document.addEventListener("dragstart",preventAll,!0),document.addEventListener("dragenter",preventAll,!0),document.addEventListener("dragover",preventAll,!0),document.addEventListener("dragleave",preventAll,!0),document.addEventListener("dragend",preventAll,!0),document.addEventListener("drop",preventAll,!0),document.addEventListener("selectstart",preventAll,!0),document.addEventListener("click",function(e){e.mouseToTouch||e.target!=lastTarget||preventAll(e),cancelClickMove&&(preventAll(e),cancelClickMove=!1)},!0),window.addEventListener("resize",function(){var e=document.createEvent("Event");e.initEvent("orientationchange",!0,!0),document.dispatchEvent(e)},!1)}(jq),function(e){e.fn.drawer=function(e){for(var i,s=0;this.length>s;s++)i=new t(this[s],e);return 1==this.length?i:this};var t=function(){var t=e.feat.cssTransformStart,i=e.feat.cssTransformEnd,s=!1,n=function(t,i){if(this.el="string"==typeof t||t instanceof String?document.getElementById(t):t,!this.el)return alert("Could not find element for drawer "+t),void 0;if(!(this instanceof n))return new n(t,i);for(j in i)this[j]=i[j];this.direction=this.direction.toLowerCase();try{if(this.handle=this.el.querySelectorAll(".drawer_handle")[0],!this.handle)return alert("Could not find handle for drawer -  "+t);var s=this;this.handle.addEventListener("touchmove",function(e){s.touchMove(e)},!1),this.handle.addEventListener("touchend",function(e){s.touchEnd(e)},!1)}catch(o){alert("error adding drawer"+o)}this.zIndex=e(this.el).css("zIndex")};return n.prototype={lockY:0,lockX:0,boolScrollLock:!1,currentDrawer:null,maxTop:0,startTop:0,maxLeft:0,startLeft:0,timeMoved:0,vdistanceMoved:0,hdistanceMoved:0,direction:"down",prevTime:0,handle:null,zIndex:1,touchMove:function(t){try{if(s||(s=!0,this.touchStart(t)),null!=this.currentDrawer){t.preventDefault();var i={x:0,y:0};if("down"==this.direction||"up"==this.direction){var n=0,o=0,r=this.lockY-t.touches[0].pageY;r=-r;var n=this.startTop+r;try{var o=numOnly(e.getCssMatrix(this.el).f)}catch(l){var o=0}i.y=n,this.vdistanceMoved+=Math.abs(o)-Math.abs(n)}else{var a=0,c=0,h=this.lockX-t.touches[0].pageX;h=-h;var a=this.startLeft+h;try{var c=numOnly(e.getCssMatrix(this.el).e)}catch(l){var c=0}i.x=a,this.hdistanceMoved+=Math.abs(c)-Math.abs(a)}this.drawerMove(this.currentDrawer,i,0)}}catch(d){alert("error in scrollMove: "+d)}},touchStart:function(t){var i=this.handle,s=this.el;if(i)try{if(t.touches[0].target&&void 0!=t.touches[0].target.type){var n=t.touches[0].target.tagName.toLowerCase();if("select"==n||"input"==n||"button"==n)return}if(this.vdistanceMoved=0,this.hdistanceMoved=0,this.maxTop=numOnly(this.el.style.height)-numOnly(this.handle.style.height),this.maxLeft=numOnly(this.el.style.width)-numOnly(this.handle.style.width),"up"==this.direction&&(this.maxTop*=-1),"left"==this.direction&&(this.maxLeft*=-1),1==t.touches.length&&0==this.boolScrollLock){try{this.startTop=numOnly(e.getCssMatrix(this.el).f),this.startLeft=numOnly(e.getCssMatrix(this.el).e)}catch(o){this.startTop=0,this.startLeft=0}this.lockY=t.touches[0].pageY,this.lockX=t.touches[0].pageX,this.currentDrawer=s,t.preventDefault()}}catch(o){alert("error in drawer start: "+o)}},touchEnd:function(t){if(null!=this.currentDrawer){t.preventDefault(),t.stopPropagation();var i={x:0,y:0};if("up"==this.direction||"down"==this.direction){var n=-this.vdistanceMoved,o=Math.ceil(100*(Math.abs(n)/Math.abs(this.maxTop))),r=numOnly(e.getCssMatrix(this.el).f);i.y=o>17?n>0?this.maxTop:0:Math.floor(this.maxTop/r)>2?0:this.maxTop}else{var n=-this.hdistanceMoved,o=Math.ceil(100*(Math.abs(n)/Math.abs(this.maxLeft))),l=numOnly(e.getCssMatrix(this.el).e);o>17?i.x=n>0?this.maxLeft:0:Math.floor(this.maxLeft/l)>2?i.y=0:i.x=this.maxLeft}this.el.zIndex=i.y>0||i.x>0?"9999":this.zIndex,this.drawerMove(this.currentDrawer,i,300,"ease-out"),this.currentDrawer=null}this.vdistanceMoved=0,s=!1},drawerMove:function(s,n,o,r){o||(o=0),r||(r="linear"),s.style[e.feat.cssPrefix+"Transform"]="translate"+t+n.x+"px,"+n.y+"px"+i,s.style[e.feat.cssPrefix+"TransitionDuration"]=o+"ms",s.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",s.style[e.feat.cssPrefix+"TransformStyle"]="preserve-3d",s.style[e.feat.cssPrefix+"TransitionTimingFunction"]=r}},n}()}(jq),function(e){var t=function(){};e.fn.fadeOut=function(e,i,s){if(0!=this.length){e||(e=0);var n=this,o=t;i||(i=t),s||(s=0,o=function(){this.hide()});var r={opacity:s,time:e,callback:function(){i.apply(n),o.apply(n)}};return this.css3Animate(r),this}},e.fn.fadeIn=function(e,t){e||(e="300ms"),this.show(),this.css("opacity",".1");var i=this;return window.setTimeout(function(){i.fadeOut(e,t,10)},1),this},e.fn.slideToggle=function(t,i,s){for(var n={time:t?t:"500ms",callback:i?i:null,easing:s?s:"linear"},o=0;this.length>o;o++){var r=this.css("display",null,this[o]),l=!1,a=e(this[o]);"none"==r&&(a.show(),l=!0);var c=this.css("height",null,this[o]);l?(a.css("height","0px"),n.height=c):(n.height="0px",i=function(){a.hide();var e={height:c,time:"0ms"};a.css3Animate(e)}),i&&(n.callback=i),window.setTimeout(function(){a.css3Animate(n)},1)}return this}}(jq),function(e){e.passwordBox=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for passwordBox "+t),void 0;for(var s=i.getElementsByTagName("input"),n=0;s.length>n;n++)"password"==s[n].type&&e.os.webkit&&(s[n].type="text",s[n].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(t,i){t=parseInt(t);var s=document.getElementById(i);s.style[e.cssPrefix+"text-security"]=1==t?"none":"disc",e.os.webkit||(s.type=1==t?"text":"password"),s=null}}}(jq),function(e){e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=id=s.id=s.id||e.uuid(),this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,t.push(this),1==t.length&&this.show()}catch(n){}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";e(this.container).append(e(i));var s=e("#"+this.id);s.bind("close",function(){t.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"==i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.block_ui(.5),s.removeClass("hidden"),s.bind("orientationchange",function(){t.positionPopup()}),s.find("header").show(),s.find("footer").show(),this.onShow(this)},hide:function(){var t=this;e("#"+t.id).addClass("hidden"),e.unblock_ui(),setTimeout(function(){t.remove()},250)},remove:function(){var i=this,s=e("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),s=!1;e.block_ui=function(t){s||(t=t?" style='opacity:"+t+";'":"",e("BODY").prepend(e("<div id='mask'"+t+"></div>")),e("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),s=!0)},e.unblock_ui=function(){s=!1,e("BODY DIV#mask").unbind("touchstart"),e("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()},window.alert=function(t){(null===t||void 0===t)&&(t="null"),e("#ui_kit").length>0?e("#ui_kit").popup(""+t):e(document.body).popup(""+t)}}(jq),function(e){function t(e){return n[e].el?!0:(delete n[e],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;e.bind(e.touchLayer,"pre-enter-edit",function(e){if(!i){i=!0;for(el in n)t(el)&&n[el].needsFormsFix(e)&&n[el].startFormsMode()}}),e.bind(e.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(el in n)t(el)&&n[el].androidFormsMode&&n[el].stopFormsMode()}})}r=!0}var s=75,n=[],o=function(t){return t.jqmScrollerId||(t.jqmScrollerId=e.uuid()),t.jqmScrollerId};e.fn.scroller=function(t){for(var i,s,r=0;this.length>r;r++)s=o(this[r]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=l(this[r],t),n[s]=i);return 1==this.length?i:this};var r=!1,l=function(){function t(t,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=t+"px",s.style.height=i+"px",s.style[e.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.opacity=0,s.className="scrollBar",s.style.background="black",s}var o,l,a=e.feat.cssTransformStart,c=e.feat.cssTransformEnd,h=function(t,s){if(!r&&e.touchLayer&&e.isObject(e.touchLayer)?i():e.touchLayer&&e.isObject(e.touchLayer)||(e.touchLayer={}),"string"==typeof t||t instanceof String)var n=document.getElementById(t);else var n=t;return n?jq.os.desktop?new d(n,s):s.useJsScroll?new o(n,s):new l(n,s):(alert("Could not find element for scroller "+t),void 0)},d=function(t,i){this.el=t,this.jqEl=e(this.el);for(j in i)this[j]=i[j]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(e,t){var t=parseInt(t);if(0==t||isNaN(t))return this.el.scrollTop=Math.abs(e.y),this.el.scrollLeft=Math.abs(e.x),void 0;var i=10,s=(this.el.scrollTop-e.y)/Math.ceil(t/i),n=(this.el.scrollLeft-e.x)/Math.ceil(t/i),o=this,r=Math.ceil(this.el.scrollTop-e.y)/s,l=Math.ceil(this.el.scrollLeft-e.x)/s,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.el.scrollTop-=s,yRun++,yRun>=r&&(o.el.scrollTop=e.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.el.scrollLeft-=n,a++,a>=l&&(o.el.scrollLeft=e.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.el=t,this.jqEl=e(this.el),this.defaultProperties();for(j in i)this[j]=i[j];var s=this,o=function(){s.eventsActive&&s.adjustScroll()};this.jqEl.bind("destroy",function(){s.disable(!0);var t=s.el.jqmScrollerId;n[t]&&delete n[t],e.unbind(e.touchLayer,"orientationchange-reshape",o)}),e.bind(e.touchLayer,"orientationchange-reshape",o)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!=this.el.style.display&&e(t).closest(this.jqEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){if(t&&(this.refreshElement=t),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var s=jq(i);else var s=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var s=jq(this.refreshElement);var n=s.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.el).prepend(this.refreshContainer.append(n,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(e){jq(this.container).find(".jqscroll_refresh").html(e)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(t,i){if(e.is$(t)||(t=e(t)),"bottom"==i){var s=t.offset(),n=s.top-this.jqEl.offset().bottom+s.height;n+=4}else{var o=t.offset().top,n=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(n-=r),n-=4}this.scrollBy({y:n,x:0},0)},setPaddings:function(t,i){var s=e(this.el),n=numOnly(s.css("paddingTop"));s.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-n,x:0})},divide:function(e,t){return 0!=t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,s){if(this.init(i,s),this.container=this.el.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=e(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var n=t(5,20);n.style.top="0px",this.vScrollCSS&&(n.className=this.vScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.vscrollBar=n,n=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var n=t(20,5);n.style.bottom="0px",this.hScrollCSS&&(n.className=this.hScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.hscrollBar=n,n=null}this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},l=function(t,i){this.init(t,i);var s=e(t);if(i.noParent!==!0){var n=s.parent(),o=n.height();o+=-1==o.indexOf("%")?"px":"",s.css("height",o),s.parent().parent().append(s),n.remove()}this.container=this.el,s.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.jqEl.css("overflow","auto")}},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",e||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1))},l.prototype.disable=function(e){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),e||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(e,t){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(t){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.el.addEventListener("touchmove",this,!1),this.dY=t.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),e.trigger(this,"scrollstart",[this.el]),e.trigger(e.touchLayer,"scrollstart",[this.el])},l.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY;this.moved||(this.el.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.el.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=i,t.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var t=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(t,!0),t&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,s=this,n={top:this.el.scrollTop,left:this.el.scrollLeft},o=0;s.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(s.nativePolling),void 0):((s.el.scrollTop!=n.top||s.el.scrollLeft!=n.left)&&(clearInterval(s.nativePolling),e.trigger(e.touchLayer,"scrollend",[s.el]),e.trigger(s,"scrollend",[s.el])),void 0)},20)},l.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,n=function(t){t||(i.el.style[e.feat.cssPrefix+"Transform"]="none",i.el.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.el.scrollTop=0,i.logPos(i.el.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,e.trigger(i,"refresh-finish")};t!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.el.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},l.prototype.scrollBy=function(e,t){return e.x+=this.el.scrollLeft,e.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(e,t)},l.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.el.scrollLeft,this.el.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},l.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.el.scrollWidth),this.loggedPcentY=this.divide(t,this.el.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},o.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-e.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.el);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.el.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},o.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!=t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.el);s.top=numOnly(o.f)-numOnly(this.container.scrollTop),s.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0==s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>s.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=s,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),e.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop),s=parseInt(t.style.marginLeft);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=e.getCssMatrix(t);return n},o.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";s!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},t,i),!0},o.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},t,i),!0},o.prototype.onTouchMove=function(e){if(null!=this.currentScrollingObject){var t=this.calculateMovement(e);this.calculateTarget(t),this.lastScrollInfo=t,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==t.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>t.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(e),this.doScroll()}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var t=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(t.f),this.lastScrollInfo.left=numOnly(t.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||s){var n=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-n)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:s&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=t?this.firstEventInfo:this.lastEventInfo,n=t?e.pageX:e.touches[0].pageX,o=t?e.pageY:e.touches[0].pageY,r=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=r,i.duration=r-s.time,i},o.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},o.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},o.prototype.checkXboundary=function(e){if(e.x>0)e.x=0;else{if(!(-e.x>this.elementInfo.maxLeft))return;
e.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(e)},o.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},o.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},o.prototype.hideRefresh=function(){var t=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(t,"refresh-finish")}},s),this.refreshTriggered=!1)},o.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY=(0>e.deltaY?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(100*t>e.absSpeedY||5>e.absDeltaY)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX=(0>e.deltaX?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(100*t>e.absSpeedX||5>e.absDeltaX)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.el);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);this.fireRefreshRelease(n,t.top>0),this.refresh&&n?(t.y=this.refreshHeight,t.duration=s):t.y>=0?(t.y=0,t.top>=0&&(t.duration=s)):(-t.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=s)),this.androidFormsMode&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touchLayer,"scrollend",[i.el]),e.trigger(i,"scrollend",[i.el]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&e.trigger(i,"infinite-scroll-end")},t)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[e.feat.cssPrefix+"Transform"]="none",this.el.style[e.feat.cssPrefix+"Transition"]="none",this.el.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[e.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(t,i,s){i||(i=0),s||(s="linear"),i=numOnly(i),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(t.y)+"px",this.el.style.marginLeft=Math.round(t.x)+"px"):(this.el.style[e.feat.cssPrefix+"Transform"]="translate"+a+t.x+"px,"+t.y+"px"+c,this.el.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.el.style[e.feat.cssPrefix+"TransitionTimingFunction"]=s)),this.logPos(t.x,t.y))},o.prototype.logPos=function(e,t){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(e,this.el.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.el.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},o.prototype.scrollbarMoveCSS=function(t,i,s,n){s||(s=0),n||(n="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,t.style[e.feat.cssPrefix+"TransitionDuration"]=s+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=n))},o.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},o.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.el),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-e.y,x:n-e.x},t)},o.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},e)},o.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},h}()}(jq),function(e){e.selectBox={scroller:null,getOldSelects:function(t){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for jq.web.selectBox "+t),void 0;for(var s=i.getElementsByTagName("select"),n=this,o=0;s.length>o;o++)s[o].hasSelectBoxFix||function(t){var i=document.createElement("div"),r=window.getComputedStyle(t),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(t.style.height)>0?t.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",t.value&&(i.innerHTML=t.options[t.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+t.className,i.id=t.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=t.id,i.onclick=function(){n.initDropDown(this.linkId)},e(i).insertBefore(e(t)),t.style.display="none",t.style.webkitAppearance="none";for(var h=0;t.options.length>h;h++)t.options[h].selected&&(i.value=t.options[h].text),t.options[h].watch("selected",function(e,i,s){return 1==s&&(t.getAttribute("multiple")||n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});t.watch("selectedIndex",function(e,i,s){return this.options[s]&&(t.getAttribute("multiple")||n.updateMaskValue(this.id,this.options[s].text,this.options[s].value),this.value=this.options[s].value),s}),i=null,imageMask=null,s[o].hasSelectBoxFix=!0}(s[o]);n.createHtml()}},updateDropdown:function(e){var t=document.getElementById(e);if(t){for(var i=0;t.options.length>i;i++)t.options[i].selected&&(fakeInput.value=t.options[i].text),t.options[i].watch("selected",function(e,t,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});t=null}},initDropDown:function(e){var t=this,i=document.getElementById(e);if(!i.disabled&&i&&i.options&&0!=i.options.length){var s=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:e;for(var n=0;i.options.length>n;n++){i.options[n].watch("selected",function(e,i,s){return 1==s&&(t.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});var o=i.options[n].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=n,r.onclick=function(){t.setDropDownValue(e,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[n].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(s*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=s*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){}r=null,i=null}},updateMaskValue:function(e,t,i){var s=document.getElementById(e+"_jqmobiSelect"),n=document.getElementById(e);s&&(s.innerHTML=t),"function"==typeof n.onchange&&n.onchange(i),s=null,n=null},setDropDownValue:function(t,i,s){var n=document.getElementById(t);if(n){if(n.getAttribute("multiple")){var o=e(n).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,e(s).find("button").css("background","#fff")):(o.selected=!0,e(s).find("button").css("background","#000"))}else n.selectedIndex=i,e(n).find("option").forEach(function(e){e.selected=!1}),e(n).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(n).trigger("change"),n=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var t=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var s=document.createElement("div");s.id="jqmobiSelectBoxContainer",s.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",s.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",s.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var t=this;i.appendChild(s),e(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var n=e("#jqmobiSelectClose").get();n.onclick=function(){t.hideDropDown()};var o=e("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{t.scroller=e("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){}i=null,s=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],s=i,n=function(){return s},o=function(n){return i=s,s=t.call(this,e,i,n)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:n,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,n),HTMLElement.prototype.__defineSetter__.call(this,e,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(jq),function(e){var t=[];e.fn.swipeListener=function(e){if(void 0===e&&this.length>0)return t[this[0].id]?t[this[0].id]:null;for(var s=0;this.length>s;s++)tmp=new i(this[s],e),this[s].id&&(t[this[s].id]=tmp);return 1==this.length?tmp:this};var i=function(){var e=function(e,t){var i=this;if(this.el="string"==typeof e?document.getElementById(e):e,!this.el)return alert("Error adding swipe listener for "+e),void 0;this.el.addEventListener("touchmove",function(e){i.touchMove(e)},!1),this.el.addEventListener("touchend",function(e){i.touchEnd(e)},!1);for(j in t)this[j]=t[j]};return e.prototype={startX:0,startY:0,movingX:0,movingY:0,vthreshold:50,hthreshold:50,movingElement:!1,swipeDirection:{up:!1,down:!1,left:!1,right:!1},callBack:null,cancel:function(){this.startX=0,this.startY=0,this.movingX=0,this.movingY=0,this.movingElement=!1,this.swipeDirection={up:!1,down:!1,left:!1,right:!1}},touchStart:function(e){e.touches[0].target&&void 0!=e.touches[0].target.type||1==e.touches.length&&(this.movingElement=!0,this.startX=e.touches[0].pageX,this.startY=e.touches[0].pageY,e.preventDefault())},touchMove:function(e){return 0==this.movingElement&&this.touchStart(e),e.preventDefault(),e.touches.length>1||!this.movingElement?(this.cancel(),void 0):(this.movingX=e.touches[0].pageX-this.startX,this.movingY=e.touches[0].pageY-this.startY,void 0)},touchEnd:function(e){if(this.movingElement){e.preventDefault();var t=!1;Math.abs(this.movingX)>this.hthreshold&&(this.swipeDirection.right=this.movingX>0,this.swipeDirection.left=0>this.movingX,t=!0),Math.abs(this.movingY)>this.vthreshold&&(this.swipeDirection.up=0>this.movingY,this.swipeDirection.down=this.movingY>0,t=!0),t&&this.callBack(this.swipeDirection),this.cancel()}}},e}()}(jq),function(e){function t(e){return"tagName"in e?e:e.parentNode}function i(e,t,i,s){var n=Math.abs(e-t),o=Math.abs(i-s);return n>=o?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){r.last&&Date.now()-r.last>=l&&(r.el.trigger("longTap"),r={})}var n,o,r={},l=750;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.el=e(t(i.touches[0].target)),n&&clearTimeout(n),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(s,l),r.el.data("ignore-pressed")||r.el.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.el)}}).bind("touchmove",function(e){r.x2=e.touches[0].pageX,r.y2=e.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.el&&(r.el.data("ignore-pressed")||r.el.removeClass("selected"),r.isDoubleTap?(r.el.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.el.trigger("swipe")&&r.el.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.el.trigger("tap"),n=setTimeout(function(){n=null,r.el&&r.el.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.el&&!r.el.data("ignore-pressed")&&r.el.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(){$.touchLayer=function(e){return $.touchLayer=new c(e),$.touchLayer};var e=["input","select","textarea"],t=["button","radio","checkbox","range","date"],i=$.os.ios,s=$.os.blackberry,n=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(e){this.clearTouchVars(),e.addEventListener("touchstart",this,!1),e.addEventListener("touchmove",this,!1),e.addEventListener("touchend",this,!1),e.addEventListener("click",this,!1),e.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=e,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var t=this;this.scrollTimeoutExpireProxy_=function(){t.scrollTimeout_=null,t.scrollTimeoutEl_.addEventListener("scroll",t.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(t.layer.style.height="100%"),$.asap(t.testAndFixUI,t,arguments)},document.addEventListener("click",function(e){void 0!==e.clientX&&null!=t.lastTouchStartX&&2>Math.abs(t.lastTouchStartX-e.clientX)&&2>Math.abs(t.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),$.bind(this,"scrollstart",function(e){t.isScrolling=!0,t.scrollingEl_=e,t.fireEvent("UIEvents","scrollstart",e,!1,!1)}),$.bind(this,"scrollend",function(e){t.isScrolling=!1,t.fireEvent("UIEvents","scrollend",e,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){return e||(e=l),null==this.reHideAddressBarTimeout_?this.testAndFixUI(0,e):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var i=this.getReferenceHeight(),s=this.getCurrentHeight();return i==s||i>s*r&&s>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(e>=t)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var i=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(s){var n=s.target&&void 0!=s.target.tagName?s.target.tagName.toLowerCase():"";if(-1===e.indexOf(n)||this.isFocused_&&!s.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=s.target&&void 0!=s.target.type?s.target.type.toLowerCase():"",r=-1!==t.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=s.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[s.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&s.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(e){$.trigger(this,"reshape"),$.trigger(this,e?e+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(e){jq.os.android&&e.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[e.target]))},exitExit:function(e){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[e]),this.allowDocumentScroll_=!1,$.os.ios){var t=this;setTimeout(function(){t.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e){this.allowDocumentScroll_||this.isPanning_||e.target!=document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(t){this.dX=t.touches[0].pageX,this.dY=t.touches[0].pageY,this.lastTimestamp=t.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(t.target,this.layer),this.isScrolling&&(null!=this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&t&&t.target&&t.target.getAttribute&&"ignore"==t.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(n&&t.target&&void 0!=t.target.tagName){var s=t.target.tagName.toLowerCase();-1!==e.indexOf(s)&&("select"!=s&&$.trigger(this,"pre-enter-edit",[t.target]),this.requiresNativeTap=!0)}else t.target&&void 0!==t.target.tagName&&"input"==t.target.tagName.toLowerCase()&&"range"==t.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&t.preventDefault()},demandVerticalScroll:function(){var e=0>=this.scrollingEl_.scrollTop;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=t>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth?!0:void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var i=t.overflowY;return"scroll"==i?!0:"auto"==i&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var i=t.overflowX;return"scroll"==i?!0:"auto"==i&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(e,t){if(o&&this.panElementId==e.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(e))return;var i=window.getComputedStyle(e);if(this.allowsVerticalScroll(e,i))return this.isScrollingVertical_=!0,this.scrollingEl_=e,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(e,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var s=e==t;!s&&e.parentNode&&this.checkDOMTree(e.parentNode,t)},scrollEnded:function(e){e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(e){var t=this.moved;return this.moved=!0,s&&(this.cY=e.touches[0].pageY-this.dY,this.cX=e.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(t||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-e.touches[0].pageY)/(e.timeStamp-this.lastTimestamp),this.lastY=e.touches[0].pageY,this.lastX=e.touches[0].pageX,this.lastTimestamp=e.timeStamp),$.os.blackberry10||this.requiresNativeTap?(e.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||e.preventDefault(),void 0))},onTouchEnd:function(e){if($.os.ios){if(a==e.changedTouches[0].identifier)return e.preventDefault(),!1;a=e.changedTouches[0].identifier}var t=this.moved;if(s&&(t=t&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&t)this.wasPanning_=!0;else if(t||this.requiresNativeTap)t&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[e.target])));else if(e.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=e.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,e.mouseToTouch,e.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(e,t,i,s,n,o){var r=document.createEvent(e);r.initEvent(t,s,!0),r.target=i,o&&$.each(o,function(e,t){r[e]=t}),n&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(t.style.zIndex=1,e.style.zIndex=2,s.clearAnimations(t),s.css3animate(e,{x:"0%",time:"150ms",opacity:.1,scale:.2,origin:"-50% 50%",complete:function(i){return i?(s.finishTransition(e),void 0):(s.css3animate(e,{x:"-100%",complete:function(){s.finishTransition(e)}}),t.style.zIndex=2,e.style.zIndex=1,void 0)}})):(e.style.zIndex=1,t.style.zIndex=2,s.css3animate(t,{x:"0%",y:"0%",scale:.2,origin:"-50% 50%",opacity:.1,complete:function(){s.css3animate(t,{x:"0%",time:"150ms",scale:1,opacity:1,origin:"0% 0%",complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.clearAnimations(t),s.css3animate(e,{x:"100%",y:0,complete:function(){s.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.pop=t}($.ui),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(t.style.zIndex=1,e.style.zIndex=2,s.clearAnimations(t),s.css3animate(e,{y:"-100%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.css3animate(e,{x:"-100%",y:0,complete:function(){s.finishTransition(e)}}),t.style.zIndex=2,e.style.zIndex=1,void 0)}})):(e.style.zIndex=1,t.style.zIndex=2,s.css3animate(t,{y:"-100%",x:"0%",complete:function(){s.css3animate(t,{y:"0%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.clearAnimations(t),s.css3animate(e,{x:"-100%",y:0,complete:function(){s.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.down=t}($.ui),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?s.css3animate(e,{x:"0%",y:"0%",complete:function(){s.css3animate(e,{x:"100%",time:"150ms",complete:function(){s.finishTransition(e,t)}}).link(t,{x:"0%",time:"150ms"})}}).link(t,{x:"-100%",y:"0%"}):s.css3animate(e,{x:"0%",y:"0%",complete:function(){s.css3animate(e,{x:"-100%",time:"150ms",complete:function(){s.finishTransition(e,t)}}).link(t,{x:"0%",time:"150ms"})}}).link(t,{x:"100%",y:"0%"})}e.availableTransitions.slide=t,e.availableTransitions["default"]=t}($.ui),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(t.style.zIndex=1,e.style.zIndex=2,s.clearAnimations(t),s.css3animate(e,{y:"100%",x:"0%",time:"150ms",complete:function(){s.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1}})):(t.style.zIndex=2,e.style.zIndex=1,s.css3animate(t,{y:"100%",x:"0%",complete:function(){s.css3animate(t,{y:"0%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.clearAnimations(t),s.css3animate(e,{x:"-100%",y:0,complete:function(){s.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.up=t}($.ui),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(t.style.zIndex=1,e.style.zIndex=2,s.clearAnimations(t),s.css3animate(e,{x:"0%",time:"150ms",opacity:.1,complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.css3animate(e,{x:"-100%",opacity:1,complete:function(){s.finishTransition(e)
}}),t.style.zIndex=2,e.style.zIndex=1,void 0)}})):(e.style.zIndex=1,t.style.zIndex=2,t.style.opacity=0,s.css3animate(t,{x:"0%",opacity:.1,complete:function(){s.css3animate(t,{x:"0%",time:"150ms",opacity:1,complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.clearAnimations(t),s.css3animate(e,{x:"-100%",y:0,complete:function(){s.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.fade=t}($.ui),function(){var e=!1;$(document).ready(function(){if(window.google&&google.maps)return $(document).trigger("gmaps:available"),e=!0,!0;var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyC-weGLF_U2fkiHZ4vwT_sL7KXsXqaxrl0&sensor=true&callback=gmapsPluginLoaded",$("head").append(t),window.gmapsPluginLoaded=function(){$(document).trigger("gmaps:available"),e=!0}});var t={};$.fn.gmaps=function(e){if(0!=this.length){if(!e)return t[this[0].id];if("resize"==e&&t[this[0].id])return google.maps.event.trigger(t[this[0].id],"resize");for(var s=0;this.length>s;s++)new i(this[s],e)}};var i=function(i,s){var n=function(){s&&0!=Object.keys(s).length||(s={zoom:8,center:new google.maps.LatLng(40.010787,-76.278076),mapTypeId:google.maps.MapTypeId.ROADMAP}),t[i.id]=new google.maps.Map(i,s),google.maps.event.trigger(t[i.id],"resize")};e?n():$(document).one("gmaps:available",function(){n()})}}(jq),function(e){var t=document.location.protocol+"//"+document.location.host;location.href,"state"in window.history,e.mvc={},e.mvc.first_pop=!0,e.mvc.app=function(){e.mvc._app=this},e.mvc.app.prototype={_useHistory:!1,_html5Pop:function(t){return e.mvc.first_pop?(e.mvc.first_pop=!1,void 0):(e.mvc.route(document.location.href,t,!0),void 0)},useHTML5History:function(e){e===!0?(this._useHistory=!0,window.addEventListener("popstate",this._html5Pop)):(this._useHistory=!1,window.removeEventListener("popstate",this._html5Pop))},listenHashChange:function(){window.addEventListener("hashchange",function(t){var i=document.location.hash.replace("#","/");e.mvc.route(i,t,!0)})}},e.mvc.route=function(i,s,n){if("string"!=typeof i&&i.nodeName&&"a"===i.nodeName.toLowerCase()&&(i=i.href),"string"!=typeof i)throw"Invalid route parameter.  String or <a> expected";var o,r,l=i;return 0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),i=i.split("/"),i.length>1?(o=i.splice(0,1),r=i.splice(0,1)):(o=i[0],r="default"),e.mvc.controller[o]&&e.mvc.controller[o].hasOwnProperty(r)?(s&&s.preventDefault(),e.mvc.controller[o][r].apply(e.mvc.controller[o],i),e.mvc._app._useHistory&&n!==!0&&(e.ui.history.push(l),window.history.pushState(l,l,l)),!0):!1},e.mvc.addRoute=function(i,s){var n,o;0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),i=i.split("/"),i.length>1?(n=i.splice(0,1),o=i.splice(0,1)):(n=i[0],o="default"),e.mvc.controller[n]||(e.mvc.controller[n]={}),e.mvc.controller[n][o]=s},e.ui?e.ui.custom_click_handler=e.mvc.route:e(document).on("click","a",function(t){e.mvc.route(t.target,t)})}(jq),function(e){e.mvc.model=function(t,i){var s={};return i&&i.modelName&&delete i.modelName,i&&i.id&&delete i.id,e.extend(s,i),s.modelName=t,s},e.mvc.model.clone=function(e,t,i){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return i&&(e.__proto__=t.__proto__),e},e.mvc.model.prototype={_prepareModel:function(t){var i=this,s=e.mvc.model.clone({},i,!0);return s=e.mvc.model.clone(s,t)}},e.mvc.model.Extend=function(t,i){return function(){return new e.mvc.model(t,i)}}}(jq),function(e){var t={},i={},s={},n={},o={};e.mvc.controller={},e.mvc.controller.create=function(r,l){return e.mvc.controller[r]=l,t[r]=0,s[r]=0,n[r]=0,i[r]=0,l.hasOwnProperty("init")&&(o[r]=l),e.mvc.controller[r]}}(jq);var chat_log={chat_info:{chat_id:"23213123",my_photo:"photo_url_on_phone",other_photo:"photo_url",other_name:"Bob"},messages:[{id:"0",user:"Bob",text:"hello there",time:"04:41"},{id:"1",user:"Sam",text:"hey whats up",time:"04:41"},{id:"2",user:"Bob",text:"nothing much",time:"04:41"},{id:"3",user:"Bob",text:"what u doing",time:"04:41"}]},Chat=new $.mvc.model.Extend("chat",{chat_id:"",current_chat:this,my_photo:function(){return current_user.profile_pic},latest_sent_message_timestamp:"",latest_received_message_timestamp:"",messages:[],poll_for_messages:function(){var e={chat_id:this.chat_id,timestamp:this.latest_received_message_timestamp,total_messages:this.messages.length(),token:current_user.token};$.post(server+"chat",e,function(e){current_chat.push.apply(current_chat.messages,e.messages)},"json")},send_message:function(e){$.ajax({url:server+"/users/auth",data:message,success:function(){},error:function(){}}),$.ajax({type:"POST",url:server+"chat",contentType:"application/json",headers:{TOKEN:current_user.token},dataType:"application/json",data:{message:e},success:function(){},error:function(){}})},update:function(){}}),chat_room={};Person=new $.mvc.model.Extend("person",{});var people={};Photo=new $.mvc.model.Extend("photo",{});var photos={};Place=new $.mvc.model.Extend("place",{});var places={},User=new $.mvc.model.Extend("user",{name:"",email:"",token:"",profile_pic:"",save:function(){window.localStorage.setItem("current_user",JSON.stringify(this))},load_local_data:function(){try{var e=JSON.parse(window.localStorage.getItem("current_user"));e.token.length>5&&(current_user.name=e.name,current_user.email=e.email,current_user.token=e.token)}catch(t){current_user.token="guest"}},logout:function(){$.delete_with_token({url:"/sessions",success:function(){alert("logged out")},error:function(){alert("error")}}),window.localStorage.clear()}}),current_user=new User;$.mvc.controller.create("activities_controller",{init:function(){},"default":function(){},new_step_1:function(){$.ui.show_page({div_id:"activity_new1_view",title:"New Activity",header:"#header",left_button:"#top_back_button",right_button:"#top_next_button",footer:"#footer",active_footer_button:!1,url:!1,data:!1}),$("#top_next_button_a").attr("href","/activities_controller/new_step_2"),$("#calendar_button").mobiscroll().calendar({theme:"default",display:"modal",mode:"scroller",controls:["calendar"]}),$("#calendar_button").click(function(){return $("#calendar_button").mobiscroll("show"),!1}),$("#clear").click(function(){return $("#demo").val(""),!1})},new_step_2:function(){$.ui.show_page({div_id:"activity_new2_view",title:"Invite Friends",header:"#header",left_button:"#top_back_button",right_button:"#top_next_button",footer:"#footer",active_footer_button:!1,url:!1,data:!1}),$("#top_next_button_a").attr("href","/activities_controller/new_step_3")},new_step_3:function(){$.ui.show_page({div_id:"activity_new3_view",title:"Extras",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:!1,url:!1,data:!1})},activity_detail_info:function(){$.ui.show_page({div_id:"activity_detail_info_view",title:"Activity Info",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:!1,url:!1,data:!1})},activity_detail_attending:function(){$.ui.show_page({div_id:"activity_detail_attending_view",title:"Who's Going?",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:!1,url:!1,data:!1})},activity_detail_join:function(){$.ui.show_page({div_id:"activity_detail_join_view",title:"Join",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:!1,url:!1,data:!1})}});var chat_log={chat_info:{chat_id:"23213123",my_photo:"photo_url_on_phone",person2_photo:"photo_url",person2:"Bob"},messages:[{timestamp:"0",user:"Bob",text:"hello there"},{timestamp:"1",user:"Sam",text:"hey whats up"},{timestamp:"2",user:"Bob",text:"nothing much"},{timestamp:"3",user:"Bob",text:"what u doing"}]};$.mvc.controller.create("chats_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"chat_index_view",title:"Chats",header:"#header",left_button:"#top_back_button",right_button:"#top_new_chat_button",footer:"#footer",active_footer_button:"#bottom_nav_home",url:"/chats/"})},detail:function(e){$.ui.show_page({div_id:"chat_detail_view",title:"Chat Detail",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#chat_footer",active_footer_button:!1,url:"/chats/"+e+"/chat_messages"})},sent:function(){$.ui.show_page({div_id:"chat_sent_view",title:"Chats",header:"#header",left_button:"#top_back_button",right_button:"#top_new_chat_button",footer:"#footer",active_footer_button:"#bottom_nav_home",url:"/chats/sent",data:!1})},"new":function(e){e||$.ui.show_page({div_id:"chat_new_view",title:"New Chat",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_home",url:!1,data:!1}),"start"===e&&$.post_with_token({url:"/chats/",data:$("#chat_with_id").serialize(),success:function(e){var t=JSON.parse(e).chat.id;$.mvc.route("/chats_controller/detail/"+t)},error:function(){alert("error")}})}}),$.mvc.controller.create("people_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"people_index_view",title:"Following",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",url:!1,data:!1})},followers:function(){$.ui.show_page({div_id:"people_followers_view",title:"Followers",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",url:!1,data:!1})},nearby:function(){$.ui.show_page({div_id:"people_nearby_view",title:"People Nearby",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",url:/users/,data:!1,cache:!0})},detail:function(){$.ui.show_page({div_id:"people_detail_view",title:"People",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",url:!1,data:!1})}}),$.mvc.controller.create("photos_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"photos_index_view",title:"Photos",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_photos",url:!1,data:!1})},detail:function(){$.ui.show_page({div_id:"photo_detail_view",title:"Photo",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_photos",url:!1,data:!1})},take_photo:function(){function e(e){for(var s,n=e.target.files,r=0;s=n[r];r++)if(s.type.match("image.*")){var l=new FileReader;l.onload=function(){return function(e){$.ajax({url:t,type:"POST",data:{file:e.target.result,api_key:0xc9bda6f31a47,timestamp:i,signature:o},processData:!1,contentType:!1,success:function(){}})}}(s),l.readAsDataURL(s)}}var t="http://api.cloudinary.com/v1_1/funlife/image/upload",i=Math.round((new Date).getTime()/1e3),s="p0HsqkrLaNZpg3nruhEfWl4-tuc",n=new jsSHA("timestamp="+i+s,"TEXT"),o=n.getHash("SHA-1","HEX");if("undefined"==typeof forge)$("#photo_uploader").click(),document.getElementById("photo_uploader").addEventListener("change",e,!1);else{var r=function(e){forge.request.ajax({url:t,type:"POST",data:{file:e,api_key:0xc9bda6f31a47,timestamp:i,signature:o},processData:!1,contentType:!1,success:function(){alert("success in upload")},error:function(){}})};forge.file.getImage({},function(e){r(e)})}}}),$.mvc.controller.create("places_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"places_index_view",title:"Places",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_places",url:!1,data:!1}),$("#places_index_view").gmaps({center:new google.maps.LatLng(37.76,-122.43),zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP})}}),$.mvc.controller.create("users_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"user_index_view",title:"FunLife",header:"#header",left_button:!1,right_button:"#top_logout_button",footer:"#footer",active_footer_button:"#bottom_nav_home",url:!1,data:!1})},login_register:function(e){switch($("#login_error").hide(),e){case void 0:current_user.token="guest",$.ui.show_page({div_id:"user_login_register_view",title:!1,header:!1,left_button:!1,right_button:!1,footer:!1,active_footer_button:!1,url:!1,data:!1});break;case"login":$.ajax({type:"POST",dataType:"application/json",url:server+"/sessions/",data:$("#login_form").serialize(),success:function(e){current_user.token="Basic "+Base64.encode(JSON.parse(e).user.token),current_user.save(),$.mvc.route("/users_controller/")},error:function(e){401===e.status?$("#login_error").html("Wrong Password").show():$("#login_error").html("Connection error...").show()}});break;case"register":$.ajax({type:"POST",dataType:"application/json",data:$("#login_form").serialize(),url:server+"/users/",success:function(e){current_user.token="Basic "+Base64.encode(JSON.parse(e).user.token),current_user.save(),$.mvc.route("/users_controller/register2")},error:function(e){422===e.status?$("#login_error").html("An account with that email already exists. Login instead?").show():$("#login_error").html("Connection error...").show()}})}},register2:function(e){switch(e){case void 0:$.ui.show_page({title:"Complete Your Registration",active_nav:!1,div_id:"user_register2_view",left_button:!1,url:!1,data:!1});break;case"complete":$.put_with_token({url:"/users/",data:$("#registration_details_form").serialize(),success:function(){$.mvc.route("/users_controller/"),$("#footer").show()},error:function(){}})}},logout:function(){current_user.logout(),$.mvc.route("/users_controller/login_register")}}),String.prototype.encodeHTML=encodeHTMLSource();var tmpl=tmpl||{};if(tmpl.activity_detail_attending_view=function anonymous(){var e="";return e},tmpl.activity_detail_info_view=function anonymous(){var e="";return e},tmpl.activity_detail_join_view=function anonymous(){var e="";return e},tmpl.activity_new1_view=function anonymous(){var e="<ul class=\"breadcrumb\"><li>BasketBall<br>Address1<br>Address2</li></ul><form><fieldset><label>Headline</label><input type=\"text\" placeholder=\"\"><label>Details - Optional</label><textarea rows=\"3\"></textarea></fieldset><div class='row-fluid'><div class='span3 offset1'>Pick Day</div><div id='calendar_button' class='span4 offset3 btn btn-small'>Use Calendar</div></div><br><div class=\"row-fluid btn-group\"><div class='span1'></div><a class=\"span2 btn btn-small\" href='#'>Mon</a><a class=\"span2 btn text-info btn-small\" href='#'>Tues</a><a class=\"span2 btn btn-small\" href='#'>Wed</a><a class=\"span2 btn btn-small\" href='#'>Thurs</a><a class=\"span2 btn btn-small\" href='#'>Fri</a></div><br><div class='row-fluid'><div class='span3 offset1'>Pick Time</div><div class='span4 offset3'>Duration</div></div><div class='row-fluid'><div class='span6'><div class='row-fluid'><div class='span2'></div><div class='span2 btn'>^</div><div class='span1'></div><div class='span2 btn'>^</div><div class='span1'></div><div class='span2 btn'>^</div><div class='span2'></div></div><div class='row-fluid'><div class='span2'></div><div class='span2 btn btn-primary disabled'>09</div><div class='span1'></div><div class='span2 btn btn-primary disabled'>30</div><div class='span1'></div><div class='span2'><span class='text-info'>am</span><br>pm</div><div class='span2'></div></div><div class='row-fluid'><div class='span2'></div><div class='span2 btn'>^</div><div class='span1'></div><div class='span2 btn'>^</div><div class='span1'></div><div class='span2 btn'>^</div><div class='span2'></div></div></div><div class='span6'><div class='row-fluid'><div class='span1'></div><div class='span2 btn'>&lt</div><div class='span6  btn btn-primary disabled btn-block'>1 hour 30 min</div><div class='span2 btn'>&gt</div><div class='span1'></div></div><div class='row-fluid'><div class='span1'></div><div class='span2 btn'>&lt</div><div class='span6 btn btn-primary disabled btn-block'>11:00am</div><div class='span2 btn'>&gt</div><div class='span1'></div></div></div></div></form>";return e},tmpl.activity_new2_view=function anonymous(){var e='<div class="row-fluid"><div class=\'span1 btn\'>F</div><div class=\'span1 btn\'>T</div><div class=\'span1 btn\'>4</div><div class=\'span1\'></div><div class=\'span8\'><input type="text" placeholder="Search..."></div></div><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/2.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/3.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/4.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/5.png"><small>First Last</small></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/1.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/6.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/7.png"><small>First Last</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/photos/8.png"><small>First Last</small></a></li></ul></div>';return e},tmpl.activity_new3_view=function anonymous(){var e="";return e},tmpl.chat_detail_view=function anonymous(e){var t="<br>",i=e.chat_messages;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+=s.user_id===current_user.user_id?"<div class='chat_message_left'><div class='userimg' style='background-image:url("+s.photo+");'></div><div class='usercomment'><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.message+"</p></div></div>":"<div class='chat_message_right'><div class='userimg' style='background-image: url("+s.photo+")'></div><div class='usercomment'><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p></div></div>";return t},tmpl.chat_index_view=function anonymous(e){var t='<div class="row-fluid btn-group"><a class="span6 btn text-info" href=\'/chats_controller/\'>Recieved</a><a class="span6 btn" href=\'/chats_controller/sent/\'>Sent</a></div>',i=e.chats;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+="<a href='/chats_controller/detail/"+s.id+"'><div class='row-fluid well well-small'><div class='span2'><img src=\""+s.photo+"\"></div><div class='span7 offset1'><span class='text-info'>"+s.name+"</span><br><small>"+s.date+"</small>",t+=s.unread===!0?"Unread":"Read",t+="</div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return t},tmpl.chat_list_view=function anonymous(e){var t="All your chats:<table><tr><td>Email</td><td>Name</td><td>Chat</td><tr>",i=e.chat_list;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+="<tr><td>"+s.email+"</td><td>"+s.name+'</td><td><a href="/chats_controller/chat/'+s.user_id+'">View</a></td></tr>';return t+="</table>"},tmpl.chat_new_view=function anonymous(){var e='This should be a popup that asks for a following\'s name<br>It uses autocomplete to find the user and passes the user\'s id as a post_with_token<br><br>For now, enter a user\'s id of who to chat with:<form id="chat_with_id"><input type="text" name="chat[user_ids]" placeholder="user_id"></form><a class=\'btn btn-success\' href=\'/chats_controller/new/start\'>Go!</b>';return e},tmpl.chat_sent_view=function anonymous(){var e="<div class=\"row-fluid btn-group\"><a class=\"span6 btn\" href='/chats_controller/'>Recieved</a><a class=\"span6 btn text-info\" href='/chats_controller/sent/'>Sent</a></div><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/3.png\"></div><div class='span7 offset1'><span class='text-info'>Billy Bob</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return e},tmpl._comments=function anonymous(e){var t='Hello, I am on the _comments.js partial view <br><a href="/hello">Go Back</a>',i=e.comments;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+=1==s.level?"<div class='commentLevel1'><div class='userimg' style='background-image:url("+s.userimg+");'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":2==s.level?"<div class='commentLevel2'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":"<div class='commentLevel3'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>";return t},tmpl.people_detail_view=function anonymous(){var e="<div class=\"row-fluid btn-group\"><a class=\"span4 btn text-info\" href='/people_controller/profile'>Profile</a><a class=\"span4 btn\" href='/people_controller/profile/comments'>Comments</a><a class=\"span4 btn\" href='/people_controller/profile/photos'>Photos</a></div><br><div class='row-fluid'><div class='span3'><img class='img-polaroid' src=\"/layout/img/user_placeholder.jpeg\"></div><div class='span8 offset1'><div class='row-fluid lead'>FirstName LastName</div><div class='row-fluid text-center'><ul class=\"nav nav-pills\"><li class=\"active\"><a>344<br><small>Followers</small></a></li><li class=\"active\"><a>423<br><small>Following</small></a></li><li class=\"active\"><a>&nbsp<br><small>Status</small></a></li></ul></div></div></div><div class='row-fluid'><div class='span2'><button class=\"btn btn-large btn-success disabled\">7 Trust</button></div><div class='span3 offset2'><a href='#' class='btn btn-small btn-info btn-block'>Trust</a><a href='/chats_controller/detail/chatid/new/userid' class='btn btn-small btn-info btn-block'>Chat</a></div><div class='span3 offset1'><a href='#' class='btn btn-small btn-info btn-block'>Follow</a><a href='#' class='btn btn-small btn-info btn-block'>Invite</a></div></div><br><div class='row-fluid text-center label label-info'>Feedback Score: 83</div><br><div class='row-fluid label'>Activities I want to be invited to</div><div class='row-fluid'>todo</div><br><div class='row-fluid label'>Activities completed</div>";return e},tmpl.people_followers_view=function anonymous(){var e='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn text-info" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div>';return e},tmpl.people_index_view=function anonymous(){var e='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div><br><br><br><br><br><a href=\'http:<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvv<br><br><br><br><br>People index view';return e},tmpl.people_nearby_view=function anonymous(e){var t='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn text-info" href=\'/people_controller/nearby/\'>Nearby</a></div>',i=e.users;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],0!=n&&0===n%4&&(t+="</ul></div>"),0===n%4&&(t+='<div class="row-fluid"><ul class="thumbnails">'),t+='<li class="span3"><a id="chat_'+s.user_id+'" href="/people_controller/detail/'+s.user_id+'" class="thumbnail"><img src="/layout/img/user_placeholder.jpeg">'+s.name+"</a></li>";return t+="</ul></div>"},tmpl.photo_detail_view=function anonymous(){var e="<div class='row-fluid'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span6'>Larissa Jane</div><div class='span1'><img src='layout/img/icons/comment_bubble.png'></div><div class='span1'><img src='layout/img/icons/photo_likes.png'></div></div><div class='row-fluid'><div class='span10 offset1'><img src='/photos/7.png'></div></div><div class='row-fluid'><div class='span10'>Nashville Concert Hall, Nashville</div><div class='span2'><a href='/photos_controller/detail/photo_id/comment/' class='btn btn-small'>Comment</a></div></div>";return e},tmpl.photos_index_view=function anonymous(){var e='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/photos_controller/\'>Following</a><a class="span4 btn" href=\'/photos_controller/explore/\'>Explore</a><a class="span4 btn" href=\'/photos_controller/my_photos/\'>My Photos</a></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div>';return e},tmpl.places_index_view=function anonymous(){var e="";return e},tmpl.user_index_view=function anonymous(){var e='<ul class="breadcrumb"><li>My Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="/activities_controller/new_step_1" class="thumbnail no_borders"><img src="/layout/img/create_activity.png"></a></li><li class="span3 text-center"><a href="/chats_controller/" class="thumbnail no_borders"><img src="/layout/img/chats.png"></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/soccer.png"><small>Today<br>4:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/cards.png"><small>Wednesday 11/24<br>9:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Today\'s Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/pool.png"><small>2.1 mi<br>7:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/basketball.png"><small>3.7 mi<br>8:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Tomorrow\'s Activities</li></ul>';return e},tmpl.user_login_register_view=function anonymous(){var e='<div><div class="row-fluid text-center"><br><br><h1>FunLife</h1><br><div id="login_error" class="alert"></div><br><br><div id="login_holder"><form id="login_form"><input id=\'login_form_email_field\' type="text" name="user[email]" placeholder="email"><br><input id=\'login_form_password_field\' type="text" name="user[password]" placeholder="password"></form><ul class="pager"><li><a href="/users_controller/login_register/register">Register</a></li><li><a href="/users_controller/login_register/login">Login</a></li></ul></div></div></div>';return e},tmpl.user_register2_view=function anonymous(){var e='<div class="container-fluid"><div class="row-fluid text-center"><br><br><h3>Tell us a little about yourself:</h3><br><div id="registration_details"><form id="registration_details_form"><input type="text" name="user[first_name]"  placeholder="first name"><input type="text" name="user[last_name]" placeholder="last name"></form><a href="/users_controller/register2/complete" class="btn btn-success">Complete Registration</a></div></div></div>';
return e},"undefined"==typeof forge&&"undefined"==typeof device)var server="http://"+document.location.host;else var server="http://vast-crag-6780.herokuapp.com";var debug,current_user,app=new $.mvc.app;app.listenHashChange(),app.useHTML5History(!0),$.ui.ready(function(){current_user.load_local_data(),current_user.token.length>5?$.mvc.route("/users_controller/"):$.mvc.route("/users_controller/login_register")});