if(!window.jq||"function"!=typeof jq){var jq=function(e){function t(e,t,i){var n=x.createDocumentFragment();if(i){for(var s=e.length-1;s>=0;s--)n.insertBefore(e[s],n.firstChild);t.insertBefore(n,t.firstChild)}else{for(var s=0;e.length>s;s++)n.appendChild(e[s]);t.appendChild(n)}n=null}function i(e){return e in w?w[e]:w[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function n(e){for(var t=0;e.length>t;t++)e.indexOf(e[t])!=t&&(e.splice(t,1),t--);return e}function s(e,t){var i=[];if(e==_)return i;for(;e;e=e.nextSibling)1==e.nodeType&&e!==t&&i.push(e);return i}function o(e,t){try{return t.querySelectorAll(e)}catch(i){return[]}}function r(e,t){if(e=e.trim(),"#"===e[0]&&-1==e.indexOf(".")&&-1===e.indexOf(" ")&&-1===e.indexOf(">"))t==x?l(t.getElementById(e.replace("#","")),this):l(o(e,t),this);else if("<"===e[0]&&">"===e[e.length-1]){var i=x.createElement("div");i.innerHTML=e.trim(),l(i.childNodes,this)}else l(o(e,t),this);return this}function l(e,t){if(e){if(e.nodeType)return t[t.length++]=e;for(var i=0,n=e.length;n>i;i++)t[t.length++]=e[i]}}function a(){}function c(t,i){t.os={},t.os.webkit=i.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=i.match(/(Android)\s+([\d.]+)/)||i.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&i.match(/(Android)\s4/)?!0:!1,t.os.ipad=i.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&i.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.webos=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&i.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=i.match(/PlayBook/)?!0:!1,t.os.blackberry=t.os.playbook||i.match(/BlackBerry/)?!0:!1,t.os.blackberry10=t.os.blackberry&&i.match(/Safari\/536/)?!0:!1,t.os.chrome=i.match(/Chrome/)?!0:!1,t.os.opera=i.match(/Opera/)?!0:!1,t.os.fennec=i.match(/fennec/i)?!0:i.match(/Firefox/)?!0:!1,t.os.ie=i.match(/MSIE 10.0/i)?!0:!1,t.os.ieTouch=t.os.ie&&i.toLowerCase().match(/touch/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&x instanceof e.DocumentTouch||"ontouchstart"in e,t.feat={};var n=x.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll=n.style["-webkit-overflow-scrolling"]!==_||t.os.chrome,t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1)}function h(e){return e._jqmid||(e._jqmid=O++)}function d(e,t,i,n){if(t=u(t),t.ns)var s=f(t.ns);return(P[h(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!=t.e||t.ns&&!s.test(e.ns)||i&&e.fn!=i&&("function"!=typeof e.fn||"function"!=typeof i||""+e.fn!=""+i)||n&&e.selector!=n)})}function u(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function f(e){return RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function p(e,t,i){M.isObject(e)?M.each(e,i):e.split(/\s/).forEach(function(e){i(e,t)})}function m(e,t,i,n,s){var o=h(e),r=P[o]||(P[o]=[]);p(t,i,function(t,i){var o=s&&s(i,t),l=o||i,a=function(t){var i=l.apply(e,[t].concat(t.data));return i===!1&&t.preventDefault(),i},c=M.extend(u(t),{fn:i,proxy:a,selector:n,del:o,i:r.length});r.push(c),e.addEventListener(c.e,a,!1)})}function g(e,t,i,n){var s=h(e);p(t||"",i,function(t,i){d(e,t,i,n).forEach(function(t){delete P[s][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function v(e){var t=M.extend({originalEvent:e},e);return M.each(L,function(i,n){t[i]=function(){return this[n]=A,"stopImmediatePropagation"!=i&&"stopPropagation"!=i||(e.cancelBubble=!0,e[i])?e[i].apply(e,arguments):_},t[n]=q}),t}function y(e,t){if(t&&e.dispatchEvent){var i=M.Event("destroy",{bubbles:!1});e.dispatchEvent(i)}var n=h(e);if(n&&P[n]){for(var s in P[n])e.removeEventListener(P[n][s].e,P[n][s].proxy,!1);delete P[n]}}function b(e,t){if(e){var i=e.childNodes;if(i&&i.length>0)for(var n in i)b(i[n],t);y(e,t)}}var _,x=e.document,T=[],S=T.slice,w={},C=1,E=/^\s*<(\w+)[^>]*>/,k={},I={},j=function(e,t){if(this.length=0,!e)return this;if(e instanceof j&&t==_)return e;if(M.isFunction(e))return M(x).ready(e);if(M.isArray(e)&&e.length!=_){for(var i=0;e.length>i;i++)this[this.length++]=e[i];return this}if(M.isObject(e)&&M.isObject(t)){if(e.length==_)e.parentNode==t&&(this[this.length++]=e);else for(var i=0;e.length>i;i++)e[i].parentNode==t&&(this[this.length++]=e[i]);return this}if(M.isObject(e)&&t==_)return this[this.length++]=e,this;if(t!==_){if(t instanceof j)return t.find(e)}else t=x;return this.selector(e,t)},M=function(e,t){return new j(e,t)};M.is$=function(e){return e instanceof j},M.map=function(e,t){var i,n,s,o=[];if(M.isArray(e))for(n=0;e.length>n;n++)i=t(e[n],n),i!==_&&o.push(i);else if(M.isObject(e))for(s in e)e.hasOwnProperty(s)&&(i=t(e[s],s),i!==_&&o.push(i));return M([o])},M.each=function(e,t){var i,n;if(M.isArray(e)){for(i=0;e.length>i;i++)if(t(i,e[i])===!1)return e}else if(M.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)return e;return e},M.extend=function(e){if(e==_&&(e=this),1===arguments.length){for(var t in e)this[t]=e[t];return this}return S.call(arguments,1).forEach(function(t){for(var i in t)e[i]=t[i]}),e},M.isArray=function(e){return e instanceof Array&&e.push!=_},M.isFunction=function(e){return"function"==typeof e},M.isObject=function(e){return"object"==typeof e},M.fn=j.prototype={constructor:j,forEach:T.forEach,reduce:T.reduce,push:T.push,indexOf:T.indexOf,concat:T.concat,selector:r,oldElement:_,slice:T.slice,setupOld:function(e){return e==_?M():(e.oldElement=this,e)},map:function(e){var t,i,n=[];for(i=0;this.length>i;i++)t=e(i,this[i]),t!==_&&n.push(t);return M([n])},each:function(e){return this.forEach(function(t,i){e.call(t,i,t)}),this},ready:function(e){return"complete"===x.readyState||"loaded"===x.readyState||!M.os.ie&&"interactive"===x.readyState?e():x.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(0===this.length)return this;for(var t,i=[],s=0;this.length>s;s++){t=M(e,this[s]);for(var o=0;t.length>o;o++)i.push(t[o])}return M(n(i))},html:function(e,t){if(0===this.length)return this;if(e===_)return this[0].innerHTML;for(var i=0;this.length>i;i++)t!==!1&&M.cleanUpContent(this[i],!1,!0),this[i].innerHTML=e;return this},text:function(e){if(0===this.length)return this;if(e===_)return this[0].textContent;for(var t=0;this.length>t;t++)this[t].textContent=e;return this},css:function(t,i,n){var s=n!=_?n:this[0];if(0===this.length)return this;if(i==_&&"string"==typeof t)return e.getComputedStyle(s),s.style[t]?s.style[t]:e.getComputedStyle(s)[t];for(var o=0;this.length>o;o++)if(M.isObject(t))for(var r in t)this[o].style[r]=t[r];else this[o].style[t]=i;return this},vendorCss:function(e,t,i){return this.css(M.feat.cssPrefix+e,t,i)},empty:function(){for(var e=0;this.length>e;e++)M.cleanUpContent(this[e],!1,!0),this[e].innerHTML="";return this},hide:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"!=this.css("display",null,this[e])&&(this[e].setAttribute("jqmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"==this.css("display",null,this[e])&&(this[e].style.display=this[e].getAttribute("jqmOldStyle")?this[e].getAttribute("jqmOldStyle"):"block",this[e].removeAttribute("jqmOldStyle"));return this},toggle:function(t){for(var i=t===!0?!0:!1,n=0;this.length>n;n++)"none"!==e.getComputedStyle(this[n]).display||t!==_&&i===!1?(this[n].setAttribute("jqmOldStyle",this[n].style.display),this[n].style.display="none"):(this[n].style.display=this[n].getAttribute("jqmOldStyle")!=_?this[n].getAttribute("jqmOldStyle"):"block",this[n].removeAttribute("jqmOldStyle"));return this},val:function(e){if(0===this.length)return e===_?_:this;if(e==_)return this[0].value;for(var t=0;this.length>t;t++)this[t].value=e;return this},attr:function(e,t){if(0===this.length)return t===_?_:this;if(t===_&&!M.isObject(e)){var i=this[0].jqmCacheId&&k[this[0].jqmCacheId][e]?this[0].jqmCacheId&&k[this[0].jqmCacheId][e]:this[0].getAttribute(e);return i}for(var n=0;this.length>n;n++)if(M.isObject(e))for(var s in e)M(this[n]).attr(s,e[s]);else M.isArray(t)||M.isObject(t)||M.isFunction(t)?(this[n].jqmCacheId||(this[n].jqmCacheId=M.uuid()),k[this[n].jqmCacheId]||(k[this[n].jqmCacheId]={}),k[this[n].jqmCacheId][e]=t):null==t&&t!==_?(this[n].removeAttribute(e),this[n].jqmCacheId&&k[this[n].jqmCacheId][e]&&delete k[this[n].jqmCacheId][e]):this[n].setAttribute(e,t);return this},removeAttr:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(n){t[i].removeAttribute(n),t[i].jqmCacheId&&k[t[i].jqmCacheId][e]&&delete k[t[i].jqmCacheId][e]});return this},prop:function(e,t){if(0===this.length)return t===_?_:this;if(t===_&&!M.isObject(e)){var i,n=this[0].jqmCacheId&&I[this[0].jqmCacheId][e]?this[0].jqmCacheId&&I[this[0].jqmCacheId][e]:!(i=this[0][e])&&e in this[0]?this[0][e]:i;return n}for(var s=0;this.length>s;s++)if(M.isObject(e))for(var o in e)M(this[s]).prop(o,e[o]);else M.isArray(t)||M.isObject(t)||M.isFunction(t)?(this[s].jqmCacheId||(this[s].jqmCacheId=M.uuid()),I[this[s].jqmCacheId]||(I[this[s].jqmCacheId]={}),I[this[s].jqmCacheId][e]=t):null==t&&t!==_?M(this[s]).removeProp(e):this[s][e]=t;return this},removeProp:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(n){t[i][n]&&delete t[i][n],t[i].jqmCacheId&&I[t[i].jqmCacheId][e]&&delete I[t[i].jqmCacheId][e]});return this},remove:function(e){var t=M(this).filter(e);if(t==_)return this;for(var i=0;t.length>i;i++)M.cleanUpContent(t[i],!0,!0),t[i].parentNode.removeChild(t[i]);return this},addClass:function(e){for(var t=0;this.length>t;t++){var i=this[t].className,n=[],s=this;e.split(/\s+/g).forEach(function(e){s.hasClass(e,s[t])||n.push(e)}),this[t].className+=(i?" ":"")+n.join(" "),this[t].className=this[t].className.trim()}return this},removeClass:function(e){for(var t=0;this.length>t;t++){if(e==_)return this[t].className="",this;var n=this[t].className;e.split(/\s+/g).forEach(function(e){n=n.replace(i(e)," ")}),this[t].className=n.length>0?n.trim():""}return this},replaceClass:function(e,t){for(var n=0;this.length>n;n++)if(e!=_){var s=this[n].className;e.split(/\s+/g).concat(t.split(/\s+/g)).forEach(function(e){s=s.replace(i(e)," ")}),s=s.trim(),this[n].className=s.length>0?(s+" "+t).trim():t}else this[n].className=t;return this},hasClass:function(e,t){return 0===this.length?!1:(t||(t=this[0]),i(e).test(t.className))},append:function(i,n){if(i&&i.length!=_&&0===i.length)return this;(M.isArray(i)||M.isObject(i))&&(i=M(i));var s;for(s=0;this.length>s;s++)if(i.length&&"string"!=typeof i)i=M(i),t(i,this[s],n);else{var o=E.test(i)?M(i):_;(o==_||0==o.length)&&(o=x.createTextNode(i)),o.nodeName==_||"script"!=o.nodeName.toLowerCase()||o.type&&"text/javascript"!==o.type.toLowerCase()?o instanceof j?t(o,this[s],n):n!=_?this[s].insertBefore(o,this[s].firstChild):this[s].appendChild(o):e.eval(o.innerHTML)}return this},appendTo:function(e){var t=M(e);return t.append(this),this},prependTo:function(e){var t=M(e);return t.append(this,!0),this},prepend:function(e){return this.append(e,1)},insertBefore:function(e,t){if(0==this.length)return this;if(e=M(e).get(0),!e)return this;for(var i=0;this.length>i;i++)t?e.parentNode.insertBefore(this[i],e.nextSibling):e.parentNode.insertBefore(this[i],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){return e=e==_?0:e,0>e&&(e+=this.length),this[e]?this[e]:_},offset:function(){if(0===this.length)return this;if(this[0]==e)return{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight};var t=this[0].getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top}},height:function(t){if(0===this.length)return this;if(t!=_)return this.css("height",t);if(this[0]==this[0].window)return e.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var i=this.css("height").replace("px","");return i?i:this.offset().height},width:function(t){if(0===this.length)return this;if(t!=_)return this.css("width",t);if(this[0]==this[0].window)return e.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var i=this.css("width").replace("px","");return i?i:this.offset().width},parent:function(e,t){if(0==this.length)return this;for(var i=[],s=0;this.length>s;s++)for(var o=this[s];o.parentNode&&o.parentNode!=x&&(i.push(o.parentNode),o.parentNode&&(o=o.parentNode),t););return this.setupOld(M(n(i)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t=t.concat(s(this[i].firstChild));return this.setupOld(M(t).filter(e))},siblings:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)this[i].parentNode&&(t=t.concat(s(this[i].parentNode.firstChild,this[i])));return this.setupOld(M(t).filter(e))},closest:function(e,t){if(0==this.length)return this;var i=this[0],n=M(e,t);if(0==n.length)return M();for(;i&&-1==n.indexOf(i);)i=i!==t&&i!==x&&i.parentNode;return M(i)},filter:function(e){if(0==this.length)return this;if(e==_)return this;for(var t=[],i=0;this.length>i;i++){var s=this[i];s.parentNode&&M(e,s.parentNode).indexOf(s)>=0&&t.push(s)}return this.setupOld(M(n(t)))},not:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++){var s=this[i];s.parentNode&&-1==M(e,s.parentNode).indexOf(s)&&t.push(s)}return this.setupOld(M(n(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=_?this.oldElement:M()},clone:function(e){if(e=e===!1?!1:!0,0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t.push(this[i].cloneNode(e));return M(t)},size:function(){return this.length},serialize:function(){if(0==this.length)return"";for(var e=[],t=0;this.length>t;t++)this.slice.call(this[t].elements).forEach(function(t){var i=t.getAttribute("type");if("fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||t.checked)&&t.getAttribute("name"))if("select-multiple"==t.type)for(var n=0;t.options.length>n;n++)t.options[n].selected&&e.push(t.getAttribute("name")+"="+encodeURIComponent(t.options[n].value));else e.push(t.getAttribute("name")+"="+encodeURIComponent(t.value))});return e.join("&")},eq:function(e){return M(this.get(e))},index:function(e){return e?this.indexOf(M(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&this.filter(e).length>0}};var B={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:_,timeout:0,crossDomain:null};M.jsonP=function(t){var i,n="jsonp_callback"+ ++C,s="",o=x.createElement("script");return e[n]=function(r){clearTimeout(s),M(o).remove(),delete e[n],t.success.call(i,r)},o.src=t.url.replace(/=\?/,"="+n),t.error&&(o.onerror=function(){clearTimeout(s),t.error.call(i,"","error")}),M("head").append(o),t.timeout>0&&(s=setTimeout(function(){t.error.call(i,"","timeout")},t.timeout)),{}},M.ajax=function(t){var i;try{var n=t||{};for(var s in B)n[s]===_&&(n[s]=B[s]);if(n.url||(n.url=e.location),n.contentType||(n.contentType="application/x-www-form-urlencoded"),n.headers||(n.headers={}),"async"in n&&n.async===!1||(n.async=!0),n.dataType)switch(n.dataType){case"script":n.dataType="text/javascript, application/javascript";break;case"json":n.dataType="application/json";break;case"xml":n.dataType="application/xml, text/xml";break;case"html":n.dataType="text/html";break;case"text":n.dataType="text/plain";break;default:n.dataType="text/html";break;case"jsonp":return M.jsonP(t)}else n.dataType="text/html";if(M.isObject(n.data)&&(n.data=M.param(n.data)),"get"===n.type.toLowerCase()&&n.data&&(n.url+=-1===n.url.indexOf("?")?"?"+n.data:"&"+n.data),/=\?/.test(n.url))return M.jsonP(n);null===n.crossDomain&&(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=e.location.host),n.crossDomain||(n.headers=M.extend({"X-Requested-With":"XMLHttpRequest"},n.headers));var o,r=n.context,l=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:e.location.protocol;i=new e.XMLHttpRequest,i.onreadystatechange=function(){var e=n.dataType;if(4===i.readyState){clearTimeout(o);var t,s=!1;if(i.status>=200&&300>i.status||0===i.status&&"file:"==l){if("application/json"!==e||/^\s*$/.test(i.responseText))"application/xml, text/xml"===e?t=i.responseXML:"text/html"==e?(t=i.responseText,M.parseJS(t)):t=i.responseText;else try{t=JSON.parse(i.responseText)}catch(a){s=a}0===i.status&&0===t.length&&(s=!0),s?n.error.call(r,i,"parsererror",s):n.success.call(r,t,"success",i)}else s=!0,n.error.call(r,i,"error");n.complete.call(r,i,s?"error":"success")}},i.open(n.type,n.url,n.async),n.withCredentials&&(i.withCredentials=!0),n.contentType&&(n.headers["Content-Type"]=n.contentType);for(var c in n.headers)i.setRequestHeader(c,n.headers[c]);if(n.beforeSend.call(r,i,n)===!1)return i.abort(),!1;n.timeout>0&&(o=setTimeout(function(){i.onreadystatechange=a,i.abort(),n.error.call(r,i,"timeout")},n.timeout)),i.send(n.data)}catch(h){console.log(h),n.error.call(r,i,"error",h)}return i},M.get=function(e,t){return this.ajax({url:e,success:t})},M.post=function(e,t,i,n){return"function"==typeof t&&(i=t,t={}),n===_&&(n="html"),this.ajax({url:e,type:"POST",data:t,dataType:n,success:i})},M.getJSON=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this.ajax({url:e,data:t,success:i,dataType:"json"})},M.param=function(e,t){var i=[];if(e instanceof j)e.each(function(){var e=t?t+"[]":this.id,n=this.value;i.push(e+"="+encodeURIComponent(n))});else for(var n in e){var s=t?t+"["+n+"]":n,o=e[n];i.push(M.isObject(o)?M.param(o,s):s+"="+encodeURIComponent(o))}return i.join("&")},M.parseJSON=function(e){return JSON.parse(e)},M.parseXML=function(e){return(new DOMParser).parseFromString(e,"text/xml")},c(M,navigator.userAgent),M.__detectUA=c,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+|\s+$/,""),this}),M.uuid=function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},M.getCssMatrix=function(t){if(t==_)return e.WebKitCSSMatrix||e.MSCSSMatrix||{a:0,b:0,c:0,d:0,e:0,f:0};try{if(e.WebKitCSSMatrix)return new WebKitCSSMatrix(e.getComputedStyle(t).webkitTransform);if(e.MSCSSMatrix)return new MSCSSMatrix(e.getComputedStyle(t).transform);var i=e.getComputedStyle(t)[M.feat.cssPrefix+"Transform"].replace(/[^0-9\-.,]/g,"").split(",");return{a:+i[0],b:+i[1],c:+i[2],d:+i[3],e:+i[4],f:+i[5]}}catch(n){return{a:0,b:0,c:0,d:0,e:0,f:0}}};var P={},O=1;M.event={add:m,remove:g},M.fn.bind=function(e,t){for(var i=0;this.length>i;i++)m(this[i],e,t);return this},M.fn.unbind=function(e,t){for(var i=0;this.length>i;i++)g(this[i],e,t);return this},M.fn.one=function(e,t){return this.each(function(i,n){m(this,e,t,null,function(e,t){return function(){var i=e.apply(n,arguments);return g(n,t,e),i}})})};var A=function(){return!0},q=function(){return!1},L={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};M.fn.delegate=function(e,t,i){for(var n=0;this.length>n;n++){var s=this[n];m(s,t,i,e,function(t){return function(i){var n,o=M(i.target).closest(e,s).get(0);return o?(n=M.extend(v(i),{currentTarget:o,liveFired:s}),t.apply(o,[n].concat([].slice.call(arguments,1)))):_}})}return this},M.fn.undelegate=function(e,t,i){for(var n=0;this.length>n;n++)g(this[n],t,i,e);return this},M.fn.on=function(e,t,i){return t===_||M.isFunction(t)?this.bind(e,t):this.delegate(t,e,i)},M.fn.off=function(e,t,i){return t===_||M.isFunction(t)?this.unbind(e,t):this.undelegate(t,e,i)},M.fn.trigger=function(e,t,i){"string"==typeof e&&(e=M.Event(e,i)),e.data=t;for(var n=0;this.length>n;n++)this[n].dispatchEvent(e);return this},M.Event=function(e,t){var i=x.createEvent("Events"),n=!0;if(t)for(var s in t)"bubbles"==s?n=!!t[s]:i[s]=t[s];return i.initEvent(e,n,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},M.bind=function(e,t,i){e.__events||(e.__events={}),M.isArray(t)||(t=[t]);for(var n=0;t.length>n;n++)e.__events[t[n]]||(e.__events[t[n]]=[]),e.__events[t[n]].push(i)},M.trigger=function(e,t,i){var n=!0;if(!e.__events)return n;M.isArray(t)||(t=[t]),M.isArray(i)||(i=[]);for(var s=0;t.length>s;s++)if(e.__events[t[s]])for(var o=e.__events[t[s]],r=0;o.length>r;r++)M.isFunction(o[r])&&o[r].apply(e,i)===!1&&(n=!1);return n},M.unbind=function(e,t,i){if(e.__events){M.isArray(t)||(t=[t]);for(var n=0;t.length>n;n++)if(e.__events[t[n]])for(var s=e.__events[t[n]],o=0;s.length>o;o++)if(i==_&&delete s[o],s[o]==i){s.splice(o,1);break}}},M.proxy=function(e,t,i){return function(){return i?e.apply(t,i):e.apply(t,arguments)}};var H=function(e,t){for(var i=0;e.length>i;i++)b(e[i],t)};M.cleanUpContent=function(e,t,i){if(e){var n=e.childNodes;n&&n.length>0&&M.asap(H,{},[S.apply(n,[0]),i]),t&&y(e,i)}};var N=[],D=[],Y=[];M.asap=function(t,i,n){if(!M.isFunction(t))throw"$.asap - argument is not a valid function";N.push(t),D.push(i?i:{}),Y.push(n?n:[]),e.postMessage("jqm-asap","*")},e.addEventListener("message",function(t){t.source==e&&"jqm-asap"==t.data&&(t.stopPropagation(),N.length>0&&N.shift().apply(D.shift(),Y.shift()))},!0);var R={};return M.parseJS=function(t){if(t){if("string"==typeof t){var i=x.createElement("div");i.innerHTML=t,t=i}var n=t.getElementsByTagName("script");t=null;for(var s=0;n.length>s;s++)if(n[s].src.length>0&&!R[n[s].src]){var o=x.createElement("script");o.type=n[s].type,o.src=n[s].src,x.getElementsByTagName("head")[0].appendChild(o),R[n[s].src]=1,o=null}else e.eval(n[s].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(e){M.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),M}(window);"$"in window||(window.$=jq),window.numOnly||(window.numOnly=function numOnly(e){if(void 0===e||""===e)return 0;if(isNaN(parseFloat(e))){if(!e.replace)return 0;e=e.replace(/[^0-9.-]/,"")}return parseFloat(e)})}(function(e){var t=window.location.hash,i=t,n=function(){this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition};n.prototype={header_id:"#header",footer_id:"#footer",content_id:"#content",panel_id:"#panel",side_menu_id:"#side_menu",left_button_id:"#top_left_button",right_button_id:"#top_right_button",active_footer_button_id:"",active_footer_class:"active_footer_button",title_id:"#title",ui_kit_container_id:"#ui_kit",starting_panel_id:"#starting_panel",default_header_content:"",default_footer_content:"",default_side_menu_content:"",last_click:"",cached_pages:[],pages_created:0,pages_in_dom:0,delete_queue:{},on_unload:null,load_content_queue:[],footer:"",header:"",ui_kit_container:"",left_button:"",history:[],homeDiv:"",screen_width:"",content_string:"",modal_window:"",custom_footer:!1,default_footer:"",default_header:null,custom_menu:!1,default_menu:"",_readyFunc:null,doing_transition:!1,password_box:e.password_box?new e.password_box:!1,select_box:e.select_box?e.select_box:!1,ajax_url:"",transition_effect:"fade",scrolling_divs:[],firstDiv:"",has_launched:!1,launch_completed:!1,active_div:"",custom_click_handler:"",menu_animation:null,side_menu_displayed:!1,show_footer_menu:!0,auto_launch:!0,showBackbutton:!0,left_button_text:"Back",reset_scrollers:!0,load_default_hash:!0,useAjaxCacheBuster:!1,autoBoot:function(){this.auto_launch&&this.launch()},launch:function(){if(!this.has_launched){this.has_launched=!0;var n=this;this.ui_kit_container=e(this.ui_kit_container_id),this.footer=e(this.footer_id).get(0),this.content_string=e(this.content_id).get(0),this.header=e(this.header_id).get(0),this.left_button=e(this.left_button_id).get(0),this.right_button=e(this.right_button_id).get(0),this.menu=e(this.side_menu_id).get(0),this.ui_kit_container[0].addEventListener("click",function(t){console.log("click"),e.ui.checkAnchorClick(t,t.target)},!1),this.os_specific_fixes(),e(document).on("click",".back_button",function(){console.log("back clicked"),n.go_back()});var s=e(this.starting_panel_id)[0],o=s,r=s.previousSibling;if(s.parentNode.removeChild(s),this.addDivAndScroll(o),e(this.starting_panel_id).insertAfter(r),this.firstDiv=e(this.starting_panel_id).get(0),s=null,this.firstDiv){n=this,this.active_div=this.firstDiv,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable();var l=function(){n.default_header=e("#header").children().clone();var s=n.get_panel_id_from_hash(t);s.length>0&&n.load_default_hash&&s!=="#"+n.firstDiv.id&&e(s).length>0?n.load_content(t,!0,!1,"none"):(i="#"+n.firstDiv.id,n.loadContentData(n.firstDiv),n.firstDiv.style.display="block",e("#header #left_button").css("visibility","hidden")),n.launch_completed=!0,e(document).trigger("$.ui.ready")};l()}n=this,e.bind(n,"content-loaded",function(){if(n.load_content_queue.length>0){var e=n.load_content_queue.splice(0,1)[0];n.load_content(e[0],e[1],e[2],e[3],e[4])}}),window.navigator.standalone&&this.blockPageScroll(),this.topClickScroll()}},toggle_visibility:function(t,i){return i===!0?(e(t).show(),void 0):i===!1?(e(t).hide(),void 0):(e(t).toggle(),void 0)},dispose:function(){},set_element:function(t,i){i&&i!==t?(t=e(t),t.html(e(i).html()),t.children().show()):i===t?e(t).children().show():i||e(t).children().hide()},set_active_footer_button:function(t){e(this.current_footer_button_id).removeClass(this.active_footer_class),e(t).addClass(this.active_footer_class),this.current_footer_button_id=t},set_footer:function(e){e?(this.set_element(this.footer_id,e),this.toggle_footer_menu(!0)):this.toggle_footer_menu(!1)},toggle_footer_menu:function(t){"none"!==e(this.footer_id).css("display")&&(void 0!==t&&t!==!0||void 0===t)?(e("#content").css("bottom","0px"),e(this.footer_id).hide()):(void 0===t||void 0!==t&&t===!0)&&(e(this.footer_id).show(),e("#content").css("bottom",e(this.footer_id).css("height")))},set_header:function(e){e?(this.set_element(this.header_id,e),this.toggle_header_menu(!0)):this.toggle_header_menu(!1)},toggle_header_menu:function(t){if("none"!==e("#header").css("display")&&(void 0!==t&&t!==!0||void 0===t))e("#content").css("top","0px"),e("#header").hide();else if(void 0===t||void 0!==t&&t===!0){e(this.header_id).show();var i=numOnly(e(this.header_id).css("height"));e(this.content_id).css("top",i+"px")}},set_left_button:function(e){this.set_element(this.left_button_id,e)},set_right_button:function(e){this.set_element(this.right_button_id,e)},os_specific_fixes:function(){var t=this,i=null;e.bind(e.touch_layer,"enter-edit",function(e){i=e}),e.bind(e.touch_layer,"enter-edit-reshape",function(){var n=e(i),s=n.closest(t.active_div);if(s&&s.size()>0)if(e.os.ios||e.os.chrome){var o,r;o=document.body.scrollTop?document.body.scrollTop-s.offset().top:0,r=s.offset().bottom-n.offset().bottom,t.scrolling_divs[t.active_div.id].setPaddings(o,r)}else if(e.os.android||e.os.blackberry){var l=n.offset(),a=s.offset();l.bottom>a.bottom&&l.height<a.height&&t.scrolling_divs[t.active_div.id].scrollToItem(n,"bottom")}}),e.os.ios&&e.bind(e.touch_layer,"exit-edit-reshape",function(){t.scrolling_divs[t.active_div.id].setPaddings(0,0)})},css3animate:function(t,i){return t=e(t),t.css3Animate(i)},actionsheet:function(t){return e("#ui_kit").actionsheet(t)},popup:function(t){return e("#ui_kit").popup(t)},ready:function(e){this.launch_completed?e():document.addEventListener("$.ui.ready",function(){e(),this.removeEventListener("$.ui.ready",arguments.callee)},!1)},go_back:function(){if(this.history.length>0){this.history.pop();var t=this.history.pop();e.mvc.route(t)}},clear_history:function(){this.history=[]},get_panel_id_from_hash:function(e){var t=e.indexOf("/");return-1===t?e:e.substring(0,t)},update_content_div:function(t,i){t="#"+t.replace("#","");var n=e(t).get(0);if(n){var s=document.createElement("div");s.innerHTML=i,e(s).children(".panel")&&e(s).children(".panel").length>0&&(s=e(s).children(".panel").get()),n.getAttribute("js-scrolling")&&"yes"===n.getAttribute("js-scrolling").toLowerCase()?(e.cleanUpContent(n.childNodes[0],!1,!0),n.childNodes[0].innerHTML=i):(e.cleanUpContent(n,!1,!0),n.innerHTML=i),e(s).title&&(n.title=e(s).title)}},add_content_div:function(t,i,n,s){t="string"!=typeof t?t:-1===t.indexOf("#")?"#"+t:t;var o,r,l=e(t).get(0);return l?o=l:(o=document.createElement("div"),o.innerHTML=i,e(o).children(".panel")&&e(o).children(".panel").length>0&&(o=e(o).children(".panel").get()),!o.title&&n&&(o.title=n),r=o.id?o.id:t.replace("#",""),o.id=r),o.className="panel",r=o.id,this.addDivAndScroll(o,s),l=null,o=null,r},load_content:function(e,t,i,n,s){if(this.doing_transition)this.load_content_queue.push([e,t,i,n,s]);else{if(0===e.length)return;this.loadDiv(e,t,i,n)}},loadDiv:function(t,i,n,s){t=t.replace("#","");var o=t.indexOf("/");-1!==o&&(t=t.substr(0,o));var r=e("#"+t).get(0);if(!r)return console.log("Target panel: "+t+" was not found");this.transition_effect=s;var l=this.active_div;if(l!==r){i&&this.clear_history(),this.doing_transition=!0,l.style.display="block",r.style.display="block",this.runTransition(s,l,r,n),this.loadContentData(r);var a=this;setTimeout(function(){a.scrolling_divs[l.id]&&a.scrolling_divs[l.id].disable()},200)}},loadContentData:function(t){t.title&&e(this.title_id).html(t.title),this.active_div=t,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable(this.reset_scrollers)},runTransition:function(e,t,i,n){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,i,n)},addDivAndScroll:function(t,i){var n,s=!1,o=t.style.overflow,r="hidden"!==o&&"visible"!==o,l=this.content_string;!e.feat.nativeTouchScroll&&r&&t.setAttribute("js-scrolling","yes"),t.getAttribute("js-scrolling")&&"yes"===t.getAttribute("js-scrolling").toLowerCase()&&(s=!0,r=!0),t.getAttribute("scrolling")&&"no"===t.getAttribute("scrolling")&&(r=!1,s=!1,t.removeAttribute("js-scrolling")),s?(n=t.cloneNode(!1),t.title=null,t.id=null,e(t).replaceClass("panel","jqmScrollPanel"),n.appendChild(t),l.appendChild(n),this.select_box!==!1&&this.select_box.getOldSelects(n.id),this.password_box!==!1&&this.password_box.getOldPasswords(n.id)):(l.appendChild(t),n=t,t.style["-webkit-overflow-scrolling"]="none"),r&&(this.scrolling_divs[n.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"jqmScrollbar",refresh:i,useJsScroll:s,noParent:!s,autoEnable:!1})),t=null,n=null},scrollToTop:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToTop("300ms")},scrollToBottom:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToBottom("300ms")},topClickScroll:function(){document.getElementById("header").addEventListener("click",function(t){15>=t.clientY&&"h1"===t.target.nodeName.toLowerCase()&&e.ui.scrolling_divs[e.ui.active_div.id].scrollToTop("100")})},blockPageScroll:function(){e("#ui_kit #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t){t.style.display="block",e.style.display="block";var i=this;i.clearAnimations(t),i.css3animate(e,{x:"0%",y:0}),i.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,i){t.style.display="none",this.doing_transition=!1,i&&this.clearAnimations(i),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}},e.ui=new n})(jq),function(e){e.ui.checkAnchorClick=function(t,i){return i!==e.ui.ui_kit_container_id?i.tagName&&"a"!==i.tagName.toLowerCase()&&i.parentNode?e.ui.checkAnchorClick(t,i.parentNode):i.tagName&&"a"===i.tagName.toLowerCase()&&e.mvc.route(i)?t.preventDefault():void 0:void 0}}(jq),function(e){e.fn.actionsheet=function(e){for(var i,n=0;this.length>n;n++)i=new t(this[n],e);return 1==this.length?i:this};var t=function(){var t=function(i,n){if(this.element="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.element)return alert("Could not find element for actionsheet "+i),void 0;
if(!(this instanceof t))return new t(i,n);if("object"==typeof n)for(var s in n)this[s]=n[s];try{var o,r=this,l='<div id="jq_actionsheet"><div style="width:100%">',a="</div></div>";if("string"==typeof n)o=e(l+n+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof n){o=e(l+a);var c=e(o.children().get());n.push({text:"Cancel",cssClasses:"cancel"});for(var h=0;n.length>h;h++){var d=e('<a href="javascript:;" >'+(n[h].text||"TEXT NOT ENTERED")+"</a>");d[0].onclick=n[h].handler||function(){},n[h].cssClasses&&n[h].cssClasses.length>0&&d.addClass(n[h].cssClasses),c.append(d)}}e(i).find("#jq_actionsheet").remove(),e(i).find("#jq_action_mask").remove(),actionsheetEl=e(i).append(o),o.get().style[e.feat.cssPrefix+"Transition"]="all 0ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0"+e.feat.cssTransformEnd),o.css("top",window.innerHeight+"px"),this.element.style.overflow="hidden",o.on("click","a",function(){r.hideSheet()}),this.activeSheet=o,e(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){o.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,"+-o.height()+"px"+e.feat.cssTransformEnd)},10)}catch(u){alert("error adding actionsheet"+u)}};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.element).find("#jq_action_mask").remove(),this.activeSheet.get().style[e.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,n=this.element;setTimeout(function(){i.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",i.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0px"+e.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,n.style.overflow="none"},500)},10)}},t}()}(jq),function(e){e.get_with_token=function(t){e.ajax({type:"GET",dataType:"application/json",headers:{TOKEN:current_user.token},url:server+t.api_url,data:t.data,success:t.success,error:t.error})},e.post_with_token=function(t){e.ajax({type:"POST",dataType:"application/json",headers:{TOKEN:current_user.token},url:server+t.api_url,data:t.data,success:t.success,error:t.error})}}(jq),function(e){var t=[],i=function(t){return t.jqmCSS3AnimateId||(t.jqmCSS3AnimateId=e.uuid()),t.jqmCSS3AnimateId},n=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},s=function(e,s){var o,r,l=n(e);return r=i(l),t[r]?(t[r].animate(s),o=t[r]):(o=a(l,s),t[r]=o),o};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=s(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var i=1;this.length>i;i++)t.link(this[i],e);return t},e.css3AnimateQueue=function(){return new a.queue};var o=e.feat.cssTransformStart,r=e.feat.cssTransformEnd,l=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=e.os.fennec||""==e.feat.cssPrefix||e.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(n,s){if(!(this instanceof i))return new i(n,s);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.element=n,this.linkFinishedProxy_=e.proxy(this.linkFinished,this),this.element){this.animate(s);var o=this;jq(this.element).bind("destroy",function(){var e=o.element.jqmCSS3AnimateId;o.callbacksStack=[],t[e]&&delete t[e]})}};return i.prototype={animate:function(t){if(this.isActive&&this.cancel(),this.isActive=!0,!t)return alert("Please provide configuration options for animation of "+this.element.id),void 0;var i=!!t.addClass;if(i)t.removeClass?jq(this.element).replaceClass(t.removeClass,t.addClass):jq(this.element).addClass(t.addClass);else{var n=numOnly(t.time);if(0==n&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous){var s=new e.getCssMatrix(this.element);t.y+=numOnly(s.f),t.x+=numOnly(s.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear"),("number"==typeof t.x||-1==t.x.indexOf("%")&&-1==t.x.toLowerCase().indexOf("px")&&-1==t.x.toLowerCase().indexOf("deg"))&&(t.x=parseInt(t.x)+"px"),("number"==typeof t.y||-1==t.y.indexOf("%")&&-1==t.y.toLowerCase().indexOf("px")&&-1==t.y.toLowerCase().indexOf("deg"))&&(t.y=parseInt(t.y)+"px");var a="translate"+o+t.x+","+t.y+r+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(a+=" rotateY("+t.rotateY+")"),a+=" skew("+t.skewX+","+t.skewY+")",this.element.style[e.feat.cssPrefix+"Transform"]=a,this.element.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";if(void 0!==t.opacity&&(this.element.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.element.style.width=t.width,c="all"),t.height&&(this.element.style.height=t.height,c="all"),this.element.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s"))var h="ms",d=t.time+h;else if(-1!==t.time.indexOf("ms"))var h="ms",d=t.time;else var h="s",d=t.time+h;this.element.style[e.feat.cssPrefix+"TransitionDuration"]=d,this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.element.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.element);if(i){var p=f[e.feat.cssPrefix+"TransitionDuration"],n=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==n||"ms"==h&&5>n||"none"==f.display)e.asap(e.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(e){clearTimeout(u.timeout),u.finishAnimation(e),u.element.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.element.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var i=0;t.length>i;i++){var n=t[i].complete,s=t[i].success,o=t[i].failure;n&&"function"==typeof n&&n(e),e&&o&&"function"==typeof o?o():s&&"function"==typeof s&&s()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.element.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var i={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(i),t.success=null,t.failure=null,s(e,t),t.complete=i.complete,t.success=i.success,t.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var t=this.shift();t()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(t){t||e.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(e){e.ui.show_modal=function(t){var i=this;t="#"+t.replace("#","");try{e(t)&&(jq("#modalContainer").html(e.feat.nativeTouchScroll?e(t).html():e(t).get(0).childNodes[0].innerHTML+"",!0),e("#modalContainer").append("<a href='javascript:;' onclick='$.ui.hide_modal();' class='closebutton modalbutton'></a>"),this.modal_window.style.display="block",this.scrolling_divs.modal_container.enable(i.reset_scrollers),this.scrollToTop("modal"),e("#modalContainer").data("panel",t))}catch(n){console.log("Error with modal - "+n,this.modal_window)}},e.ui.hide_modal=function(){var t=e("#modalContainer");t.html("",!0),e("#modal_ui").hide(),this.scrolling_divs.modal_container.disable();var i=e(t.data("panel")),n=i.data("unload");"string"==typeof n&&window[n]&&window[n](i.get(0))}}(jq),function(e){e.password_box=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for password_box "+t),void 0;for(var n=i.getElementsByTagName("input"),s=0;n.length>s;s++)"password"==n[s].type&&e.os.webkit&&(n[s].type="text",n[s].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(t,i){t=parseInt(t);var n=document.getElementById(i);n.style[e.cssPrefix+"text-security"]=1==t?"none":"disc",e.os.webkit||(n.type=1==t?"text":"password"),n=null}}}(jq),function(e){e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,n){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof n||"number"==typeof n)&&(n={message:n,cancelOnly:"true",cancelText:"OK"}),this.id=id=n.id=n.id||e.uuid(),this.title=n.suppressTitle?"":n.title||"Alert",this.message=n.message||"",this.cancelText=n.cancelText||"Cancel",this.cancelCallback=n.cancelCallback||function(){},this.cancelClass=n.cancelClass||"button",this.doneText=n.doneText||"Done",this.doneCallback=n.doneCallback||function(){},this.doneClass=n.doneClass||"button",this.cancelOnly=n.cancelOnly||!1,this.onShow=n.onShow||function(){},this.autoCloseDone=void 0!==n.autoCloseDone?n.autoCloseDone:!0,t.push(this),1==t.length&&this.show()}catch(s){console.log("error adding popup "+s)}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";e(this.container).append(e(i));var n=e("#"+this.id);n.bind("close",function(){t.hide()}),this.cancelOnly&&(n.find("A#action").hide(),n.find("A#cancel").addClass("center")),n.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"==i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.block_ui(.5),n.removeClass("hidden"),n.bind("orientationchange",function(){t.positionPopup()}),n.find("header").show(),n.find("footer").show(),this.onShow(this)},hide:function(){var t=this;e("#"+t.id).addClass("hidden"),e.unblock_ui(),setTimeout(function(){t.remove()},250)},remove:function(){var i=this,n=e("#"+i.id);n.unbind("close"),n.find("BUTTON#action").unbind("click"),n.find("BUTTON#cancel").unbind("click"),n.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),n=!1;e.block_ui=function(t){n||(t=t?" style='opacity:"+t+";'":"",e("BODY").prepend(e("<div id='mask'"+t+"></div>")),e("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),n=!0)},e.unblock_ui=function(){n=!1,e("BODY DIV#mask").unbind("touchstart"),e("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()},window.alert=function(t){(null===t||void 0===t)&&(t="null"),e("#ui_kit").length>0?e("#ui_kit").popup(""+t):e(document.body).popup(""+t)}}(jq),function(e){function t(e){return s[e].element?!0:(delete s[e],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;e.bind(e.touch_layer,"pre-enter-edit",function(e){if(!i){i=!0;for(var n in s)t(n)&&s[n].needsFormsFix(e)&&s[n].startFormsMode()}}),e.bind(e.touch_layer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var e in s)t(e)&&s[e].androidFormsMode&&s[e].stopFormsMode()}})}r=!0}var n=75,s=[],o=function(t){return t.jqmScrollerId||(t.jqmScrollerId=e.uuid()),t.jqmScrollerId};e.fn.scroller=function(t){for(var i,n,r=0;this.length>r;r++)n=o(this[r]),s[n]?i=s[n]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=l(this[r],t),s[n]=i);return 1==this.length?i:this};var r=!1,l=function(){function t(t,i){var n=document.createElement("div");return n.style.position="absolute",n.style.width=t+"px",n.style.height=i+"px",n.style[e.feat.cssPrefix+"BorderRadius"]="2px",n.style.borderRadius="2px",n.style.opacity=0,n.className="scrollBar",n.style.background="black",n}var o,l,a=e.feat.cssTransformStart,c=e.feat.cssTransformEnd,h=function(t,n){if(!r&&e.touch_layer&&e.isObject(e.touch_layer)?i():e.touch_layer&&e.isObject(e.touch_layer)||(e.touch_layer={}),"string"==typeof t||t instanceof String)var s=document.getElementById(t);else var s=t;return s?jq.os.desktop?new d(s,n):n.useJsScroll?new o(s,n):new l(s,n):(alert("Could not find element for scroller "+t),void 0)},d=function(t,i){this.element=t,this.jqEl=e(this.element);for(var n in i)this[n]=i[n]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(e,t){var t=parseInt(t);if(0==t||isNaN(t))return this.element.scrollTop=Math.abs(e.y),this.element.scrollLeft=Math.abs(e.x),void 0;var i=10,n=(this.element.scrollTop-e.y)/Math.ceil(t/i),s=(this.element.scrollLeft-e.x)/Math.ceil(t/i),o=this,r=Math.ceil(this.element.scrollTop-e.y)/n,l=Math.ceil(this.element.scrollLeft-e.x)/n,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.element.scrollTop-=n,yRun++,yRun>=r&&(o.element.scrollTop=e.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.element.scrollLeft-=s,a++,a>=l&&(o.element.scrollLeft=e.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.element.scrollHeight-this.element.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.element=t,this.jqEl=e(this.element),this.defaultProperties();for(var n in i)this[n]=i[n];var o=this,r=function(){o.eventsActive&&o.adjustScroll()};this.jqEl.bind("destroy",function(){o.disable(!0);var t=o.element.jqmScrollerId;s[t]&&delete s[t],e.unbind(e.touch_layer,"orientationchange-reshape",r)}),e.bind(e.touch_layer,"orientationchange-reshape",r)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!=this.element.style.display&&e(t).closest(this.jqEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){if(t&&(this.refreshElement=t),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var n=jq(i);else var n=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var n=jq(this.refreshElement);var s=n.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.element).prepend(this.refreshContainer.append(s,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var n=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){n.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(e){jq(this.container).find(".jqscroll_refresh").html(e)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(t,i){if(e.is$(t)||(t=e(t)),"bottom"==i){var n=t.offset(),s=n.top-this.jqEl.offset().bottom+n.height;s+=4}else{var o=t.offset().top,s=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(s-=r),s-=4}this.scrollBy({y:s,x:0},0)},setPaddings:function(t,i){var n=e(this.element),s=numOnly(n.css("paddingTop"));n.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-s,x:0})},divide:function(e,t){return 0!=t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,n){if(this.init(i,n),this.container=this.element.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=e(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var s=t(5,20);s.style.top="0px",this.vScrollCSS&&(s.className=this.vScrollCSS),s.style.opacity="0",this.container.appendChild(s),this.vscrollBar=s,s=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var s=t(20,5);s.style.bottom="0px",this.hScrollCSS&&(s.className=this.hScrollCSS),s.style.opacity="0",this.container.appendChild(s),this.hscrollBar=s,s=null}this.horizontalScroll&&(this.element.style["float"]="left"),this.element.hasScroller=!0},l=function(t,i){this.init(t,i);var n=e(t);if(i.noParent!==!0){var s=n.parent(),o=s.height();o+=-1==o.indexOf("%")?"px":"",n.css("height",o),n.parent().parent().append(n),s.remove()}this.container=this.element,n.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.jqEl.css("overflow","auto")}},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.element.style.overflow="auto",e||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("scroll",this,!1))},l.prototype.disable=function(e){this.eventsActive&&(this.logPos(this.element.scrollLeft,this.element.scrollTop),e||(this.element.style.overflow="hidden"),this.element.removeEventListener("touchstart",this,!1),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.element.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(e,t){this.element.removeEventListener("touchstart",this,!1),this.element.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(t){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.element.addEventListener("touchmove",this,!1),this.dY=t.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),e.trigger(this,"scrollstart",[this.element]),e.trigger(e.touch_layer,"scrollstart",[this.element])},l.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY;this.moved||(this.element.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.element.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.element.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=i,t.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var t=this.element.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(t,!0),t&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,n=this,s={top:this.element.scrollTop,left:this.element.scrollLeft},o=0;n.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(n.nativePolling),void 0):((n.element.scrollTop!=s.top||n.element.scrollLeft!=s.left)&&(clearInterval(n.nativePolling),e.trigger(e.touch_layer,"scrollend",[n.element]),e.trigger(n,"scrollend",[n.element])),void 0)},20)},l.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,s=function(t){t||(i.element.style[e.feat.cssPrefix+"Transform"]="none",i.element.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.element.scrollTop=0,i.logPos(i.element.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,e.trigger(i,"refresh-finish")};t!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.element.scrollTop-i.refreshHeight+"px",x:"0%",time:n+"ms",complete:s}):s(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},l.prototype.scrollBy=function(e,t){return e.x+=this.element.scrollLeft,e.y+=this.element.scrollTop,this.logPos(this.element.scrollLeft,this.element.scrollTop),this._scrollTo(e,t)},l.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.element.scrollLeft,this.element.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},l.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.element.scrollWidth),this.loggedPcentY=this.divide(t,this.element.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.element.scrollLeft=this.loggedPcentX*this.element.scrollWidth,this.element.scrollTop=this.loggedPcentY*this.element.scrollHeight,this.logPos(this.element.scrollLeft,this.element.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},o.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.element.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.element.clientHeight-e.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.element);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.element.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},o.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!=t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var n={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var s=this.getViewportSize();this.elementInfo.bottomMargin=s.h,this.elementInfo.maxTop=this.element.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.element.clientHeight,this.elementInfo.rightMargin=s.w,this.elementInfo.maxLeft=this.element.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.element.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.element);n.top=numOnly(o.f)-numOnly(this.container.scrollTop),n.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.element,this.refresh&&0==n.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>n.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),n.x=n.left,n.y=n.top,this.setVScrollBar(n,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(n,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=n,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),e.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop),n=parseInt(t.style.marginLeft);return isNaN(i)&&(i=0),isNaN(n)&&(n=0),{f:i,e:n}}var s=e.getCssMatrix(t);return s},o.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var n=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";n!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=n);var s=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return s>this.elementInfo.bottomMargin&&(s=this.elementInfo.bottomMargin),0>s&&(s=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:s},t,i),!0},o.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var n=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";n!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=n);var s=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return s>this.elementInfo.rightMargin&&(s=this.elementInfo.rightMargin),0>s&&(s=0),this.scrollbarMoveCSS(this.hscrollBar,{x:s,y:0},t,i),!0},o.prototype.onTouchMove=function(e){if(null!=this.currentScrollingObject){var t=this.calculateMovement(e);this.calculateTarget(t),this.lastScrollInfo=t,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==t.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>t.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(e),this.doScroll()
}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var t=this.getCSSMatrix(this.element);this.lastScrollInfo.top=numOnly(t.f),this.lastScrollInfo.left=numOnly(t.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,n=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||n){var s=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-s)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||n&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:n&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},n=t?this.firstEventInfo:this.lastEventInfo,s=t?e.pageX:e.touches[0].pageX,o=t?e.pageY:e.touches[0].pageY,r=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-n.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?s-n.pageX:0,i.time=r,i.duration=r-n.time,i},o.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},o.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},o.prototype.checkXboundary=function(e){if(e.x>0)e.x=0;else{if(!(-e.x>this.elementInfo.maxLeft))return;e.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(e)},o.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},o.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},o.prototype.hideRefresh=function(){var t=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(t,"refresh-finish")}},n),this.refreshTriggered=!1)},o.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY=(0>e.deltaY?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(100*t>e.absSpeedY||5>e.absDeltaY)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX=(0>e.deltaX?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(100*t>e.absSpeedX||5>e.absDeltaX)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.element);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var s=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);this.fireRefreshRelease(s,t.top>0),this.refresh&&s?(t.y=this.refreshHeight,t.duration=n):t.y>=0?(t.y=0,t.top>=0&&(t.duration=n)):(-t.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=n)),this.androidFormsMode&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touch_layer,"scrollend",[i.element]),e.trigger(i,"scrollend",[i.element]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&e.trigger(i,"infinite-scroll-end")},t)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.element.style[e.feat.cssPrefix+"Transform"]="none",this.element.style[e.feat.cssPrefix+"Transition"]="none",this.element.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.element.style[e.feat.cssPrefix+"Perspective"]=1e3,this.element.style.marginTop=0,this.element.style.marginLeft=0,this.element.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(t,i,n){i||(i=0),n||(n="linear"),i=numOnly(i),this.element&&this.element.style&&(this.eventsActive&&(this.androidFormsMode?(this.element.style.marginTop=Math.round(t.y)+"px",this.element.style.marginLeft=Math.round(t.x)+"px"):(this.element.style[e.feat.cssPrefix+"Transform"]="translate"+a+t.x+"px,"+t.y+"px"+c,this.element.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=n)),this.logPos(t.x,t.y))},o.prototype.logPos=function(e,t){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(e,this.element.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.element.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},o.prototype.scrollbarMoveCSS=function(t,i,n,s){n||(n=0),s||(s="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,t.style[e.feat.cssPrefix+"TransitionDuration"]=n+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=s))},o.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},o.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.element),n=numOnly(i.f),s=numOnly(i.e);this.scrollTo({y:n-e.y,x:s-e.x},t)},o.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.element.clientHeight-this.container.clientHeight),x:0},e)},o.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},h}()}(jq),function(e){e.select_box={scroller:null,getOldSelects:function(t){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for jq.web.select_box "+t),void 0;for(var n=i.getElementsByTagName("select"),s=this,o=0;n.length>o;o++)n[o].hasSelectBoxFix||function(t){var i=document.createElement("div"),r=window.getComputedStyle(t),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(t.style.height)>0?t.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",t.value&&(i.innerHTML=t.options[t.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+t.className,i.id=t.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=t.id,i.onclick=function(){s.initDropDown(this.linkId)},e(i).insertBefore(e(t)),t.style.display="none",t.style.webkitAppearance="none";for(var h=0;t.options.length>h;h++)t.options[h].selected&&(i.value=t.options[h].text),t.options[h].watch("selected",function(e,i,n){return 1==n&&(t.getAttribute("multiple")||s.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),n});t.watch("selectedIndex",function(e,i,n){return this.options[n]&&(t.getAttribute("multiple")||s.updateMaskValue(this.id,this.options[n].text,this.options[n].value),this.value=this.options[n].value),n}),i=null,imageMask=null,n[o].hasSelectBoxFix=!0}(n[o]);s.createHtml()}},updateDropdown:function(e){var t=document.getElementById(e);if(t){for(var i=0;t.options.length>i;i++)t.options[i].selected&&(fakeInput.value=t.options[i].text),t.options[i].watch("selected",function(e,t,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});t=null}},initDropDown:function(e){var t=this,i=document.getElementById(e);if(!i.disabled&&i&&i.options&&0!=i.options.length){var n=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:e;for(var s=0;i.options.length>s;s++){i.options[s].watch("selected",function(e,i,n){return 1==n&&(t.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),n});var o=i.options[s].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=s,r.onclick=function(){t.setDropDownValue(e,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[s].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){console.log("Error showing div "+h)}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(n*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=n*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){console.log("error init dropdown"+h)}r=null,i=null}},updateMaskValue:function(e,t,i){var n=document.getElementById(e+"_jqmobiSelect"),s=document.getElementById(e);n&&(n.innerHTML=t),"function"==typeof s.onchange&&s.onchange(i),n=null,s=null},setDropDownValue:function(t,i,n){var s=document.getElementById(t);if(s){if(s.getAttribute("multiple")){var o=e(s).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,e(n).find("button").css("background","#fff")):(o.selected=!0,e(n).find("button").css("background","#000"))}else s.selectedIndex=i,e(s).find("option").forEach(function(e){e.selected=!1}),e(s).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(s).trigger("change"),s=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var t=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var n=document.createElement("div");n.id="jqmobiSelectBoxContainer",n.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",n.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",n.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var t=this;i.appendChild(n),e(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var s=e("#jqmobiSelectClose").get();s.onclick=function(){t.hideDropDown()};var o=e("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{t.scroller=e("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){console.log("Error creating select html "+r)}i=null,n=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],n=i,s=function(){return n},o=function(s){return i=n,n=t.call(this,e,i,s)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:s,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,s),HTMLElement.prototype.__defineSetter__.call(this,e,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(jq),function(e){e.ui.show_page=function(t){this.on_unload&&(this.on_unload(),this.on_unload=null),t.on_unload&&(this.unload=t.on_unload),t.on_load&&t.on_load(),this.set_header(t.header),this.set_footer(t.footer),this.set_active_footer_button(t.active_footer_button),this.set_left_button(t.left_button),this.set_right_button(t.right_button),t.api_url?this.cached_pages[t.div_id]?(console.log("we found cache"),this.add_content_div(t.div_id,e.template(t.template),t.title,this.cached_pages[t.div_id]),this.load_content(t.div_id,!1,!1,"fade"),e.get_with_token({api_url:t.api_url,data:t.data,success:function(i){var n=JSON.parse(i);e.ui.update_content_div(t.div_id,e.template(t.template),n)},error:function(){console.log("failed to update")}})):(console.log("no local cache found, fetching data"),e.get_with_token({api_url:t.api_url,data:t.data,success:function(i){var n=JSON.parse(i);console.log(n),e.ui.add_content_div(t.div_id,e.template(t.template),t.title,n),e.ui.load_content(t.div_id,!1,!1,"fade")},error:function(e,t){console.log("failed to access api"),console.log(e),console.log(t)}})):(console.log("no remote data needed"),0===e("#"+t.div_id).length?this.add_content_div(t.div_id,e.template(t.template),t.title,t.data):this.update_content_div(t.div_id,e.template(t.template),t.data),this.load_content(t.div_id,!1,!1,"fade"))}}(jq),function(e){e.ui.side_menu={create_side_menu:function(){this.menu||(this.menu=document.createElement("div"),this.menu.id="menu",this.menu.innerHTML='<div id="menu_scroller"></div>',this.ui_kit_container.append(this.menu),this.menu.style.overflow="hidden",this.scrolling_divs.menu_scroller=jq("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"jqmScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll}),e.feat.nativeTouchScroll&&e("#menu_scroller").css("height","100%"))},toggle_side_menu:function(e,t){this.side_menu_displayed=!0;var i=this,n=jq("#menu"),s=jq("#content, #menu, #header, #footer");n.hasClass("on")||n.hasClass("to-on")||(void 0===e||e===!1)&&void 0!==e?(void 0===e||void 0!==e&&e===!1)&&i.css3animate(s,{removeClass:"on off to-on",addClass:"to-off",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(s,{removeClass:"to-off on to-on",addClass:"off",time:0,complete:function(){n.hide(),i.side_menu_displayed=!1,t&&t(!1)}})}}):(n.show(),i.css3animate(s,{removeClass:"to-off off on",addClass:"to-on",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(s,{removeClass:"to-off off to-on",addClass:"on",time:0,complete:function(){i.side_menu_displayed=!1,t&&t(!1)}})}}))},disableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");this.isSideMenuOn()?this.toggle_side_menu(!1,function(t){t||e.removeClass("hasMenu")}):e.removeClass("hasMenu")},enableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");e.addClass("hasMenu")},isSideMenuEnabled:function(){return jq("#content").hasClass("hasMenu")},isSideMenuOn:function(){var e=jq("#menu");return this.isSideMenuEnabled()&&(e.hasClass("on")||e.hasClass("to-on"))},update_side_menu:function(e){var t=this,i=jq("#menu_scroller");if(void 0!==e&&null!=e){if("string"==typeof e)i.html(e,!0);else{i.html("");var n=document.createElement("a");n.className="closebutton jqMenuClose",n.href="javascript:;",n.onclick=function(){t.toggle_side_menu(!1)},i.append(n);var s=document.createElement("div");s.className="jqMenuHeader",s.innerHTML="Menu",i.append(s);for(var o=0;e.length>o;o++){var r=e[o].cloneNode(!0);i.append(r)}}this.scrolling_divs.menu_scroller.hideScrollbars(),this.scrolling_divs.menu_scroller.scrollToTop()}}}}(jq),function(){$.touch_layer=function(e){return $.touch_layer=new c(e),$.touch_layer};var e=["input","select","textarea"],t=["button","radio","checkbox","range","date"],i=$.os.ios,n=$.os.blackberry,s=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(e){this.clearTouchVars(),e.addEventListener("touchstart",this,!1),e.addEventListener("touchmove",this,!1),e.addEventListener("touchend",this,!1),e.addEventListener("click",this,!1),e.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=e,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var t=this;this.scrollTimeoutExpireProxy_=function(){t.scrollTimeout_=null,t.scrollTimeoutEl_.addEventListener("scroll",t.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(t.layer.style.height="100%"),$.asap(t.testAndFixUI,t,arguments)},document.addEventListener("click",function(e){void 0!==e.clientX&&null!==t.lastTouchStartX&&2>Math.abs(t.lastTouchStartX-e.clientX)&&2>Math.abs(t.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),$.bind(this,"scrollstart",function(e){t.isScrolling=!0,t.scrollingEl_=e,t.fireEvent("UIEvents","scrollstart",e,!1,!1)}),$.bind(this,"scrollend",function(e){t.isScrolling=!1,t.fireEvent("UIEvents","scrollend",e,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){return e||(e=l),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,e):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var i=this.getReferenceHeight(),n=this.getCurrentHeight();return i==n||i>n*r&&n>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(e>=t)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px";var i=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(n){var s=n.target&&void 0!=n.target.tagName?n.target.tagName.toLowerCase():"";if(-1===e.indexOf(s)||this.isFocused_&&!n.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=n.target&&void 0!=n.target.type?n.target.type.toLowerCase():"",r=-1!==t.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=n.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[n.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&n.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(e){$.trigger(this,"reshape"),$.trigger(this,e?e+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(e){jq.os.android&&e.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[e.target]))},exitExit:function(e){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[e]),this.allowDocumentScroll_=!1,$.os.ios){var t=this;setTimeout(function(){t.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e){this.allowDocumentScroll_||this.isPanning_||e.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(t){this.dX=t.touches[0].pageX,this.dY=t.touches[0].pageY,this.lastTimestamp=t.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(t.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&t&&t.target&&t.target.getAttribute&&"ignore"==t.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(s&&t.target&&void 0!=t.target.tagName){var n=t.target.tagName.toLowerCase();-1!==e.indexOf(n)&&("select"!=n&&$.trigger(this,"pre-enter-edit",[t.target]),this.requiresNativeTap=!0)}else t.target&&void 0!==t.target.tagName&&"input"==t.target.tagName.toLowerCase()&&"range"==t.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&t.preventDefault()},demandVerticalScroll:function(){var e=0>=this.scrollingEl_.scrollTop;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=t>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth?!0:void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var i=t.overflowY;return"scroll"==i?!0:"auto"==i&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var i=t.overflowX;return"scroll"==i?!0:"auto"==i&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(e,t){if(o&&this.panElementId==e.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(e))return;var i=window.getComputedStyle(e);if(this.allowsVerticalScroll(e,i))return this.isScrollingVertical_=!0,this.scrollingEl_=e,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(e,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var n=e==t;!n&&e.parentNode&&this.checkDOMTree(e.parentNode,t)},scrollEnded:function(e){e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(e){var t=this.moved;return this.moved=!0,n&&(this.cY=e.touches[0].pageY-this.dY,this.cX=e.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(t||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-e.touches[0].pageY)/(e.timeStamp-this.lastTimestamp),this.lastY=e.touches[0].pageY,this.lastX=e.touches[0].pageX,this.lastTimestamp=e.timeStamp),$.os.blackberry10||this.requiresNativeTap?(e.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||e.preventDefault(),void 0))},onTouchEnd:function(e){if($.os.ios){if(a==e.changedTouches[0].identifier)return e.preventDefault(),!1;a=e.changedTouches[0].identifier}var t=this.moved;if(n&&(t=t&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&t)this.wasPanning_=!0;else if(t||this.requiresNativeTap)t&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[e.target])));else if(e.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=e.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,e.mouseToTouch,e.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1
},fireEvent:function(e,t,i,n,s,o){var r=document.createEvent(e);r.initEvent(t,n,!0),r.target=i,o&&$.each(o,function(e,t){r[e]=t}),s&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(e){function t(e){return"tagName"in e?e:e.parentNode}function i(e,t,i,n){var s=Math.abs(e-t),o=Math.abs(i-n);return s>=o?e-t>0?"Left":"Right":i-n>0?"Up":"Down"}function n(){r.last&&Date.now()-r.last>=l&&(r.element.trigger("longTap"),r={})}var s,o,r={},l=750;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.element=e(t(i.touches[0].target)),s&&clearTimeout(s),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(n,l),r.element.data("ignore-pressed")||r.element.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.element)}}).bind("touchmove",function(e){r.x2=e.touches[0].pageX,r.y2=e.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.element&&(r.element.data("ignore-pressed")||r.element.removeClass("selected"),r.isDoubleTap?(r.element.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.element.trigger("swipe")&&r.element.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.element.trigger("tap"),s=setTimeout(function(){s=null,r.element&&r.element.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.element&&!r.element.data("ignore-pressed")&&r.element.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){e(document).ready(function(){e.os.supportsTouch&&e.touch_layer(document.getElementById("ui_kit"))}),"complete"===document.readyState||"loaded"===document.readyState?e.ui.autoBoot():document.addEventListener("DOMContentLoaded",function(){e.ui.autoBoot(),this.removeEventListener("DOMContentLoaded",arguments.callee)},!1)}(jq),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var n=this;i?(t.style.zIndex=1,e.style.zIndex=2,n.clearAnimations(t),n.css3animate(e,{x:"0%",time:"150ms",opacity:.1,complete:function(i){return i?(n.finishTransition(e,t),void 0):(n.css3animate(e,{x:"-100%",opacity:1,complete:function(){n.finishTransition(e)}}),t.style.zIndex=2,e.style.zIndex=1,void 0)}})):(e.style.zIndex=1,t.style.zIndex=2,t.style.opacity=0,n.css3animate(t,{x:"0%",opacity:.1,complete:function(){n.css3animate(t,{x:"0%",time:"150ms",opacity:1,complete:function(i){return i?(n.finishTransition(e,t),void 0):(n.clearAnimations(t),n.css3animate(e,{x:"-100%",y:0,complete:function(){n.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.fade=t}($.ui),function(){var e=!1;$(document).ready(function(){if(window.google&&google.maps)return $(document).trigger("gmaps:available"),e=!0,!0;var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyC-weGLF_U2fkiHZ4vwT_sL7KXsXqaxrl0&sensor=true&callback=gmapsPluginLoaded",$("head").append(t),window.gmapsPluginLoaded=function(){$(document).trigger("gmaps:available"),e=!0}});var t={};$.fn.gmaps=function(e){if(console.log("im here"),0==this.length)return console.log("error"),void 0;if(!e)return console.log("section 2"),t[this[0].id];if("resize"==e&&t[this[0].id])return console.log("section 3"),google.maps.event.trigger(t[this[0].id],"resize");for(var n=0;this.length>n;n++)console.log("section 4"),new i(this[n],e)};var i=function(i,n){var s=function(){console.log("creating a map"),n&&0!=Object.keys(n).length||(console.log("setting default options"),n={zoom:8,center:new google.maps.LatLng(40.010787,-76.278076),mapTypeId:google.maps.MapTypeId.ROADMAP}),t[i.id]=new google.maps.Map(i,n),google.maps.event.trigger(t[i.id],"resize")};e?(console.log("making a gmap"),s()):$(document).one("gmaps:available",function(){console.log("doing something?"),s()})}}(jq),function(e){var t=document.location.protocol+"//"+document.location.host;location.href,"state"in window.history,e.mvc={},e.mvc.first_pop=!0,e.mvc.app=function(){e.mvc._app=this},e.mvc.app.prototype={_loadTimer:null,_modelsReady:!1,_controllersReady:!1,_loadedListeners:[],_modelsLoaded:0,_totalModels:0,_controllersDir:"controllers/",_modelsDir:"models/",_templateType:"text/x-dot-template",_hasModels:!0,_useHistory:!1,_html5Pop:function(t){return e.mvc.first_pop?(e.mvc.first_pop=!1,void 0):(e.mvc.route(document.location.href,t,!0),void 0)},useHTML5History:function(e){e===!0?(this._useHistory=!0,window.addEventListener("popstate",this._html5Pop)):(this._useHistory=!1,window.removeEventListener("popstate",this._html5Pop))},listenHashChange:function(){window.addEventListener("hashchange",function(t){var i=document.location.hash.replace("#","/");e.mvc.route(i,t,!0)})},ready:function(t){this.loaded?t():e(document).one("jqmvc:loaded",t)},loadControllers:function(t){var i,n=this;e(document).ready(function(){var s;for("string"==typeof t&&(t=[t]),i=0;t.length>i;i++)s=document.createElement("script"),s.src=n._controllersDir+t[i]+".js",s.onerror=function(e){console.log("error ",e)},e("head").append(s),n._loadedListeners[t[i]]=1,n._loadedListeners.length++,e(document).one(t[i]+":ready",function(t){delete n._loadedListeners[t.data.name],n._loadedListeners.length--,0===n._loadedListeners.length&&(n._controllersReady=!0,n._modelsReady||!n._hasModels?e(document).trigger("jqmvc:loaded"):n._loadTimer=setTimeout(function(){n._modelsReady=!0,n._controllersReady&&e(document).trigger("jqmvc:loaded")},1500))}),s=null})},loadModels:function(t){var i,n=this;clearTimeout(this._loadTimer),e(document).ready(function(){var s;for("string"==typeof t&&(t=[t]),n._totalModels=t.length,i=0;t.length>i;i++)s=document.createElement("script"),s.src=n._modelsDir+t[i]+".js",s.onload=function(){n._modelsLoaded++,n._modelsLoaded>=n._totalModels&&(n._modelsReady=!0,n._controllersReady&&e(document).trigger("jqmvc:loaded"))},s.onerror=function(e){console.log("error ",e)},e("head").append(s),s=null})}},e.mvc.route=function(i,n,s){if("string"!=typeof i&&i.nodeName&&"a"===i.nodeName.toLowerCase()&&(i=i.href),"string"!=typeof i)throw console.log(i),"Invalid route parameter.  String or <a> expected";var o,r,l=i;return 0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),i=i.split("/"),i.length>1?(o=i.splice(0,1),r=i.splice(0,1)):(o=i[0],r="default"),e.mvc.controller[o]&&e.mvc.controller[o].hasOwnProperty(r)?(n&&n.preventDefault(),e.mvc.controller[o][r].apply(e.mvc.controller[o],i),e.mvc._app._useHistory&&s!==!0&&(e.ui.history.push(l),window.history.pushState(l,l,l)),!0):!1},e.mvc.addRoute=function(i,n){var s,o;0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),i=i.split("/"),i.length>1?(s=i.splice(0,1),o=i.splice(0,1)):(s=i[0],o="default"),e.mvc.controller[s]||(e.mvc.controller[s]={}),e.mvc.controller[s][o]=n},e.ui?e.ui.custom_click_handler=e.mvc.route:e(document).on("click","a",function(t){e.mvc.route(t.target,t)})}(jq),function($){function encodeHTMLSource(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(i){return i?(""+i).replace(t,function(t){return e[t]||t}):i}}function resolveDefs(c,block,def){return("string"==typeof block?block:""+block).replace(c.define||skip,function(m,code,assign,value){return 0===code.indexOf("def.")&&(code=code.substring(4)),code in def||(":"===assign?def[code]=value:eval("def['"+code+"'] ="+value)),""}).replace(c.use||skip,function(m,code){var v=eval(code);return v?resolveDefs(c,v,def):v})}function unescape(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var doT={version:"0.2.0",templateSettings:{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0},global=function(){return this||(0,eval)("this")}();"undefined"!=typeof module&&module.exports?module.exports=doT:"function"==typeof define&&define.amd?define(function(){return doT}):global.doT=doT,global.encodeHTML=encodeHTMLSource();var startend={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},skip=/$^/;doT.template=function(e,t,i){t=t||doT.templateSettings;var n,s,o,r=t.append?startend.append:startend.split,l=0;if(t.use||t.define){var a=global.def;global.def=i||{},n=resolveDefs(t,e,global.def),global.def=a}else n=e;n=("var out='"+(t.strip?n.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):n).replace(/'|\\/g,"\\$&").replace(t.interpolate||skip,function(e,t){return r.start+unescape(t)+r.end}).replace(t.encode||skip,function(e,t){return s=!0,r.startencode+unescape(t)+r.end}).replace(t.conditional||skip,function(e,t,i){return t?i?"';}else if ("+unescape(i)+"){out+='":"';}else{out+='":i?"';if ("+unescape(i)+"){out+='":"';}out+='"}).replace(t.iterate||skip,function(e,t,i,n){return t?(l+=1,o=n||"i"+l,t=unescape(t),"';var arr"+l+"="+t+";if (arr"+l+"){var "+i+","+o+"=-1,l"+l+"=arr"+l+".length-1;while("+o+"<l"+l+"){"+i+"=arr"+l+"["+o+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||skip,function(e,t){return"';"+unescape(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|}|^|{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|}|^|{)out\+=''\+/g,"$1out+="),s&&t.selfcontained&&(n="var encodeHTML=("+(""+encodeHTMLSource)+"());"+n);try{return Function(t.varname,n)}catch(c){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+n),c}},doT.compile=function(e,t){return doT.template(e,null,t)};var cache={};$.template=function(e,t,i){var n=cache[e]=cache[e]||doT.template(document.getElementById(e).text,void 0,i);return n(t)},$.tmpl=function(e,t,i){return $(template(e,t,i))}}(jq),function(e){e.mvc.model=function(t,i){var n={};return i&&i.modelName&&delete i.modelName,i&&i.id&&delete i.id,e.extend(n,i),n.modelName=t,n},e.mvc.model.clone=function(e,t,i){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return i&&(e.__proto__=t.__proto__),e},e.mvc.model.prototype={_prepareModel:function(t){var i=this,n=e.mvc.model.clone({},i,!0);return n=e.mvc.model.clone(n,t)}},e.mvc.model.Extend=function(t,i){return function(){return new e.mvc.model(t,i)}}}(jq),function(e){var t=[],i={},n={},s={},o={},r={};e.mvc.controller={},e.mvc.controller.create=function(l,a){var c,h,d=!0;if(e.mvc.controller[l]=a,i[l]=0,s[l]=0,o[l]=0,n[l]=0,a.hasOwnProperty("init")&&(r[l]=a),a.hasOwnProperty("views")&&(a.views.length>0||a.keys(a.views).length)>0){d=!1,i[l]=a.views.length||a.keys(a.views).length;for(c in a.views)h=e.isArray(a.views)?a.views[c]:c,t[h]||0!==jq("#"+h).length||(e.mvc.controller.addView(a.views[c],l,h),t[h]=1)}return d&&(e(document).trigger(l+":ready",{name:l}),r[l]&&r[l].init.apply(r[l])),e.mvc.controller[l]},e.mvc.controller.addView=function(t,n,o){e.get(t,function(t){e(document.body).append(e("<script type='"+e.mvc._app._templateType+"' id='"+o+"'>"+t+"</script>")),s[n]++,s[n]===i[n]&&(e(document).trigger(n+":ready",{name:n}),r[n]&&r[n].init.apply(r[n]))})}}(jq);