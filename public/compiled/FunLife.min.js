/* FunLife */
function encodeHTMLSource(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(t,function(t){return e[t]||t}):this}}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,s,n,o,r,l,a="",c=0;for(e=Base64._utf8_encode(e);e.length>c;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),s=e.charCodeAt(c++),n=t>>2,o=(3&t)<<4|i>>4,r=(15&i)<<2|s>>6,l=63&s,isNaN(i)?r=l=64:isNaN(s)&&(l=64),a=a+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(l);return a},decode:function(e){var t,i,s,n,o,r,l,a="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");e.length>c;)n=this._keyStr.indexOf(e.charAt(c++)),o=this._keyStr.indexOf(e.charAt(c++)),r=this._keyStr.indexOf(e.charAt(c++)),l=this._keyStr.indexOf(e.charAt(c++)),t=n<<2|o>>4,i=(15&o)<<4|r>>2,s=(3&r)<<6|l,a+=String.fromCharCode(t),64!=r&&(a+=String.fromCharCode(i)),64!=l&&(a+=String.fromCharCode(s));return a=Base64._utf8_decode(a)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;e.length>i;i++){var s=e.charCodeAt(i);128>s?t+=String.fromCharCode(s):s>127&&2048>s?(t+=String.fromCharCode(192|s>>6),t+=String.fromCharCode(128|63&s)):(t+=String.fromCharCode(224|s>>12),t+=String.fromCharCode(128|63&s>>6),t+=String.fromCharCode(128|63&s))}return t},_utf8_decode:function(e){for(var t="",i=0,s=c1=c2=0;e.length>i;)s=e.charCodeAt(i),128>s?(t+=String.fromCharCode(s),i++):s>191&&224>s?(c2=e.charCodeAt(i+1),t+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return t}};if(!window.jq||"function"!=typeof jq){var jq=function(e){function t(e,t,i){var s=x.createDocumentFragment();if(i){for(var n=e.length-1;n>=0;n--)s.insertBefore(e[n],s.firstChild);t.insertBefore(s,t.firstChild)}else{for(var n=0;e.length>n;n++)s.appendChild(e[n]);t.appendChild(s)}s=null}function i(e){return e in T?T[e]:T[e]=RegExp("(^|\\s)"+e+"(\\s|$)")}function s(e){for(var t=0;e.length>t;t++)e.indexOf(e[t])!=t&&(e.splice(t,1),t--);return e}function n(e,t){var i=[];if(e==_)return i;for(;e;e=e.nextSibling)1==e.nodeType&&e!==t&&i.push(e);return i}function o(e,t){try{return t.querySelectorAll(e)}catch(i){return[]}}function r(e,t){if(e=e.trim(),"#"===e[0]&&-1==e.indexOf(".")&&-1===e.indexOf(" ")&&-1===e.indexOf(">"))t==x?l(t.getElementById(e.replace("#","")),this):l(o(e,t),this);else if("<"===e[0]&&">"===e[e.length-1]){var i=x.createElement("div");i.innerHTML=e.trim(),l(i.childNodes,this)}else l(o(e,t),this);return this}function l(e,t){if(e){if(e.nodeType)return t[t.length++]=e;for(var i=0,s=e.length;s>i;i++)t[t.length++]=e[i]}}function a(){}function c(t,i){t.os={},t.os.webkit=i.match(/WebKit\/([\d.]+)/)?!0:!1,t.os.android=i.match(/(Android)\s+([\d.]+)/)||i.match(/Silk-Accelerated/)?!0:!1,t.os.androidICS=t.os.android&&i.match(/(Android)\s4/)?!0:!1,t.os.ipad=i.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,t.os.iphone=!t.os.ipad&&i.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,t.os.webos=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,t.os.touchpad=t.os.webos&&i.match(/TouchPad/)?!0:!1,t.os.ios=t.os.ipad||t.os.iphone,t.os.playbook=i.match(/PlayBook/)?!0:!1,t.os.blackberry=t.os.playbook||i.match(/BlackBerry/)?!0:!1,t.os.blackberry10=t.os.blackberry&&i.match(/Safari\/536/)?!0:!1,t.os.chrome=i.match(/Chrome/)?!0:!1,t.os.opera=i.match(/Opera/)?!0:!1,t.os.fennec=i.match(/fennec/i)?!0:i.match(/Firefox/)?!0:!1,t.os.ie=i.match(/MSIE 10.0/i)?!0:!1,t.os.ieTouch=t.os.ie&&i.toLowerCase().match(/touch/i)?!0:!1,t.os.supportsTouch=e.DocumentTouch&&x instanceof e.DocumentTouch||"ontouchstart"in e,t.feat={};var s=x.documentElement.getElementsByTagName("head")[0];t.feat.nativeTouchScroll=s.style["-webkit-overflow-scrolling"]!==_||t.os.chrome,t.feat.cssPrefix=t.os.webkit?"Webkit":t.os.fennec?"Moz":t.os.ie?"ms":t.os.opera?"O":"",t.feat.cssTransformStart=t.os.opera?"(":"3d(",t.feat.cssTransformEnd=t.os.opera?")":",0)",t.os.android&&!t.os.webkit&&(t.os.android=!1)}function h(e){return e._jqmid||(e._jqmid=A++)}function d(e,t,i,s){if(t=u(t),t.ns)var n=f(t.ns);return(M[h(e)]||[]).filter(function(e){return!(!e||t.e&&e.e!=t.e||t.ns&&!n.test(e.ns)||i&&e.fn!=i&&("function"!=typeof e.fn||"function"!=typeof i||""+e.fn!=""+i)||s&&e.selector!=s)})}function u(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function f(e){return RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function p(e,t,i){P.isObject(e)?P.each(e,i):e.split(/\s/).forEach(function(e){i(e,t)})}function m(e,t,i,s,n){var o=h(e),r=M[o]||(M[o]=[]);p(t,i,function(t,i){var o=n&&n(i,t),l=o||i,a=function(t){var i=l.apply(e,[t].concat(t.data));return i===!1&&t.preventDefault(),i},c=P.extend(u(t),{fn:i,proxy:a,selector:s,del:o,i:r.length});r.push(c),e.addEventListener(c.e,a,!1)})}function g(e,t,i,s){var n=h(e);p(t||"",i,function(t,i){d(e,t,i,s).forEach(function(t){delete M[n][t.i],e.removeEventListener(t.e,t.proxy,!1)})})}function v(e){var t=P.extend({originalEvent:e},e);return P.each(q,function(i,s){t[i]=function(){return this[s]=O,"stopImmediatePropagation"!=i&&"stopPropagation"!=i||(e.cancelBubble=!0,e[i])?e[i].apply(e,arguments):_},t[s]=L}),t}function b(e,t){if(t&&e.dispatchEvent){var i=P.Event("destroy",{bubbles:!1});e.dispatchEvent(i)}var s=h(e);if(s&&M[s]){for(var n in M[s])e.removeEventListener(M[s][n].e,M[s][n].proxy,!1);delete M[s]}}function y(e,t){if(e){var i=e.childNodes;if(i&&i.length>0)for(var s in i)y(i[s],t);b(e,t)}}var _,x=e.document,w=[],S=w.slice,T={},C=1,k=/^\s*<(\w+)[^>]*>/,E={},I={},j=function(e,t){if(this.length=0,!e)return this;if(e instanceof j&&t==_)return e;if(P.isFunction(e))return P(x).ready(e);if(P.isArray(e)&&e.length!=_){for(var i=0;e.length>i;i++)this[this.length++]=e[i];return this}if(P.isObject(e)&&P.isObject(t)){if(e.length==_)e.parentNode==t&&(this[this.length++]=e);else for(var i=0;e.length>i;i++)e[i].parentNode==t&&(this[this.length++]=e[i]);return this}if(P.isObject(e)&&t==_)return this[this.length++]=e,this;if(t!==_){if(t instanceof j)return t.find(e)}else t=x;return this.selector(e,t)},P=function(e,t){return new j(e,t)};P.is$=function(e){return e instanceof j},P.map=function(e,t){var i,s,n,o=[];if(P.isArray(e))for(s=0;e.length>s;s++)i=t(e[s],s),i!==_&&o.push(i);else if(P.isObject(e))for(n in e)e.hasOwnProperty(n)&&(i=t(e[n],n),i!==_&&o.push(i));return P([o])},P.each=function(e,t){var i,s;if(P.isArray(e)){for(i=0;e.length>i;i++)if(t(i,e[i])===!1)return e}else if(P.isObject(e))for(s in e)if(e.hasOwnProperty(s)&&t(s,e[s])===!1)return e;return e},P.extend=function(e){if(e==_&&(e=this),1===arguments.length){for(var t in e)this[t]=e[t];return this}return S.call(arguments,1).forEach(function(t){for(var i in t)e[i]=t[i]}),e},P.isArray=function(e){return e instanceof Array&&e.push!=_},P.isFunction=function(e){return"function"==typeof e},P.isObject=function(e){return"object"==typeof e},P.fn=j.prototype={constructor:j,forEach:w.forEach,reduce:w.reduce,push:w.push,indexOf:w.indexOf,concat:w.concat,selector:r,oldElement:_,slice:w.slice,setupOld:function(e){return e==_?P():(e.oldElement=this,e)},map:function(e){var t,i,s=[];for(i=0;this.length>i;i++)t=e(i,this[i]),t!==_&&s.push(t);return P([s])},each:function(e){return this.forEach(function(t,i){e.call(t,i,t)}),this},ready:function(e){return"complete"===x.readyState||"loaded"===x.readyState||!P.os.ie&&"interactive"===x.readyState?e():x.addEventListener("DOMContentLoaded",e,!1),this},find:function(e){if(0===this.length)return this;for(var t,i=[],n=0;this.length>n;n++){t=P(e,this[n]);for(var o=0;t.length>o;o++)i.push(t[o])}return P(s(i))},html:function(e,t){if(0===this.length)return this;if(e===_)return this[0].innerHTML;for(var i=0;this.length>i;i++)t!==!1&&P.cleanUpContent(this[i],!1,!0),this[i].innerHTML=e;return this},text:function(e){if(0===this.length)return this;if(e===_)return this[0].textContent;for(var t=0;this.length>t;t++)this[t].textContent=e;return this},css:function(t,i,s){var n=s!=_?s:this[0];if(0===this.length)return this;if(i==_&&"string"==typeof t)return e.getComputedStyle(n),n.style[t]?n.style[t]:e.getComputedStyle(n)[t];for(var o=0;this.length>o;o++)if(P.isObject(t))for(var r in t)this[o].style[r]=t[r];else this[o].style[t]=i;return this},vendorCss:function(e,t,i){return this.css(P.feat.cssPrefix+e,t,i)},empty:function(){for(var e=0;this.length>e;e++)P.cleanUpContent(this[e],!1,!0),this[e].innerHTML="";return this},hide:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"!=this.css("display",null,this[e])&&(this[e].setAttribute("jqmOldStyle",this.css("display",null,this[e])),this[e].style.display="none");return this},show:function(){if(0===this.length)return this;for(var e=0;this.length>e;e++)"none"==this.css("display",null,this[e])&&(this[e].style.display=this[e].getAttribute("jqmOldStyle")?this[e].getAttribute("jqmOldStyle"):"block",this[e].removeAttribute("jqmOldStyle"));return this},toggle:function(t){for(var i=t===!0?!0:!1,s=0;this.length>s;s++)"none"!==e.getComputedStyle(this[s]).display||t!==_&&i===!1?(this[s].setAttribute("jqmOldStyle",this[s].style.display),this[s].style.display="none"):(this[s].style.display=this[s].getAttribute("jqmOldStyle")!=_?this[s].getAttribute("jqmOldStyle"):"block",this[s].removeAttribute("jqmOldStyle"));return this},val:function(e){if(0===this.length)return e===_?_:this;if(e==_)return this[0].value;for(var t=0;this.length>t;t++)this[t].value=e;return this},attr:function(e,t){if(0===this.length)return t===_?_:this;if(t===_&&!P.isObject(e)){var i=this[0].jqmCacheId&&E[this[0].jqmCacheId][e]?this[0].jqmCacheId&&E[this[0].jqmCacheId][e]:this[0].getAttribute(e);return i}for(var s=0;this.length>s;s++)if(P.isObject(e))for(var n in e)P(this[s]).attr(n,e[n]);else P.isArray(t)||P.isObject(t)||P.isFunction(t)?(this[s].jqmCacheId||(this[s].jqmCacheId=P.uuid()),E[this[s].jqmCacheId]||(E[this[s].jqmCacheId]={}),E[this[s].jqmCacheId][e]=t):null==t&&t!==_?(this[s].removeAttribute(e),this[s].jqmCacheId&&E[this[s].jqmCacheId][e]&&delete E[this[s].jqmCacheId][e]):this[s].setAttribute(e,t);return this},removeAttr:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(s){t[i].removeAttribute(s),t[i].jqmCacheId&&E[t[i].jqmCacheId][e]&&delete E[t[i].jqmCacheId][e]});return this},prop:function(e,t){if(0===this.length)return t===_?_:this;if(t===_&&!P.isObject(e)){var i,s=this[0].jqmCacheId&&I[this[0].jqmCacheId][e]?this[0].jqmCacheId&&I[this[0].jqmCacheId][e]:!(i=this[0][e])&&e in this[0]?this[0][e]:i;return s}for(var n=0;this.length>n;n++)if(P.isObject(e))for(var o in e)P(this[n]).prop(o,e[o]);else P.isArray(t)||P.isObject(t)||P.isFunction(t)?(this[n].jqmCacheId||(this[n].jqmCacheId=P.uuid()),I[this[n].jqmCacheId]||(I[this[n].jqmCacheId]={}),I[this[n].jqmCacheId][e]=t):null==t&&t!==_?P(this[n]).removeProp(e):this[n][e]=t;return this},removeProp:function(e){for(var t=this,i=0;this.length>i;i++)e.split(/\s+/g).forEach(function(s){t[i][s]&&delete t[i][s],t[i].jqmCacheId&&I[t[i].jqmCacheId][e]&&delete I[t[i].jqmCacheId][e]});return this},remove:function(e){var t=P(this).filter(e);if(t==_)return this;for(var i=0;t.length>i;i++)P.cleanUpContent(t[i],!0,!0),t[i].parentNode.removeChild(t[i]);return this},addClass:function(e){for(var t=0;this.length>t;t++){var i=this[t].className,s=[],n=this;e.split(/\s+/g).forEach(function(e){n.hasClass(e,n[t])||s.push(e)}),this[t].className+=(i?" ":"")+s.join(" "),this[t].className=this[t].className.trim()}return this},removeClass:function(e){for(var t=0;this.length>t;t++){if(e==_)return this[t].className="",this;var s=this[t].className;e.split(/\s+/g).forEach(function(e){s=s.replace(i(e)," ")}),this[t].className=s.length>0?s.trim():""}return this},replaceClass:function(e,t){for(var s=0;this.length>s;s++)if(e!=_){var n=this[s].className;e.split(/\s+/g).concat(t.split(/\s+/g)).forEach(function(e){n=n.replace(i(e)," ")}),n=n.trim(),this[s].className=n.length>0?(n+" "+t).trim():t}else this[s].className=t;return this},hasClass:function(e,t){return 0===this.length?!1:(t||(t=this[0]),i(e).test(t.className))},append:function(i,s){if(i&&i.length!=_&&0===i.length)return this;(P.isArray(i)||P.isObject(i))&&(i=P(i));var n;for(n=0;this.length>n;n++)if(i.length&&"string"!=typeof i)i=P(i),t(i,this[n],s);else{var o=k.test(i)?P(i):_;(o==_||0==o.length)&&(o=x.createTextNode(i)),o.nodeName==_||"script"!=o.nodeName.toLowerCase()||o.type&&"text/javascript"!==o.type.toLowerCase()?o instanceof j?t(o,this[n],s):s!=_?this[n].insertBefore(o,this[n].firstChild):this[n].appendChild(o):e.eval(o.innerHTML)}return this},appendTo:function(e){var t=P(e);return t.append(this),this},prependTo:function(e){var t=P(e);return t.append(this,!0),this},prepend:function(e){return this.append(e,1)},insertBefore:function(e,t){if(0==this.length)return this;if(e=P(e).get(0),!e)return this;for(var i=0;this.length>i;i++)t?e.parentNode.insertBefore(this[i],e.nextSibling):e.parentNode.insertBefore(this[i],e);return this},insertAfter:function(e){this.insertBefore(e,!0)},get:function(e){return e=e==_?0:e,0>e&&(e+=this.length),this[e]?this[e]:_},offset:function(){if(0===this.length)return this;if(this[0]==e)return{left:0,top:0,right:0,bottom:0,width:e.innerWidth,height:e.innerHeight};var t=this[0].getBoundingClientRect();return{left:t.left+e.pageXOffset,top:t.top+e.pageYOffset,right:t.right+e.pageXOffset,bottom:t.bottom+e.pageYOffset,width:t.right-t.left,height:t.bottom-t.top}},height:function(t){if(0===this.length)return this;if(t!=_)return this.css("height",t);if(this[0]==this[0].window)return e.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var i=this.css("height").replace("px","");return i?i:this.offset().height},width:function(t){if(0===this.length)return this;if(t!=_)return this.css("width",t);if(this[0]==this[0].window)return e.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var i=this.css("width").replace("px","");return i?i:this.offset().width},parent:function(e,t){if(0==this.length)return this;for(var i=[],n=0;this.length>n;n++)for(var o=this[n];o.parentNode&&o.parentNode!=x&&(i.push(o.parentNode),o.parentNode&&(o=o.parentNode),t););return this.setupOld(P(s(i)).filter(e))},parents:function(e){return this.parent(e,!0)},children:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t=t.concat(n(this[i].firstChild));return this.setupOld(P(t).filter(e))},siblings:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++)this[i].parentNode&&(t=t.concat(n(this[i].parentNode.firstChild,this[i])));return this.setupOld(P(t).filter(e))},closest:function(e,t){if(0==this.length)return this;var i=this[0],s=P(e,t);if(0==s.length)return P();for(;i&&-1==s.indexOf(i);)i=i!==t&&i!==x&&i.parentNode;return P(i)},filter:function(e){if(0==this.length)return this;if(e==_)return this;for(var t=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&P(e,n.parentNode).indexOf(n)>=0&&t.push(n)}return this.setupOld(P(s(t)))},not:function(e){if(0==this.length)return this;for(var t=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&-1==P(e,n.parentNode).indexOf(n)&&t.push(n)}return this.setupOld(P(s(t)))},data:function(e,t){return this.attr("data-"+e,t)},end:function(){return this.oldElement!=_?this.oldElement:P()},clone:function(e){if(e=e===!1?!1:!0,0==this.length)return this;for(var t=[],i=0;this.length>i;i++)t.push(this[i].cloneNode(e));return P(t)},size:function(){return this.length},serialize:function(){if(0==this.length)return"";for(var e=[],t=0;this.length>t;t++)this.slice.call(this[t].elements).forEach(function(t){var i=t.getAttribute("type");if("fieldset"!=t.nodeName.toLowerCase()&&!t.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||t.checked)&&t.getAttribute("name"))if("select-multiple"==t.type)for(var s=0;t.options.length>s;s++)t.options[s].selected&&e.push(t.getAttribute("name")+"="+encodeURIComponent(t.options[s].value));else e.push(t.getAttribute("name")+"="+encodeURIComponent(t.value))});return e.join("&")},eq:function(e){return P(this.get(e))},index:function(e){return e?this.indexOf(P(e)[0]):this.parent().children().indexOf(this[0])},is:function(e){return!!e&&this.filter(e).length>0}};var B={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:_,timeout:0,crossDomain:null};P.jsonP=function(t){var i,s="jsonp_callback"+ ++C,n="",o=x.createElement("script");return e[s]=function(r){clearTimeout(n),P(o).remove(),delete e[s],t.success.call(i,r)},o.src=t.url.replace(/=\?/,"="+s),t.error&&(o.onerror=function(){clearTimeout(n),t.error.call(i,"","error")}),P("head").append(o),t.timeout>0&&(n=setTimeout(function(){t.error.call(i,"","timeout")},t.timeout)),{}},P.ajax=function(t){var i;try{var s=t||{};for(var n in B)s[n]===_&&(s[n]=B[n]);if(s.url||(s.url=e.location),s.contentType||(s.contentType="application/x-www-form-urlencoded"),s.headers||(s.headers={}),"async"in s&&s.async===!1||(s.async=!0),s.dataType)switch(s.dataType){case"script":s.dataType="text/javascript, application/javascript";break;case"json":s.dataType="application/json";break;case"xml":s.dataType="application/xml, text/xml";break;case"html":s.dataType="text/html";break;case"text":s.dataType="text/plain";break;default:s.dataType="text/html";break;case"jsonp":return P.jsonP(t)}else s.dataType="text/html";if(P.isObject(s.data)&&(s.data=P.param(s.data)),"get"===s.type.toLowerCase()&&s.data&&(s.url+=-1===s.url.indexOf("?")?"?"+s.data:"&"+s.data),/=\?/.test(s.url))return P.jsonP(s);null===s.crossDomain&&(s.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(s.url)&&RegExp.$2!=e.location.host),s.crossDomain||(s.headers=P.extend({"X-Requested-With":"XMLHttpRequest"},s.headers));var o,r=s.context,l=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:e.location.protocol;i=new e.XMLHttpRequest,i.onreadystatechange=function(){var e=s.dataType;if(4===i.readyState){clearTimeout(o);var t,n=!1;if(i.status>=200&&300>i.status||0===i.status&&"file:"==l){if("application/json"!==e||/^\s*$/.test(i.responseText))"application/xml, text/xml"===e?t=i.responseXML:"text/html"==e?(t=i.responseText,P.parseJS(t)):t=i.responseText;else try{t=JSON.parse(i.responseText)}catch(a){n=a}0===i.status&&0===t.length&&(n=!0),n?s.error.call(r,i,"parsererror",n):s.success.call(r,t,"success",i)}else n=!0,s.error.call(r,i,"error");s.complete.call(r,i,n?"error":"success")}},i.open(s.type,s.url,s.async),s.withCredentials&&(i.withCredentials=!0),s.contentType&&(s.headers["Content-Type"]=s.contentType);for(var c in s.headers)i.setRequestHeader(c,s.headers[c]);if(s.beforeSend.call(r,i,s)===!1)return i.abort(),!1;s.timeout>0&&(o=setTimeout(function(){i.onreadystatechange=a,i.abort(),s.error.call(r,i,"timeout")},s.timeout)),i.send(s.data)}catch(h){console.log(h),s.error.call(r,i,"error",h)}return i},P.get=function(e,t){return this.ajax({url:e,success:t})},P.post=function(e,t,i,s){return"function"==typeof t&&(i=t,t={}),s===_&&(s="html"),this.ajax({url:e,type:"POST",data:t,dataType:s,success:i})},P.getJSON=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this.ajax({url:e,data:t,success:i,dataType:"json"})},P.param=function(e,t){var i=[];if(e instanceof j)e.each(function(){var e=t?t+"[]":this.id,s=this.value;i.push(e+"="+encodeURIComponent(s))});else for(var s in e){var n=t?t+"["+s+"]":s,o=e[s];i.push(P.isObject(o)?P.param(o,n):n+"="+encodeURIComponent(o))}return i.join("&")},P.parseJSON=function(e){return JSON.parse(e)},P.parseXML=function(e){return(new DOMParser).parseFromString(e,"text/xml")},c(P,navigator.userAgent),P.__detectUA=c,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+|\s+$/,""),this}),P.uuid=function(){var e=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},P.getCssMatrix=function(t){if(t==_)return e.WebKitCSSMatrix||e.MSCSSMatrix||{a:0,b:0,c:0,d:0,e:0,f:0};try{if(e.WebKitCSSMatrix)return new WebKitCSSMatrix(e.getComputedStyle(t).webkitTransform);if(e.MSCSSMatrix)return new MSCSSMatrix(e.getComputedStyle(t).transform);var i=e.getComputedStyle(t)[P.feat.cssPrefix+"Transform"].replace(/[^0-9\-.,]/g,"").split(",");return{a:+i[0],b:+i[1],c:+i[2],d:+i[3],e:+i[4],f:+i[5]}}catch(s){return{a:0,b:0,c:0,d:0,e:0,f:0}}};var M={},A=1;P.event={add:m,remove:g},P.fn.bind=function(e,t){for(var i=0;this.length>i;i++)m(this[i],e,t);return this},P.fn.unbind=function(e,t){for(var i=0;this.length>i;i++)g(this[i],e,t);return this},P.fn.one=function(e,t){return this.each(function(i,s){m(this,e,t,null,function(e,t){return function(){var i=e.apply(s,arguments);return g(s,t,e),i}})})};var O=function(){return!0},L=function(){return!1},q={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};P.fn.delegate=function(e,t,i){for(var s=0;this.length>s;s++){var n=this[s];m(n,t,i,e,function(t){return function(i){var s,o=P(i.target).closest(e,n).get(0);return o?(s=P.extend(v(i),{currentTarget:o,liveFired:n}),t.apply(o,[s].concat([].slice.call(arguments,1)))):_}})}return this},P.fn.undelegate=function(e,t,i){for(var s=0;this.length>s;s++)g(this[s],t,i,e);return this},P.fn.on=function(e,t,i){return t===_||P.isFunction(t)?this.bind(e,t):this.delegate(t,e,i)},P.fn.off=function(e,t,i){return t===_||P.isFunction(t)?this.unbind(e,t):this.undelegate(t,e,i)},P.fn.trigger=function(e,t,i){"string"==typeof e&&(e=P.Event(e,i)),e.data=t;for(var s=0;this.length>s;s++)this[s].dispatchEvent(e);return this},P.Event=function(e,t){var i=x.createEvent("Events"),s=!0;if(t)for(var n in t)"bubbles"==n?s=!!t[n]:i[n]=t[n];return i.initEvent(e,s,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},P.bind=function(e,t,i){e.__events||(e.__events={}),P.isArray(t)||(t=[t]);for(var s=0;t.length>s;s++)e.__events[t[s]]||(e.__events[t[s]]=[]),e.__events[t[s]].push(i)},P.trigger=function(e,t,i){var s=!0;if(!e.__events)return s;P.isArray(t)||(t=[t]),P.isArray(i)||(i=[]);for(var n=0;t.length>n;n++)if(e.__events[t[n]])for(var o=e.__events[t[n]],r=0;o.length>r;r++)P.isFunction(o[r])&&o[r].apply(e,i)===!1&&(s=!1);return s},P.unbind=function(e,t,i){if(e.__events){P.isArray(t)||(t=[t]);for(var s=0;t.length>s;s++)if(e.__events[t[s]])for(var n=e.__events[t[s]],o=0;n.length>o;o++)if(i==_&&delete n[o],n[o]==i){n.splice(o,1);break}}},P.proxy=function(e,t,i){return function(){return i?e.apply(t,i):e.apply(t,arguments)}};var N=function(e,t){for(var i=0;e.length>i;i++)y(e[i],t)};P.cleanUpContent=function(e,t,i){if(e){var s=e.childNodes;s&&s.length>0&&P.asap(N,{},[S.apply(s,[0]),i]),t&&b(e,i)}};var H=[],D=[],Y=[];P.asap=function(t,i,s){if(!P.isFunction(t))throw"$.asap - argument is not a valid function";H.push(t),D.push(i?i:{}),Y.push(s?s:[]),e.postMessage("jqm-asap","*")},e.addEventListener("message",function(t){t.source==e&&"jqm-asap"==t.data&&(t.stopPropagation(),H.length>0&&H.shift().apply(D.shift(),Y.shift()))},!0);var F={};return P.parseJS=function(t){if(t){if("string"==typeof t){var i=x.createElement("div");i.innerHTML=t,t=i}var s=t.getElementsByTagName("script");t=null;for(var n=0;s.length>n;n++)if(s[n].src.length>0&&!F[s[n].src]){var o=x.createElement("script");o.type=s[n].type,o.src=s[n].src,x.getElementsByTagName("head")[0].appendChild(o),F[s[n].src]=1,o=null}else e.eval(s[n].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(e){P.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),P}(window);"$"in window||(window.$=jq),window.numOnly||(window.numOnly=function numOnly(e){if(void 0===e||""===e)return 0;if(isNaN(parseFloat(e))){if(!e.replace)return 0;e=e.replace(/[^0-9.-]/,"")}return parseFloat(e)})}(function(e){var t=window.location.hash,i=t,s=function(){this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition};s.prototype={header_id:"#header",footer_id:"#footer",content_id:"#content",panel_id:"#panel",side_menu_id:"#side_menu",left_button_id:"#top_left_button",right_button_id:"#top_right_button",active_footer_button_id:"",active_footer_class:"active_footer_button",title_id:"#title",ui_kit_container_id:"#ui_kit",starting_panel_id:"#starting_panel",default_header_content:"",default_footer_content:"",default_side_menu_content:"",last_click:"",cached_pages:[],pages_created:0,pages_in_dom:0,delete_queue:{},on_unload:null,load_content_queue:[],footer:"",header:"",ui_kit_container:"",left_button:"",history:[],homeDiv:"",screen_width:"",content_string:"",modal_window:"",custom_footer:!1,default_footer:"",default_header:null,custom_menu:!1,default_menu:"",_readyFunc:null,doing_transition:!1,password_box:e.password_box?new e.password_box:!1,select_box:e.select_box?e.select_box:!1,ajax_url:"",transition_effect:"fade",scrolling_divs:[],firstDiv:"",has_launched:!1,launch_completed:!1,active_div:"",custom_click_handler:"",menu_animation:null,side_menu_displayed:!1,show_footer_menu:!0,auto_launch:!0,showBackbutton:!0,left_button_text:"Back",reset_scrollers:!0,load_default_hash:!0,useAjaxCacheBuster:!1,autoBoot:function(){this.auto_launch&&this.launch()},launch:function(){if(!this.has_launched){this.has_launched=!0;var s=this;this.ui_kit_container=e(this.ui_kit_container_id),this.footer=e(this.footer_id).get(0),this.content_string=e(this.content_id).get(0),this.header=e(this.header_id).get(0),this.left_button=e(this.left_button_id).get(0),this.right_button=e(this.right_button_id).get(0),this.menu=e(this.side_menu_id).get(0),this.ui_kit_container[0].addEventListener("click",function(t){console.log("click"),e.ui.checkAnchorClick(t,t.target)},!1),this.os_specific_fixes(),e(document).on("click",".back_button",function(){console.log("back clicked"),s.go_back()});var n=e(this.starting_panel_id)[0],o=n,r=n.previousSibling;if(n.parentNode.removeChild(n),this.addDivAndScroll(o),e(this.starting_panel_id).insertAfter(r),this.firstDiv=e(this.starting_panel_id).get(0),n=null,this.firstDiv){s=this,this.active_div=this.firstDiv,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable();var l=function(){s.default_header=e("#header").children().clone();var n=s.get_panel_id_from_hash(t);n.length>0&&s.load_default_hash&&n!=="#"+s.firstDiv.id&&e(n).length>0?s.load_content(t,!0,!1,"none"):(i="#"+s.firstDiv.id,s.loadContentData(s.firstDiv),s.firstDiv.style.display="block",e("#header #left_button").css("visibility","hidden")),s.launch_completed=!0,e(document).trigger("$.ui.ready")};l()}s=this,e.bind(s,"content-loaded",function(){if(s.load_content_queue.length>0){var e=s.load_content_queue.splice(0,1)[0];s.load_content(e[0],e[1],e[2],e[3],e[4])}}),window.navigator.standalone&&this.blockPageScroll(),this.topClickScroll()}},toggle_visibility:function(t,i){return i===!0?(e(t).show(),void 0):i===!1?(e(t).hide(),void 0):(e(t).toggle(),void 0)},dispose:function(){},set_element:function(t,i){i&&i!==t?(t=e(t),t.html(e(i).html()),t.children().show()):i===t?e(t).children().show():i||e(t).children().hide()},set_active_footer_button:function(t){e(this.current_footer_button_id).removeClass(this.active_footer_class),e(t).addClass(this.active_footer_class),this.current_footer_button_id=t},set_footer:function(t){t?(e(this.footer_id).hide(),this.footer_id=t,e(t).show()):e(this.footer_id).hide()},toggle_footer_menu:function(t){"none"!==e(this.footer_id).css("display")&&(void 0!==t&&t!==!0||void 0===t)?(e("#content").css("bottom","0px"),e(this.footer_id).hide()):(void 0===t||void 0!==t&&t===!0)&&(e(this.footer_id).show(),e("#content").css("bottom",e(this.footer_id).css("height")))},set_header:function(e){e?(this.set_element(this.header_id,e),this.toggle_header_menu(!0)):this.toggle_header_menu(!1)},toggle_header_menu:function(t){"none"!==e("#header").css("display")&&(void 0!==t&&t!==!0||void 0===t)?e("#header").hide():(void 0===t||void 0!==t&&t===!0)&&e(this.header_id).show()},set_left_button:function(e){this.set_element(this.left_button_id,e)},set_right_button:function(e){this.set_element(this.right_button_id,e)},os_specific_fixes:function(){var t=this,i=null;e.bind(e.touch_layer,"enter-edit",function(e){i=e}),e.bind(e.touch_layer,"enter-edit-reshape",function(){var s=e(i),n=s.closest(t.active_div);if(n&&n.size()>0)if(e.os.ios||e.os.chrome){var o,r;o=document.body.scrollTop?document.body.scrollTop-n.offset().top:0,r=n.offset().bottom-s.offset().bottom,t.scrolling_divs[t.active_div.id].setPaddings(o,r)}else if(e.os.android||e.os.blackberry){var l=s.offset(),a=n.offset();l.bottom>a.bottom&&l.height<a.height&&t.scrolling_divs[t.active_div.id].scrollToItem(s,"bottom")}}),e.os.ios&&e.bind(e.touch_layer,"exit-edit-reshape",function(){t.scrolling_divs[t.active_div.id].setPaddings(0,0)})},css3animate:function(t,i){return t=e(t),t.css3Animate(i)},actionsheet:function(t){return e("#ui_kit").actionsheet(t)},popup:function(t){return e("#ui_kit").popup(t)},ready:function(e){this.launch_completed?e():document.addEventListener("$.ui.ready",function(){e(),this.removeEventListener("$.ui.ready",arguments.callee)},!1)},go_back:function(){if(this.history.length>0){this.history.pop();var t=this.history.pop();e.mvc.route(t)}},clear_history:function(){this.history=[]},get_panel_id_from_hash:function(e){var t=e.indexOf("/");return-1===t?e:e.substring(0,t)},update_content_div:function(t,i){t="#"+t.replace("#","");var s=e(t).get(0);if(s){var n=document.createElement("div");n.innerHTML=i,e(n).children(".panel")&&e(n).children(".panel").length>0&&(n=e(n).children(".panel").get()),s.getAttribute("js-scrolling")&&"yes"===s.getAttribute("js-scrolling").toLowerCase()?(e.cleanUpContent(s.childNodes[0],!1,!0),s.childNodes[0].innerHTML=i):(e.cleanUpContent(s,!1,!0),s.innerHTML=i),e(n).title&&(s.title=e(n).title)}},add_content_div:function(t,i,s,n){t="string"!=typeof t?t:-1===t.indexOf("#")?"#"+t:t;var o,r,l=e(t).get(0);return l?o=l:(o=document.createElement("div"),o.innerHTML=i,e(o).children(".panel")&&e(o).children(".panel").length>0&&(o=e(o).children(".panel").get()),!o.title&&s&&(o.title=s),r=o.id?o.id:t.replace("#",""),o.id=r),o.className="panel",r=o.id,this.addDivAndScroll(o,n),l=null,o=null,r},load_content:function(e,t,i,s,n){if(this.doing_transition)this.load_content_queue.push([e,t,i,s,n]);else{if(0===e.length)return;this.loadDiv(e,t,i,s)}},loadDiv:function(t,i,s,n){t=t.replace("#","");var o=t.indexOf("/");-1!==o&&(t=t.substr(0,o));var r=e("#"+t).get(0);if(!r)return console.log("Target panel: "+t+" was not found");this.transition_effect=n;var l=this.active_div;if(l!==r){i&&this.clear_history(),this.doing_transition=!0,l.style.display="block",r.style.display="block",this.runTransition(n,l,r,s),this.loadContentData(r);var a=this;setTimeout(function(){a.scrolling_divs[l.id]&&a.scrolling_divs[l.id].disable()},200)}},loadContentData:function(t){t.title&&e(this.title_id).html(t.title),this.active_div=t,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable(this.reset_scrollers)},runTransition:function(e,t,i,s){this.availableTransitions[e]||(e="default"),this.availableTransitions[e].call(this,t,i,s)},addDivAndScroll:function(t,i){var s,n=!1,o=t.style.overflow,r="hidden"!==o&&"visible"!==o,l=this.content_string;!e.feat.nativeTouchScroll&&r&&t.setAttribute("js-scrolling","yes"),t.getAttribute("js-scrolling")&&"yes"===t.getAttribute("js-scrolling").toLowerCase()&&(n=!0,r=!0),t.getAttribute("scrolling")&&"no"===t.getAttribute("scrolling")&&(r=!1,n=!1,t.removeAttribute("js-scrolling")),n?(s=t.cloneNode(!1),t.title=null,t.id=null,e(t).replaceClass("panel","jqmScrollPanel"),s.appendChild(t),l.appendChild(s),this.select_box!==!1&&this.select_box.getOldSelects(s.id),this.password_box!==!1&&this.password_box.getOldPasswords(s.id)):(l.appendChild(t),s=t,t.style["-webkit-overflow-scrolling"]="none"),r&&(this.scrolling_divs[s.id]=e(t).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"jqmScrollbar",refresh:i,useJsScroll:n,noParent:!n,autoEnable:!1})),t=null,s=null
},scrollToTop:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToTop("300ms")},scrollToBottom:function(e){this.scrolling_divs[e]&&this.scrolling_divs[e].scrollToBottom("300ms")},topClickScroll:function(){document.getElementById("header").addEventListener("click",function(t){15>=t.clientY&&"h1"===t.target.nodeName.toLowerCase()&&e.ui.scrolling_divs[e.ui.active_div.id].scrollToTop("100")})},blockPageScroll:function(){e("#ui_kit #header").bind("touchmove",function(e){e.preventDefault()})},noTransition:function(e,t){t.style.display="block",e.style.display="block";var i=this;i.clearAnimations(t),i.css3animate(e,{x:"0%",y:0}),i.finishTransition(e),t.style.zIndex=2,e.style.zIndex=1},finishTransition:function(t,i){t.style.display="none",this.doing_transition=!1,i&&this.clearAnimations(i),t&&this.clearAnimations(t),e.trigger(this,"content-loaded")},clearAnimations:function(t){t.style[e.feat.cssPrefix+"Transform"]="none",t.style[e.feat.cssPrefix+"Transition"]="none"}},e.ui=new s})(jq),function(e){e.ui.checkAnchorClick=function(t,i){return i!==e.ui.ui_kit_container_id?i.tagName&&"a"!==i.tagName.toLowerCase()&&i.parentNode?e.ui.checkAnchorClick(t,i.parentNode):i.tagName&&"a"===i.tagName.toLowerCase()&&e.mvc.route(i)?t.preventDefault():void 0:void 0}}(jq),function(e){e.fn.actionsheet=function(e){for(var i,s=0;this.length>s;s++)i=new t(this[s],e);return 1==this.length?i:this};var t=function(){var t=function(i,s){if(this.element="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.element)return alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof t))return new t(i,s);if("object"==typeof s)for(var n in s)this[n]=s[n];try{var o,r=this,l='<div id="jq_actionsheet"><div style="width:100%">',a="</div></div>";if("string"==typeof s)o=e(l+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof s){o=e(l+a);var c=e(o.children().get());s.push({text:"Cancel",cssClasses:"cancel"});for(var h=0;s.length>h;h++){var d=e('<a href="javascript:;" >'+(s[h].text||"TEXT NOT ENTERED")+"</a>");d[0].onclick=s[h].handler||function(){},s[h].cssClasses&&s[h].cssClasses.length>0&&d.addClass(s[h].cssClasses),c.append(d)}}e(i).find("#jq_actionsheet").remove(),e(i).find("#jq_action_mask").remove(),actionsheetEl=e(i).append(o),o.get().style[e.feat.cssPrefix+"Transition"]="all 0ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0"+e.feat.cssTransformEnd),o.css("top",window.innerHeight+"px"),this.element.style.overflow="hidden",o.on("click","a",function(){r.hideSheet()}),this.activeSheet=o,e(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){o.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",o.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,"+-o.height()+"px"+e.feat.cssTransformEnd)},10)}catch(u){alert("error adding actionsheet"+u)}};return t.prototype={activeSheet:null,hideSheet:function(){var t=this;this.activeSheet.off("click","a",function(){t.hideSheet()}),e(this.element).find("#jq_action_mask").remove(),this.activeSheet.get().style[e.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,s=this.element;setTimeout(function(){i.get().style[e.feat.cssPrefix+"Transition"]="all 300ms",i.css(e.feat.cssPrefix+"Transform","translate"+e.feat.cssTransformStart+"0,0px"+e.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},t}()}(jq),function(e){e.get_with_token=function(t){e.ajax({type:"GET",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.api_url,data:t.data,success:t.success,error:t.error})},e.post_with_token=function(t){e.ajax({type:"POST",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.api_url,data:t.data,success:t.success,error:t.error})},e.put_with_token=function(t){e.ajax({type:"PUT",dataType:"application/json",headers:{Authorization:current_user.token},url:server+t.api_url,data:t.data,success:t.success,error:t.error})}}(jq),function(e){var t=[],i=function(t){return t.jqmCSS3AnimateId||(t.jqmCSS3AnimateId=e.uuid()),t.jqmCSS3AnimateId},s=function(t){return"string"==typeof t||t instanceof String?document.getElementById(t):e.is$(t)?t[0]:t},n=function(e,n){var o,r,l=s(e);return r=i(l),t[r]?(t[r].animate(n),o=t[r]):(o=a(l,n),t[r]=o),o};e.fn.css3Animate=function(e){!e.complete&&e.callback&&(e.complete=e.callback);var t=n(this[0],e);e.complete=null,e.sucess=null,e.failure=null;for(var i=1;this.length>i;i++)t.link(this[i],e);return t},e.css3AnimateQueue=function(){return new a.queue};var o=e.feat.cssTransformStart,r=e.feat.cssTransformEnd,l=e.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=e.os.fennec||""==e.feat.cssPrefix||e.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.element=s,this.linkFinishedProxy_=e.proxy(this.linkFinished,this),this.element){this.animate(n);var o=this;jq(this.element).bind("destroy",function(){var e=o.element.jqmCSS3AnimateId;o.callbacksStack=[],t[e]&&delete t[e]})}};return i.prototype={animate:function(t){if(this.isActive&&this.cancel(),this.isActive=!0,!t)return alert("Please provide configuration options for animation of "+this.element.id),void 0;var i=!!t.addClass;if(i)t.removeClass?jq(this.element).replaceClass(t.removeClass,t.addClass):jq(this.element).addClass(t.addClass);else{var s=numOnly(t.time);if(0==s&&(t.time=0),t.y||(t.y=0),t.x||(t.x=0),t.previous){var n=new e.getCssMatrix(this.element);t.y+=numOnly(n.f),t.x+=numOnly(n.e)}t.origin||(t.origin="0% 0%"),t.scale||(t.scale="1"),t.rotateY||(t.rotateY="0"),t.rotateX||(t.rotateX="0"),t.skewY||(t.skewY="0"),t.skewX||(t.skewX="0"),t.timingFunction||(t.timingFunction="linear"),("number"==typeof t.x||-1==t.x.indexOf("%")&&-1==t.x.toLowerCase().indexOf("px")&&-1==t.x.toLowerCase().indexOf("deg"))&&(t.x=parseInt(t.x)+"px"),("number"==typeof t.y||-1==t.y.indexOf("%")&&-1==t.y.toLowerCase().indexOf("px")&&-1==t.y.toLowerCase().indexOf("deg"))&&(t.y=parseInt(t.y)+"px");var a="translate"+o+t.x+","+t.y+r+" scale("+parseFloat(t.scale)+") rotate("+t.rotateX+")";e.os.opera||(a+=" rotateY("+t.rotateY+")"),a+=" skew("+t.skewX+","+t.skewY+")",this.element.style[e.feat.cssPrefix+"Transform"]=a,this.element.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=e.feat.cssPrefix+"Transform";if(void 0!==t.opacity&&(this.element.style.opacity=t.opacity,c+=", opacity"),t.width&&(this.element.style.width=t.width,c="all"),t.height&&(this.element.style.height=t.height,c="all"),this.element.style[e.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+t.time).indexOf("s"))var h="ms",d=t.time+h;else if(-1!==t.time.indexOf("ms"))var h="ms",d=t.time;else var h="s",d=t.time+h;this.element.style[e.feat.cssPrefix+"TransitionDuration"]=d,this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=t.timingFunction,this.element.style[e.feat.cssPrefix+"TransformOrigin"]=t.origin}this.callbacksStack.push({complete:t.complete,success:t.success,failure:t.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.element);if(i){var p=f[e.feat.cssPrefix+"TransitionDuration"],s=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==s||"ms"==h&&5>s||"none"==f.display)e.asap(e.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(e){clearTimeout(u.timeout),u.finishAnimation(e),u.element.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(t.time)+50),this.element.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(e){return e&&this.callbacksStack.push(e),this.countStack++,this.linkFinishedProxy_},linkFinished:function(e){e?this.cancel():this.finishAnimation()},finishAnimation:function(e){e&&e.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(e){this.clearEvents();var t=this.callbacksStack;this.cleanup();for(var i=0;t.length>i;i++){var s=t[i].complete,n=t[i].success,o=t[i].failure;s&&"function"==typeof s&&s(e),e&&o&&"function"==typeof o?o():n&&"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.element.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(e,t){var i={complete:t.complete,success:t.success,failure:t.failure};return t.complete=this.addCallbackHook(i),t.success=null,t.failure=null,n(e,t),t.complete=i.complete,t.success=i.success,t.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(e){this.elements.push(e)},pop:function(){return this.elements.pop()},run:function(){var e=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var t=this.shift();t()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(t){t||e.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(e){e.ui.show_modal=function(t){var i=this;t="#"+t.replace("#","");try{e(t)&&(jq("#modalContainer").html(e.feat.nativeTouchScroll?e(t).html():e(t).get(0).childNodes[0].innerHTML+"",!0),e("#modalContainer").append("<a href='javascript:;' onclick='$.ui.hide_modal();' class='closebutton modalbutton'></a>"),this.modal_window.style.display="block",this.scrolling_divs.modal_container.enable(i.reset_scrollers),this.scrollToTop("modal"),e("#modalContainer").data("panel",t))}catch(s){console.log("Error with modal - "+s,this.modal_window)}},e.ui.hide_modal=function(){var t=e("#modalContainer");t.html("",!0),e("#modal_ui").hide(),this.scrolling_divs.modal_container.disable();var i=e(t.data("panel")),s=i.data("unload");"string"==typeof s&&window[s]&&window[s](i.get(0))}}(jq),function(e){e.password_box=function(){return new t};var t=function(){this.oldPasswords={}};t.prototype={showPasswordPlainText:!1,getOldPasswords:function(t){var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for password_box "+t),void 0;for(var s=i.getElementsByTagName("input"),n=0;s.length>n;n++)"password"==s[n].type&&e.os.webkit&&(s[n].type="text",s[n].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(t,i){t=parseInt(t);var s=document.getElementById(i);s.style[e.cssPrefix+"text-security"]=1==t?"none":"disc",e.os.webkit||(s.type=1==t?"text":"password"),s=null}}}(jq),function(e){e.fn.popup=function(e){return new i(this[0],e)};var t=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=id=s.id=s.id||e.uuid(),this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,t.push(this),1==t.length&&this.show()}catch(n){console.log("error adding popup "+n)}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var t=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";e(this.container).append(e(i));var s=e("#"+this.id);s.bind("close",function(){t.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=e(this);i.bind("click",function(e){"cancel"==i.attr("id")?(t.cancelCallback.call(t.cancelCallback,t),t.hide()):(t.doneCallback.call(t.doneCallback,t),t.autoCloseDone&&t.hide()),e.preventDefault()})}),t.positionPopup(),e.block_ui(.5),s.removeClass("hidden"),s.bind("orientationchange",function(){t.positionPopup()}),s.find("header").show(),s.find("footer").show(),this.onShow(this)},hide:function(){var t=this;e("#"+t.id).addClass("hidden"),e.unblock_ui(),setTimeout(function(){t.remove()},250)},remove:function(){var i=this,s=e("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),t.splice(0,1),t.length>0&&t[0].show()},positionPopup:function(){var t=e("#"+this.id);t.css("top",window.innerHeight/2.5+window.pageYOffset-t[0].clientHeight/2+"px"),t.css("left",window.innerWidth/2-t[0].clientWidth/2+"px")}},i}(),s=!1;e.block_ui=function(t){s||(t=t?" style='opacity:"+t+";'":"",e("BODY").prepend(e("<div id='mask'"+t+"></div>")),e("BODY DIV#mask").bind("touchstart",function(e){e.preventDefault()}),e("BODY DIV#mask").bind("touchmove",function(e){e.preventDefault()}),s=!0)},e.unblock_ui=function(){s=!1,e("BODY DIV#mask").unbind("touchstart"),e("BODY DIV#mask").unbind("touchmove"),e("BODY DIV#mask").remove()},window.alert=function(t){(null===t||void 0===t)&&(t="null"),e("#ui_kit").length>0?e("#ui_kit").popup(""+t):e(document.body).popup(""+t)}}(jq),function(e){function t(e){return n[e].element?!0:(delete n[e],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;e.bind(e.touch_layer,"pre-enter-edit",function(e){if(!i){i=!0;for(var s in n)t(s)&&n[s].needsFormsFix(e)&&n[s].startFormsMode()}}),e.bind(e.touch_layer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var e in n)t(e)&&n[e].androidFormsMode&&n[e].stopFormsMode()}})}r=!0}var s=75,n=[],o=function(t){return t.jqmScrollerId||(t.jqmScrollerId=e.uuid()),t.jqmScrollerId};e.fn.scroller=function(t){for(var i,s,r=0;this.length>r;r++)s=o(this[r]),n[s]?i=n[s]:(t||(t={}),e.feat.nativeTouchScroll||(t.useJsScroll=!0),i=l(this[r],t),n[s]=i);return 1==this.length?i:this};var r=!1,l=function(){function t(t,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=t+"px",s.style.height=i+"px",s.style[e.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.opacity=0,s.className="scrollBar",s.style.background="black",s}var o,l,a=e.feat.cssTransformStart,c=e.feat.cssTransformEnd,h=function(t,s){if(!r&&e.touch_layer&&e.isObject(e.touch_layer)?i():e.touch_layer&&e.isObject(e.touch_layer)||(e.touch_layer={}),"string"==typeof t||t instanceof String)var n=document.getElementById(t);else var n=t;return n?jq.os.desktop?new d(n,s):s.useJsScroll?new o(n,s):new l(n,s):(alert("Could not find element for scroller "+t),void 0)},d=function(t,i){this.element=t,this.jqEl=e(this.element);for(var s in i)this[s]=i[s]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(e,t){var t=parseInt(t);if(0==t||isNaN(t))return this.element.scrollTop=Math.abs(e.y),this.element.scrollLeft=Math.abs(e.x),void 0;var i=10,s=(this.element.scrollTop-e.y)/Math.ceil(t/i),n=(this.element.scrollLeft-e.x)/Math.ceil(t/i),o=this,r=Math.ceil(this.element.scrollTop-e.y)/s,l=Math.ceil(this.element.scrollLeft-e.x)/s,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.element.scrollTop-=s,yRun++,yRun>=r&&(o.element.scrollTop=e.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.element.scrollLeft-=n,a++,a>=l&&(o.element.scrollLeft=e.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(e){this._scrollTo({x:0,y:0},e)},_scrollToBottom:function(e){this._scrollTo({x:0,y:this.element.scrollHeight-this.element.offsetHeight},e)},scrollToBottom:function(e){return this._scrollToBottom(e)},scrollToTop:function(e){return this._scrollToTop(e)},init:function(t,i){this.element=t,this.jqEl=e(this.element),this.defaultProperties();for(var s in i)this[s]=i[s];var o=this,r=function(){o.eventsActive&&o.adjustScroll()};this.jqEl.bind("destroy",function(){o.disable(!0);var t=o.element.jqmScrollerId;n[t]&&delete n[t],e.unbind(e.touch_layer,"orientationchange-reshape",r)}),e.bind(e.touch_layer,"orientationchange-reshape",r)},needsFormsFix:function(t){return this.useJsScroll&&this.isEnabled()&&"none"!=this.element.style.display&&e(t).closest(this.jqEl).size()>0},handleEvent:function(e){if(!this.scrollingLocked)switch(e.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"scroll":this.onScroll(e)}},coreAddPullToRefresh:function(t){if(t&&(this.refreshElement=t),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var s=jq(i);else var s=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var s=jq(this.refreshElement);var n=s.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),e(this.element).prepend(this.refreshContainer.append(n,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(t){if(this.refresh&&t){var i=e.trigger(this,"refresh-release",[t])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(e){jq(this.container).find(".jqscroll_refresh").html(e)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(t,i){if(e.is$(t)||(t=e(t)),"bottom"==i){var s=t.offset(),n=s.top-this.jqEl.offset().bottom+s.height;n+=4}else{var o=t.offset().top,n=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(n-=r),n-=4}this.scrollBy({y:n,x:0},0)},setPaddings:function(t,i){var s=e(this.element),n=numOnly(s.css("paddingTop"));s.css("paddingTop",t+"px").css("paddingBottom",i+"px"),this.scrollBy({y:t-n,x:0})},divide:function(e,t){return 0!=t?e/t:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,s){if(this.init(i,s),this.container=this.element.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=e(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var n=t(5,20);n.style.top="0px",this.vScrollCSS&&(n.className=this.vScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.vscrollBar=n,n=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var n=t(20,5);n.style.bottom="0px",this.hScrollCSS&&(n.className=this.hScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.hscrollBar=n,n=null}this.horizontalScroll&&(this.element.style["float"]="left"),this.element.hasScroller=!0},l=function(t,i){this.init(t,i);var s=e(t);if(i.noParent!==!0){var n=s.parent(),o=n.height();o+=-1==o.indexOf("%")?"px":"",s.css("height",o),s.parent().parent().append(s),n.remove()}this.container=this.element,s.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var e=this;this.adjustScrollOverflowProxy_=function(){e.jqEl.css("overflow","auto")}},l.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,this.element.style.overflow="auto",e||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("scroll",this,!1))},l.prototype.disable=function(e){this.eventsActive&&(this.logPos(this.element.scrollLeft,this.element.scrollTop),e||(this.element.style.overflow="hidden"),this.element.removeEventListener("touchstart",this,!1),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.element.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(e,t){this.element.removeEventListener("touchstart",this,!1),this.element.addEventListener("touchstart",this,!1),t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(t){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.element.addEventListener("touchmove",this,!1),this.dY=t.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),e.trigger(this,"scrollstart",[this.element]),e.trigger(e.touch_layer,"scrollstart",[this.element])},l.prototype.onTouchMove=function(t){var i=t.touches[0].pageY-this.dY;this.moved||(this.element.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.element.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.element.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),e.trigger(this,"refresh-cancel")),this.cY=i,t.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var t=this.element.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(t,!0),t&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,s=this,n={top:this.element.scrollTop,left:this.element.scrollLeft},o=0;s.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(s.nativePolling),void 0):((s.element.scrollTop!=n.top||s.element.scrollLeft!=n.left)&&(clearInterval(s.nativePolling),e.trigger(e.touch_layer,"scrollend",[s.element]),e.trigger(s,"scrollend",[s.element])),void 0)},20)},l.prototype.hideRefresh=function(t){if(!this.preventHideRefresh){var i=this,n=function(t){t||(i.element.style[e.feat.cssPrefix+"Transform"]="none",i.element.style[e.feat.cssPrefix+"TransitionProperty"]="none",i.element.scrollTop=0,i.logPos(i.element.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,e.trigger(i,"refresh-finish")};t!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.element.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(e,t){return this.logPos(e.x,e.y),e.x*=-1,e.y*=-1,this._scrollTo(e,t)},l.prototype.scrollBy=function(e,t){return e.x+=this.element.scrollLeft,e.y+=this.element.scrollTop,this.logPos(this.element.scrollLeft,this.element.scrollTop),this._scrollTo(e,t)},l.prototype.scrollToBottom=function(e){this._scrollToBottom(e),this.logPos(this.element.scrollLeft,this.element.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var t=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,e.trigger(t,"infinite-scroll-end"))},l.prototype.logPos=function(e,t){this.loggedPcentX=this.divide(e,this.element.scrollWidth),this.loggedPcentY=this.divide(t,this.element.scrollHeight),this.scrollLeft=e,this.scrollTop=t,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.element.scrollLeft=this.loggedPcentX*this.element.scrollWidth,this.element.scrollTop=this.loggedPcentY*this.element.scrollHeight,this.logPos(this.element.scrollLeft,this.element.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},o.prototype.enable=function(e){this.eventsActive||(this.eventsActive=!0,e?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var e=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.element.clientWidth-e.w)),y:Math.round(this.loggedPcentY*(this.element.clientHeight-e.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var e=this.getCSSMatrix(this.element);this.logPos(numOnly(e.e)-numOnly(this.container.scrollLeft),numOnly(e.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(e,t){t||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(e),this.element.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[e.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var e=window.getComputedStyle(this.container);return isNaN(numOnly(e.paddingTop))&&alert(typeof e.paddingTop+"::"+e.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(e.paddingTop)-numOnly(e.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(e.paddingLeft)-numOnly(e.paddingRight)}},o.prototype.onTouchStart=function(t){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==t.touches.length&&!this.boolScrollLock)){if(t.touches[0].target&&void 0!=t.touches[0].target.type){var i=t.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.element.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.element.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.element.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.element.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(t),this.saveFirstEventInfo(t);var o=this.getCSSMatrix(this.element);s.top=numOnly(o.f)-numOnly(this.container.scrollTop),s.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.element,this.refresh&&0==s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>s.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[e.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=s,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),e.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(t){if(this.androidFormsMode){var i=parseInt(t.style.marginTop),s=parseInt(t.style.marginLeft);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=e.getCssMatrix(t);return n},o.prototype.saveEventInfo=function(e){this.lastEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}},o.prototype.saveFirstEventInfo=function(e){this.firstEventInfo={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:e.timeStamp}
},o.prototype.setVScrollBar=function(e,t,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";s!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+e.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},t,i),!0},o.prototype.setHScrollBar=function(e,t,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+e.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},t,i),!0},o.prototype.onTouchMove=function(e){if(null!=this.currentScrollingObject){var t=this.calculateMovement(e);this.calculateTarget(t),this.lastScrollInfo=t,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==t.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>t.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(e),this.doScroll()}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var t=this.getCSSMatrix(this.element);this.lastScrollInfo.top=numOnly(t.f),this.lastScrollInfo.left=numOnly(t.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||s){var n=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-n)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:s&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,e.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,e.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(e,t){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=t?this.firstEventInfo:this.lastEventInfo,n=t?e.pageX:e.touches[0].pageX,o=t?e.pageY:e.touches[0].pageY,r=t?e.time:e.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=r,i.duration=r-s.time,i},o.prototype.calculateTarget=function(e){e.y=this.lastScrollInfo.y+e.deltaY,e.x=this.lastScrollInfo.x+e.deltaX},o.prototype.checkYboundary=function(e){var t=this.container.clientHeight/2,i=this.elementInfo.maxTop+t;if(e.y>t)e.y=t;else{if(!(-e.y>i))return;e.y=-i}this.recalculateDeltaY(e)},o.prototype.checkXboundary=function(e){if(e.x>0)e.x=0;else{if(!(-e.x>this.elementInfo.maxLeft))return;e.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(e)},o.prototype.recalculateDeltaY=function(e){var t=Math.abs(e.deltaY);e.deltaY=e.y-e.top,newAbsDeltaY=Math.abs(e.deltaY),e.duration=e.duration*newAbsDeltaY/t},o.prototype.recalculateDeltaX=function(e){var t=Math.abs(e.deltaX);e.deltaX=e.x-e.left,newAbsDeltaX=Math.abs(e.deltaX),e.duration=e.duration*newAbsDeltaX/t},o.prototype.hideRefresh=function(){var t=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){e.trigger(t,"refresh-finish")}},s),this.refreshTriggered=!1)},o.prototype.setMomentum=function(e){var t=.0012;e.speedY=this.divide(e.deltaY,e.duration),e.speedX=this.divide(e.deltaX,e.duration),e.absSpeedY=Math.abs(e.speedY),e.absSpeedX=Math.abs(e.speedX),e.absDeltaY=Math.abs(e.deltaY),e.absDeltaX=Math.abs(e.deltaX),e.absDeltaY>0?(e.deltaY=(0>e.deltaY?-1:1)*e.absSpeedY*e.absSpeedY/(2*t),e.absDeltaY=Math.abs(e.deltaY),e.duration=e.absSpeedY/t,e.speedY=e.deltaY/e.duration,e.absSpeedY=Math.abs(e.speedY),(100*t>e.absSpeedY||5>e.absDeltaY)&&(e.deltaY=e.absDeltaY=e.duration=e.speedY=e.absSpeedY=0)):e.absDeltaX?(e.deltaX=(0>e.deltaX?-1:1)*e.absSpeedX*e.absSpeedX/(2*t),e.absDeltaX=Math.abs(e.deltaX),e.duration=e.absSpeedX/t,e.speedX=e.deltaX/e.duration,e.absSpeedX=Math.abs(e.speedX),(100*t>e.absSpeedX||5>e.absDeltaX)&&(e.deltaX=e.absDeltaX=e.duration=e.speedX=e.absSpeedX=0)):e.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var t=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(t),this.calculateTarget(t);var i=this.getCSSMatrix(this.element);t.top=numOnly(i.f),t.left=numOnly(i.e),this.checkYboundary(t),this.elementInfo.hasHorScroll&&this.checkXboundary(t);var n=!this.preventPullToRefresh&&(t.top>this.refreshHeight||t.y>this.refreshHeight);this.fireRefreshRelease(n,t.top>0),this.refresh&&n?(t.y=this.refreshHeight,t.duration=s):t.y>=0?(t.y=0,t.top>=0&&(t.duration=s)):(-t.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(t.y=-this.elementInfo.maxTop,-t.top>this.elementInfo.maxTop&&(t.duration=s)),this.androidFormsMode&&(t.duration=0),this.scrollerMoveCSS(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(t,t.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(t.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(t.y)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,e.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(t){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),e.trigger(e.touch_layer,"scrollend",[i.element]),e.trigger(i,"scrollend",[i.element]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&e.trigger(i,"infinite-scroll-end")},t)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.element.style[e.feat.cssPrefix+"Transform"]="none",this.element.style[e.feat.cssPrefix+"Transition"]="none",this.element.style[e.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]="none",this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var t=this.getCSSMatrix(this.element);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.element.style[e.feat.cssPrefix+"Perspective"]=1e3,this.element.style.marginTop=0,this.element.style.marginLeft=0,this.element.style[e.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(t.e),y:numOnly(t.f)},0),this.container.style[e.feat.cssPrefix+"Perspective"]=1e3,this.container.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[e.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[e.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(t,i,s){i||(i=0),s||(s="linear"),i=numOnly(i),this.element&&this.element.style&&(this.eventsActive&&(this.androidFormsMode?(this.element.style.marginTop=Math.round(t.y)+"px",this.element.style.marginLeft=Math.round(t.x)+"px"):(this.element.style[e.feat.cssPrefix+"Transform"]="translate"+a+t.x+"px,"+t.y+"px"+c,this.element.style[e.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.element.style[e.feat.cssPrefix+"TransitionTimingFunction"]=s)),this.logPos(t.x,t.y))},o.prototype.logPos=function(e,t){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(e,this.element.clientWidth-i.w),this.loggedPcentY=this.divide(t,this.element.clientHeight-i.h),this.scrollTop=t,this.scrollLeft=e},o.prototype.scrollbarMoveCSS=function(t,i,s,n){s||(s=0),n||(n="linear"),t&&t.style&&(this.androidFormsMode?(t.style.marginTop=Math.round(i.y)+"px",t.style.marginLeft=Math.round(i.x)+"px"):(t.style[e.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,t.style[e.feat.cssPrefix+"TransitionDuration"]=s+"ms",t.style[e.feat.cssPrefix+"TransitionTimingFunction"]=n))},o.prototype.scrollTo=function(e,t){t||(t=0),this.scrollerMoveCSS(e,t)},o.prototype.scrollBy=function(e,t){var i=this.getCSSMatrix(this.element),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-e.y,x:n-e.x},t)},o.prototype.scrollToBottom=function(e){this.scrollTo({y:-1*(this.element.clientHeight-this.container.clientHeight),x:0},e)},o.prototype.scrollToTop=function(e){this.scrollTo({x:0,y:0},e)},h}()}(jq),function(e){e.select_box={scroller:null,getOldSelects:function(t){if(e.os.android&&!e.os.androidICS){if(!e.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=t&&document.getElementById(t)?document.getElementById(t):document;if(!i)return alert("Could not find container element for jq.web.select_box "+t),void 0;for(var s=i.getElementsByTagName("select"),n=this,o=0;s.length>o;o++)s[o].hasSelectBoxFix||function(t){var i=document.createElement("div"),r=window.getComputedStyle(t),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(t.style.height)>0?t.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",t.value&&(i.innerHTML=t.options[t.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+t.className,i.id=t.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=t.id,i.onclick=function(){n.initDropDown(this.linkId)},e(i).insertBefore(e(t)),t.style.display="none",t.style.webkitAppearance="none";for(var h=0;t.options.length>h;h++)t.options[h].selected&&(i.value=t.options[h].text),t.options[h].watch("selected",function(e,i,s){return 1==s&&(t.getAttribute("multiple")||n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});t.watch("selectedIndex",function(e,i,s){return this.options[s]&&(t.getAttribute("multiple")||n.updateMaskValue(this.id,this.options[s].text,this.options[s].value),this.value=this.options[s].value),s}),i=null,imageMask=null,s[o].hasSelectBoxFix=!0}(s[o]);n.createHtml()}},updateDropdown:function(e){var t=document.getElementById(e);if(t){for(var i=0;t.options.length>i;i++)t.options[i].selected&&(fakeInput.value=t.options[i].text),t.options[i].watch("selected",function(e,t,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});t=null}},initDropDown:function(e){var t=this,i=document.getElementById(e);if(!i.disabled&&i&&i.options&&0!=i.options.length){var s=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:e;for(var n=0;i.options.length>n;n++){i.options[n].watch("selected",function(e,i,s){return 1==s&&(t.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});var o=i.options[n].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=n,r.onclick=function(){t.setDropDownValue(e,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[n].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){console.log("Error showing div "+h)}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(s*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=s*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){console.log("error init dropdown"+h)}r=null,i=null}},updateMaskValue:function(e,t,i){var s=document.getElementById(e+"_jqmobiSelect"),n=document.getElementById(e);s&&(s.innerHTML=t),"function"==typeof n.onchange&&n.onchange(i),s=null,n=null},setDropDownValue:function(t,i,s){var n=document.getElementById(t);if(n){if(n.getAttribute("multiple")){var o=e(n).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,e(s).find("button").css("background","#fff")):(o.selected=!0,e(s).find("button").css("background","#000"))}else n.selectedIndex=i,e(n).find("option").forEach(function(e){e.selected=!1}),e(n).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();e(n).trigger("change"),n=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var t=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var s=document.createElement("div");s.id="jqmobiSelectBoxContainer",s.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",s.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",s.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var t=this;i.appendChild(s),e(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var n=e("#jqmobiSelectClose").get();n.onclick=function(){t.hideDropDown()};var o=e("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{t.scroller=e("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){console.log("Error creating select html "+r)}i=null,s=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(e,t){var i=this[e],s=i,n=function(){return s},o=function(n){return i=s,s=t.call(this,e,i,n)};delete this[e]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,e,{get:n,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,e,n),HTMLElement.prototype.__defineSetter__.call(this,e,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(e){var t=this[e];delete this[e],this[e]=t})}(jq),function(e){e.ui.show_page=function(t){this.on_unload&&(this.on_unload(),this.on_unload=null),t.on_unload&&(this.unload=t.on_unload),t.on_load&&t.on_load(),console.log("footer =  %s",t.footer),this.set_header(t.header),this.set_footer(t.footer),this.set_active_footer_button(t.active_footer_button),this.set_left_button(t.left_button),this.set_right_button(t.right_button),t.api_url?this.cached_pages[t.div_id]?(console.log("we found cache"),e.ui.add_content_div(t.div_id,tmpl[t.div_id](parsed_data),t.title,this.cached_pages[t.div_id]),this.load_content(t.div_id,!1,!1,"fade"),e.get_with_token({api_url:t.api_url,data:t.data,success:function(i){var s=JSON.parse(i);JSON.parse(i),e.ui.update_content_div(t.div_id,tmpl[t.div_id](s))},error:function(){console.log("failed to update")}})):(console.log("no local cache found, fetching data"),e.get_with_token({api_url:t.api_url,data:t.data,success:function(i){var s=JSON.parse(i);console.log(s),e.ui.add_content_div(t.div_id,tmpl[t.div_id](s),t.title),e.ui.load_content(t.div_id,!1,!1,"fade")},error:function(e,t){console.log("failed to access api"),console.log(e),console.log(t)}})):(console.log("no remote data needed"),0===e("#"+t.div_id).length?e.ui.add_content_div(t.div_id,tmpl[t.div_id](t.data),t.title):this.update_content_div(t.div_id,tmpl[t.div_id](t.data)),this.load_content(t.div_id,!1,!1,"fade"))}}(jq),function(e){e.ui.side_menu={create_side_menu:function(){this.menu||(this.menu=document.createElement("div"),this.menu.id="menu",this.menu.innerHTML='<div id="menu_scroller"></div>',this.ui_kit_container.append(this.menu),this.menu.style.overflow="hidden",this.scrolling_divs.menu_scroller=jq("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"jqmScrollbar",useJsScroll:!e.feat.nativeTouchScroll,noParent:e.feat.nativeTouchScroll}),e.feat.nativeTouchScroll&&e("#menu_scroller").css("height","100%"))},toggle_side_menu:function(e,t){this.side_menu_displayed=!0;var i=this,s=jq("#menu"),n=jq("#content, #menu, #header, #footer");s.hasClass("on")||s.hasClass("to-on")||(void 0===e||e===!1)&&void 0!==e?(void 0===e||void 0!==e&&e===!1)&&i.css3animate(n,{removeClass:"on off to-on",addClass:"to-off",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(n,{removeClass:"to-off on to-on",addClass:"off",time:0,complete:function(){s.hide(),i.side_menu_displayed=!1,t&&t(!1)}})}}):(s.show(),i.css3animate(n,{removeClass:"to-off off on",addClass:"to-on",complete:function(e){e?(i.side_menu_displayed=!1,t&&t(!0)):i.css3animate(n,{removeClass:"to-off off to-on",addClass:"on",time:0,complete:function(){i.side_menu_displayed=!1,t&&t(!1)}})}}))},disableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");this.isSideMenuOn()?this.toggle_side_menu(!1,function(t){t||e.removeClass("hasMenu")}):e.removeClass("hasMenu")},enableSideMenu:function(){var e=jq("#content, #menu, #header, #footer");e.addClass("hasMenu")},isSideMenuEnabled:function(){return jq("#content").hasClass("hasMenu")},isSideMenuOn:function(){var e=jq("#menu");return this.isSideMenuEnabled()&&(e.hasClass("on")||e.hasClass("to-on"))},update_side_menu:function(e){var t=this,i=jq("#menu_scroller");if(void 0!==e&&null!=e){if("string"==typeof e)i.html(e,!0);else{i.html("");var s=document.createElement("a");s.className="closebutton jqMenuClose",s.href="javascript:;",s.onclick=function(){t.toggle_side_menu(!1)},i.append(s);var n=document.createElement("div");n.className="jqMenuHeader",n.innerHTML="Menu",i.append(n);for(var o=0;e.length>o;o++){var r=e[o].cloneNode(!0);i.append(r)}}this.scrolling_divs.menu_scroller.hideScrollbars(),this.scrolling_divs.menu_scroller.scrollToTop()}}}}(jq),function(){$.touch_layer=function(e){return $.touch_layer=new c(e),$.touch_layer};var e=["input","select","textarea"],t=["button","radio","checkbox","range","date"],i=$.os.ios,s=$.os.blackberry,n=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(e){this.clearTouchVars(),e.addEventListener("touchstart",this,!1),e.addEventListener("touchmove",this,!1),e.addEventListener("touchend",this,!1),e.addEventListener("click",this,!1),e.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=e,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var t=this;this.scrollTimeoutExpireProxy_=function(){t.scrollTimeout_=null,t.scrollTimeoutEl_.addEventListener("scroll",t.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(t.layer.style.height="100%"),$.asap(t.testAndFixUI,t,arguments)},document.addEventListener("click",function(e){void 0!==e.clientX&&null!==t.lastTouchStartX&&2>Math.abs(t.lastTouchStartX-e.clientX)&&2>Math.abs(t.lastTouchStartY-e.clientY)&&(e.preventDefault(),e.stopPropagation())},!0),$.bind(this,"scrollstart",function(e){t.isScrolling=!0,t.scrollingEl_=e,t.fireEvent("UIEvents","scrollstart",e,!1,!1)}),$.bind(this,"scrollend",function(e){t.isScrolling=!1,t.fireEvent("UIEvents","scrollend",e,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"click":this.onClick(e);break;case"blur":this.onBlur(e);break;case"scroll":this.onScroll(e);break;case"orientationchange":this.onOrientationChange(e);break;case"resize":this.onResize(e);break;case"focusin":this.onFocusIn(e)}},launchFixUI:function(e){return e||(e=l),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,e):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(e,t){var i=this.getReferenceHeight(),s=this.getCurrentHeight();return i==s||i>s*r&&s>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(e,t),!0)},hideAddressBar:function(e,t){if(e>=t)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px";var i=e+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,t])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(s){var n=s.target&&void 0!=s.target.tagName?s.target.tagName.toLowerCase():"";if(-1===e.indexOf(n)||this.isFocused_&&!s.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=s.target&&void 0!=s.target.type?s.target.type.toLowerCase():"",r=-1!==t.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=s.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[s.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&s.target.focus()}},previewReshapeEvent:function(e){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(e),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=e},fireReshapeEvent:function(e){$.trigger(this,"reshape"),$.trigger(this,e?e+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(e){this.isFocused_||this.onClick(e)},onBlur:function(e){jq.os.android&&e.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[e.target]))},exitExit:function(e){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[e]),this.allowDocumentScroll_=!1,$.os.ios){var t=this;setTimeout(function(){t.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(e){this.allowDocumentScroll_||this.isPanning_||e.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(t){this.dX=t.touches[0].pageX,this.dY=t.touches[0].pageY,this.lastTimestamp=t.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(t.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&t&&t.target&&t.target.getAttribute&&"ignore"==t.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(n&&t.target&&void 0!=t.target.tagName){var s=t.target.tagName.toLowerCase();-1!==e.indexOf(s)&&("select"!=s&&$.trigger(this,"pre-enter-edit",[t.target]),this.requiresNativeTap=!0)}else t.target&&void 0!==t.target.tagName&&"input"==t.target.tagName.toLowerCase()&&"range"==t.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&t.preventDefault()},demandVerticalScroll:function(){var e=0>=this.scrollingEl_.scrollTop;if(e)this.scrollingEl_.scrollTop=1;else{var t=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=t>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(e){return void 0===e.scrollWidth||void 0===e.clientWidth?!0:void 0===e.scrollHeight||void 0===e.clientHeight?!0:!1},allowsVerticalScroll:function(e,t){var i=t.overflowY;return"scroll"==i?!0:"auto"==i&&e.scrollHeight>e.clientHeight?!0:!1},allowsHorizontalScroll:function(e,t){var i=t.overflowX;return"scroll"==i?!0:"auto"==i&&e.scrollWidth>e.clientWidth?!0:!1},checkDOMTree:function(e,t){if(o&&this.panElementId==e.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(e))return;var i=window.getComputedStyle(e);if(this.allowsVerticalScroll(e,i))return this.isScrollingVertical_=!0,this.scrollingEl_=e,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(e,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)
}var s=e==t;!s&&e.parentNode&&this.checkDOMTree(e.parentNode,t)},scrollEnded:function(e){e&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(e){var t=this.moved;return this.moved=!0,s&&(this.cY=e.touches[0].pageY-this.dY,this.cX=e.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(t||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-e.touches[0].pageY)/(e.timeStamp-this.lastTimestamp),this.lastY=e.touches[0].pageY,this.lastX=e.touches[0].pageX,this.lastTimestamp=e.timeStamp),$.os.blackberry10||this.requiresNativeTap?(e.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||e.preventDefault(),void 0))},onTouchEnd:function(e){if($.os.ios){if(a==e.changedTouches[0].identifier)return e.preventDefault(),!1;a=e.changedTouches[0].identifier}var t=this.moved;if(s&&(t=t&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&t)this.wasPanning_=!0;else if(t||this.requiresNativeTap)t&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[e.target])));else if(e.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=e.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,e.mouseToTouch,e.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(e,t,i,s,n,o){var r=document.createEvent(e);r.initEvent(t,s,!0),r.target=i,o&&$.each(o,function(e,t){r[e]=t}),n&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(e){function t(e){return"tagName"in e?e:e.parentNode}function i(e,t,i,s){var n=Math.abs(e-t),o=Math.abs(i-s);return n>=o?e-t>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){r.last&&Date.now()-r.last>=l&&(r.element.trigger("longTap"),r={})}var n,o,r={},l=750;e(document).ready(function(){var a;e(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.element=e(t(i.touches[0].target)),n&&clearTimeout(n),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(s,l),r.element.data("ignore-pressed")||r.element.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.element)}}).bind("touchmove",function(e){r.x2=e.touches[0].pageX,r.y2=e.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.element&&(r.element.data("ignore-pressed")||r.element.removeClass("selected"),r.isDoubleTap?(r.element.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.element.trigger("swipe")&&r.element.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.element.trigger("tap"),n=setTimeout(function(){n=null,r.element&&r.element.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.element&&!r.element.data("ignore-pressed")&&r.element.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}(jq),function(e){e(document).ready(function(){e.os.supportsTouch&&e.touch_layer(document.getElementById("ui_kit"))}),"complete"===document.readyState||"loaded"===document.readyState?e.ui.autoBoot():document.addEventListener("DOMContentLoaded",function(){e.ui.autoBoot(),this.removeEventListener("DOMContentLoaded",arguments.callee)},!1)}(jq),function(e){function t(e,t,i){e.style.display="block",t.style.display="block";var s=this;i?(t.style.zIndex=1,e.style.zIndex=2,s.clearAnimations(t),s.css3animate(e,{x:"0%",time:"150ms",opacity:.1,complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.css3animate(e,{x:"-100%",opacity:1,complete:function(){s.finishTransition(e)}}),t.style.zIndex=2,e.style.zIndex=1,void 0)}})):(e.style.zIndex=1,t.style.zIndex=2,t.style.opacity=0,s.css3animate(t,{x:"0%",opacity:.1,complete:function(){s.css3animate(t,{x:"0%",time:"150ms",opacity:1,complete:function(i){return i?(s.finishTransition(e,t),void 0):(s.clearAnimations(t),s.css3animate(e,{x:"-100%",y:0,complete:function(){s.finishTransition(e)}}),void 0)}})}}))}e.availableTransitions.fade=t}($.ui),function(){var e=!1;$(document).ready(function(){if(window.google&&google.maps)return $(document).trigger("gmaps:available"),e=!0,!0;var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyC-weGLF_U2fkiHZ4vwT_sL7KXsXqaxrl0&sensor=true&callback=gmapsPluginLoaded",$("head").append(t),window.gmapsPluginLoaded=function(){$(document).trigger("gmaps:available"),e=!0}});var t={};$.fn.gmaps=function(e){if(console.log("im here"),0==this.length)return console.log("error"),void 0;if(!e)return console.log("section 2"),t[this[0].id];if("resize"==e&&t[this[0].id])return console.log("section 3"),google.maps.event.trigger(t[this[0].id],"resize");for(var s=0;this.length>s;s++)console.log("section 4"),new i(this[s],e)};var i=function(i,s){var n=function(){console.log("creating a map"),s&&0!=Object.keys(s).length||(console.log("setting default options"),s={zoom:8,center:new google.maps.LatLng(40.010787,-76.278076),mapTypeId:google.maps.MapTypeId.ROADMAP}),t[i.id]=new google.maps.Map(i,s),google.maps.event.trigger(t[i.id],"resize")};e?(console.log("making a gmap"),n()):$(document).one("gmaps:available",function(){console.log("doing something?"),n()})}}(jq),function(e){var t=document.location.protocol+"//"+document.location.host;location.href,"state"in window.history,e.mvc={},e.mvc.first_pop=!0,e.mvc.app=function(){e.mvc._app=this},e.mvc.app.prototype={_useHistory:!1,_html5Pop:function(t){return e.mvc.first_pop?(e.mvc.first_pop=!1,void 0):(e.mvc.route(document.location.href,t,!0),void 0)},useHTML5History:function(e){e===!0?(this._useHistory=!0,window.addEventListener("popstate",this._html5Pop)):(this._useHistory=!1,window.removeEventListener("popstate",this._html5Pop))},listenHashChange:function(){window.addEventListener("hashchange",function(t){var i=document.location.hash.replace("#","/");e.mvc.route(i,t,!0)})}},e.mvc.route=function(i,s,n){if("string"!=typeof i&&i.nodeName&&"a"===i.nodeName.toLowerCase()&&(i=i.href),"string"!=typeof i)throw console.log(i),"Invalid route parameter.  String or <a> expected";var o,r,l=i;return 0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),i=i.split("/"),i.length>1?(o=i.splice(0,1),r=i.splice(0,1)):(o=i[0],r="default"),e.mvc.controller[o]&&e.mvc.controller[o].hasOwnProperty(r)?(s&&s.preventDefault(),e.mvc.controller[o][r].apply(e.mvc.controller[o],i),e.mvc._app._useHistory&&n!==!0&&(e.ui.history.push(l),window.history.pushState(l,l,l)),!0):!1},e.mvc.addRoute=function(i,s){var n,o;0===i.indexOf(t)&&(i=i.substring(t.length,i.length)),"/"===i[0]&&(i=i.substr(1)),i=i.split("/"),i.length>1?(n=i.splice(0,1),o=i.splice(0,1)):(n=i[0],o="default"),e.mvc.controller[n]||(e.mvc.controller[n]={}),e.mvc.controller[n][o]=s},e.ui?e.ui.custom_click_handler=e.mvc.route:e(document).on("click","a",function(t){e.mvc.route(t.target,t)})}(jq),function(e){e.mvc.model=function(t,i){var s={};return i&&i.modelName&&delete i.modelName,i&&i.id&&delete i.id,e.extend(s,i),s.modelName=t,s},e.mvc.model.clone=function(e,t,i){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);return i&&(e.__proto__=t.__proto__),e},e.mvc.model.prototype={_prepareModel:function(t){var i=this,s=e.mvc.model.clone({},i,!0);return s=e.mvc.model.clone(s,t)}},e.mvc.model.Extend=function(t,i){return function(){return new e.mvc.model(t,i)}}}(jq),function(e){var t={},i={},s={},n={},o={};e.mvc.controller={},e.mvc.controller.create=function(r,l){return e.mvc.controller[r]=l,t[r]=0,s[r]=0,n[r]=0,i[r]=0,l.hasOwnProperty("init")&&(o[r]=l),e.mvc.controller[r]}}(jq),chat_log={chat_info:{chat_id:"23213123",my_photo:"photo_url_on_phone",other_photo:"photo_url",other_name:"Bob"},messages:[{id:"0",user:"Bob",text:"hello there",time:"04:41"},{id:"1",user:"Sam",text:"hey whats up",time:"04:41"},{id:"2",user:"Bob",text:"nothing much",time:"04:41"},{id:"3",user:"Bob",text:"what u doing",time:"04:41"}]},Chat=new $.mvc.model.Extend("chat",{chat_id:"",current_chat:this,my_photo:function(){return current_user.profile_pic},latest_sent_message_timestamp:"",latest_received_message_timestamp:"",messages:[],poll_for_messages:function(){var e={chat_id:this.chat_id,timestamp:this.latest_received_message_timestamp,total_messages:this.messages.length(),token:current_user.token};$.post(server+"chat",e,function(e){current_chat.push.apply(current_chat.messages,e.messages)},"json")},send_message:function(e){$.ajax({url:server+"/users/auth",data:message,success:function(){},error:function(){}}),$.ajax({type:"POST",url:server+"chat",contentType:"application/json",headers:{TOKEN:current_user.token},dataType:"application/json",data:{message:e},success:function(){},error:function(){}})},update:function(){}});var chat_room={};Person=new $.mvc.model.Extend("person",{});var people={};Photo=new $.mvc.model.Extend("photo",{});var photos={};Place=new $.mvc.model.Extend("place",{});var places={};User=new $.mvc.model.Extend("user",{name:"",email:"",token:"",profile_pic:"",register1:function(e){$("#wrong_password").hide(),$("#email_exists").hide(),$.ajax({type:"POST",url:server+"/users/register1/",dataType:"application/json",data:e,success:function(e){console.log(e),current_user.token=$.parseJSON(e).token,current_user.save(),$.mvc.route("/users_controller/register2")},error:function(){$("#email_exists").css("display",["block"])}})},register2:function(e){$.ajax({type:"POST",url:server+"/users/register2/",dataType:"application/json",headers:{TOKEN:current_user.token},data:e,success:function(){$.mvc.route("/users_controller/"),$("#footer").show()},error:function(){console.log("failed registration - something went wrong")}})},login:function(e){$("#wrong_password").hide(),$("#email_exists").hide(),$.ajax({type:"POST",url:server+"/users/login/",dataType:"application/json",data:e,success:function(e){current_user.token=JSON.parse(e).token,current_user.save(),$.mvc.route("/users_controller/"),$("#footer").show()},error:function(){$("#wrong_password").show()}})},save:function(){window.localStorage.setItem("current_user",JSON.stringify(current_user))},get_from_local:function(){try{var e=JSON.parse(window.localStorage.getItem("current_user"));e.token.length>5&&(current_user.name=e.name,current_user.email=e.email,current_user.token=e.token)}catch(t){current_user.token="guest"}},logout:function(){console.log("Logging out. Clearing localstorage"),window.localStorage.clear()}}),current_user=new User,User=new $.mvc.model.Extend("user",{name:"",email:"",token:"",profile_pic:"",save:function(){window.localStorage.setItem("current_user",JSON.stringify(this))},load_local_data:function(){try{var e=JSON.parse(window.localStorage.getItem("current_user"));e.token.length>5&&(current_user.name=e.name,current_user.email=e.email,current_user.token=e.token)}catch(t){current_user.token="guest"}},logout:function(){window.localStorage.clear()}}),current_user=new User,String.prototype.encodeHTML=encodeHTMLSource();var tmpl=tmpl||{};if(tmpl.activity_detail_attending_view=function(){var e="";return e},tmpl.activity_detail_info_view=function(){var e="";return e},tmpl.activity_detail_join_view=function(){var e="";return e},tmpl.chat_detail_view=function(e){var t="<br><!--",i=e.chat_log;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+="Chatting with "+s.chat_info.person2,s.messages.name===current_user.name?t+="<div class='chat_message_left'><div class='userimg' style='background-image:url("+s.userimg+");'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p></div></div>":1!=s.level&&(t+="<div class='chat_message_right'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p></div></div>");return t+='--><div class="row-fluid"><div class="span2"><img class="img-polaroid" src="/photos/7.png"></div><div class="span9 offset1 well well-small"><small class="muted">7:10pm</small><p> Hello Bob! How are you doing? </p></div></div><div class="row-fluid"><div class="span9 well well-small"><small class="muted">7:12pm</small><p>I\'m doing good how are you?</p></div><div class="span2"><img class="img-polaroid" src="/photos/5.png"></div></div>'},tmpl.chat_index_view=function(){var e="<div class=\"row-fluid btn-group\"><a class=\"span6 btn text-info\" href='/chats_controller/'>Recieved</a><a class=\"span6 btn\" href='/chats_controller/sent/'>Sent</a></div><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return e},tmpl.chat_list_view=function(e){var t="All your chats:<table><tr><td>Email</td><td>Name</td><td>Chat</td><tr>",i=e.chat_list;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+="<tr><td>"+s.email+"</td><td>"+s.name+'</td><td><a href="/chats_controller/chat/'+s.user_id+'">View</a></td></tr>';return t+="</table>"},tmpl.chat_new_view=function(){var e="chats_new_view";return e},tmpl.chat_sent_view=function(){var e="<div class=\"row-fluid btn-group\"><a class=\"span6 btn\" href='/chats_controller/'>Recieved</a><a class=\"span6 btn text-info\" href='/chats_controller/sent/'>Sent</a></div><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/3.png\"></div><div class='span7 offset1'><span class='text-info'>Billy Bob</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return e},tmpl._comments=function(e){var t='Hello, I am on the _comments.js partial view <br><a href="/hello">Go Back</a>',i=e.comments;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],t+=1==s.level?"<div class='commentLevel1'><div class='userimg' style='background-image:url("+s.userimg+");'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":2==s.level?"<div class='commentLevel2'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":"<div class='commentLevel3'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>";return t},tmpl.people_detail_view=function(){var e="<div class=\"row-fluid btn-group\"><a class=\"span4 btn text-info\" href='/people_controller/profile'>Profile</a><a class=\"span4 btn\" href='/people_controller/profile/comments'>Comments</a><a class=\"span4 btn\" href='/people_controller/profile/photos'>Photos</a></div><br><div class='row-fluid'><div class='span3'><img class='img-polaroid' src=\"/layout/img/user_placeholder.jpeg\"></div><div class='span8 offset1'><div class='row-fluid lead'>FirstName LastName</div><div class='row-fluid text-center'><ul class=\"nav nav-pills\"><li class=\"active\"><a>344<br><small>Followers</small></a></li><li class=\"active\"><a>423<br><small>Following</small></a></li><li class=\"active\"><a>&nbsp<br><small>Status</small></a></li></ul></div></div></div><div class='row-fluid'><div class='span2'><button class=\"btn btn-large btn-success disabled\">7 Trust</button></div><div class='span3 offset2'><a href='#' class='btn btn-small btn-info btn-block'>Trust</a><a href='/chats_controller/detail/chatid/new/userid' class='btn btn-small btn-info btn-block'>Chat</a></div><div class='span3 offset1'><a href='#' class='btn btn-small btn-info btn-block'>Follow</a><a href='#' class='btn btn-small btn-info btn-block'>Invite</a></div></div><br><div class='row-fluid text-center label label-info'>Feedback Score: 83</div><br><div class='row-fluid label'>Activities I want to be invited to</div><div class='row-fluid'>todo</div><br><div class='row-fluid label'>Activities completed</div>";return e},tmpl.people_followers_view=function(){var e='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn text-info" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div>';return e},tmpl.people_index_view=function(){var e='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div><br><br><br><br><br><a href=\'http:<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvv<br><br><br><br><br>People index view';return e},tmpl.people_nearby_view=function(e){var t='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn text-info" href=\'/people_controller/nearby/\'>Nearby</a></div>',i=e.users;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],0!=n&&0===n%4&&(t+="</ul></div>"),0===n%4&&(t+='<div class="row-fluid"><ul class="thumbnails">'),t+='<li class="span3"><a id="chat_'+s.user_id+'" href="/people_controller/detail/'+s.user_id+'" class="thumbnail"><img src="/layout/img/user_placeholder.jpeg">'+s.name+"</a></li>";return t+="</ul></div>"},tmpl.photo_detail_view=function(){var e="<div class='row-fluid'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span6'>Larissa Jane</div><div class='span1'><img src='layout/img/icons/comment_bubble.png'></div><div class='span1'><img src='layout/img/icons/photo_likes.png'></div></div><div class='row-fluid'><div class='span10 offset1'><img src='/photos/7.png'></div></div><div class='row-fluid'><div class='span10'>Nashville Concert Hall, Nashville</div><div class='span2'><a href='/photos_controller/detail/photo_id/comment/' class='btn btn-small'>Comment</a></div></div>";return e},tmpl.photos_index_view=function(){var e='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/photos_controller/\'>Following</a><a class="span4 btn" href=\'/photos_controller/explore/\'>Explore</a><a class="span4 btn" href=\'/photos_controller/my_photos/\'>My Photos</a></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div>';return e},tmpl.places_index_view=function(){var e="";return e},tmpl.user_index_view=function(){var e='<ul class="breadcrumb"><li>My Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="/activity_controller/new" class="thumbnail no_borders"><img src="/layout/img/create_activity.png"></a></li><li class="span3 text-center"><a href="/chats_controller/" class="thumbnail no_borders"><img src="/layout/img/chats.png"></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/soccer.png"><small>Today<br>4:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/cards.png"><small>Wednesday 11/24<br>9:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Today\'s Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/pool.png"><small>2.1 mi<br>7:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/basketball.png"><small>3.7 mi<br>8:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Tomorrow\'s Activities</li></ul>';return e},tmpl.user_login_register_view=function(){var e='<div><div class="row-fluid text-center"><br><br><h1>FunLife</h1><br><div id="login_error" class="alert"></div><br><br><div id="login_holder"><form id="login_form"><input id=\'#login_form_email_field\' type="text" name="user[email]" placeholder="email"><br><input id=\'#login_form_password_field\' type="text" name="user[password]" placeholder="password"></form><ul class="pager"><li><a href="/users_controller/login_register/register">Register</a></li><li><a href="/users_controller/login_register/login">Login</a></li></ul></div></div></div>';return e},tmpl.user_register2_view=function(){var e='<div class="container-fluid"><div class="row-fluid text-center"><br><br><h3>Tell us a little about yourself:</h3><br><div id="registration_details"><form id="registration_details_form"><input type="text" name="user[first_name]"  placeholder="first name"><input type="text" name="user[last_name]" placeholder="last name"></form><a href="/users_controller/register2/complete" class="btn btn-success">Complete Registration</a></div></div></div>';return e},"undefined"==typeof forge&&"undefined"==typeof device)var server="http://"+document.location.host;else var server="http://vast-crag-6780.herokuapp.com";var debug,current_user,app=new $.mvc.app;app.listenHashChange(),app.useHTML5History(!0),$.ui.ready(function(){current_user.get_from_local(),current_user.token.length>5?$.mvc.route("/users_controller/"):$.mvc.route("/users_controller/login_register")});