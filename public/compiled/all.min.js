/* FunLife */
function encodeHTMLSource(){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(e,function(e){return t[e]||e}):this}}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,i,s,n,o,r,l,a="",c=0;for(t=Base64._utf8_encode(t);t.length>c;)e=t.charCodeAt(c++),i=t.charCodeAt(c++),s=t.charCodeAt(c++),n=e>>2,o=(3&e)<<4|i>>4,r=(15&i)<<2|s>>6,l=63&s,isNaN(i)?r=l=64:isNaN(s)&&(l=64),a=a+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(l);return a},decode:function(t){var e,i,s,n,o,r,l,a="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");t.length>c;)n=this._keyStr.indexOf(t.charAt(c++)),o=this._keyStr.indexOf(t.charAt(c++)),r=this._keyStr.indexOf(t.charAt(c++)),l=this._keyStr.indexOf(t.charAt(c++)),e=n<<2|o>>4,i=(15&o)<<4|r>>2,s=(3&r)<<6|l,a+=String.fromCharCode(e),64!=r&&(a+=String.fromCharCode(i)),64!=l&&(a+=String.fromCharCode(s));return a=Base64._utf8_decode(a)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;t.length>i;i++){var s=t.charCodeAt(i);128>s?e+=String.fromCharCode(s):s>127&&2048>s?(e+=String.fromCharCode(192|s>>6),e+=String.fromCharCode(128|63&s)):(e+=String.fromCharCode(224|s>>12),e+=String.fromCharCode(128|63&s>>6),e+=String.fromCharCode(128|63&s))}return e},_utf8_decode:function(t){for(var e="",i=0,s=c1=c2=0;t.length>i;)s=t.charCodeAt(i),128>s?(e+=String.fromCharCode(s),i++):s>191&&224>s?(c2=t.charCodeAt(i+1),e+=String.fromCharCode((31&s)<<6|63&c2),i+=2):(c2=t.charCodeAt(i+1),c3=t.charCodeAt(i+2),e+=String.fromCharCode((15&s)<<12|(63&c2)<<6|63&c3),i+=3);return e}};if(!window.jq||"function"!=typeof jq){var jq=function(t){function e(t,e,i){var s=_.createDocumentFragment();if(i){for(var n=t.length-1;n>=0;n--)s.insertBefore(t[n],s.firstChild);e.insertBefore(s,e.firstChild)}else{for(var n=0;t.length>n;n++)s.appendChild(t[n]);e.appendChild(s)}s=null}function i(t){return t in S?S[t]:S[t]=RegExp("(^|\\s)"+t+"(\\s|$)")}function s(t){for(var e=0;t.length>e;e++)t.indexOf(t[e])!=e&&(t.splice(e,1),e--);return t}function n(t,e){var i=[];if(t==x)return i;for(;t;t=t.nextSibling)1==t.nodeType&&t!==e&&i.push(t);return i}function o(t,e){try{return e.querySelectorAll(t)}catch(i){return[]}}function r(t,e){if(t=t.trim(),"#"===t[0]&&-1==t.indexOf(".")&&-1===t.indexOf(" ")&&-1===t.indexOf(">"))e==_?l(e.getElementById(t.replace("#","")),this):l(o(t,e),this);else if("<"===t[0]&&">"===t[t.length-1]){var i=_.createElement("div");i.innerHTML=t.trim(),l(i.childNodes,this)}else l(o(t,e),this);return this}function l(t,e){if(t){if(t.nodeType)return e[e.length++]=t;for(var i=0,s=t.length;s>i;i++)e[e.length++]=t[i]}}function a(){}function c(e,i){e.os={},e.os.webkit=i.match(/WebKit\/([\d.]+)/)?!0:!1,e.os.android=i.match(/(Android)\s+([\d.]+)/)||i.match(/Silk-Accelerated/)?!0:!1,e.os.androidICS=e.os.android&&i.match(/(Android)\s4/)?!0:!1,e.os.ipad=i.match(/(iPad).*OS\s([\d_]+)/)?!0:!1,e.os.iphone=!e.os.ipad&&i.match(/(iPhone\sOS)\s([\d_]+)/)?!0:!1,e.os.webos=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/)?!0:!1,e.os.touchpad=e.os.webos&&i.match(/TouchPad/)?!0:!1,e.os.ios=e.os.ipad||e.os.iphone,e.os.playbook=i.match(/PlayBook/)?!0:!1,e.os.blackberry=e.os.playbook||i.match(/BlackBerry/)?!0:!1,e.os.blackberry10=e.os.blackberry&&i.match(/Safari\/536/)?!0:!1,e.os.chrome=i.match(/Chrome/)?!0:!1,e.os.opera=i.match(/Opera/)?!0:!1,e.os.fennec=i.match(/fennec/i)?!0:i.match(/Firefox/)?!0:!1,e.os.ie=i.match(/MSIE 10.0/i)?!0:!1,e.os.ieTouch=e.os.ie&&i.toLowerCase().match(/touch/i)?!0:!1,e.os.supportsTouch=t.DocumentTouch&&_ instanceof t.DocumentTouch||"ontouchstart"in t,e.feat={};var s=_.documentElement.getElementsByTagName("head")[0];e.feat.nativeTouchScroll=s.style["-webkit-overflow-scrolling"]!==x||e.os.chrome,e.feat.cssPrefix=e.os.webkit?"Webkit":e.os.fennec?"Moz":e.os.ie?"ms":e.os.opera?"O":"",e.feat.cssTransformStart=e.os.opera?"(":"3d(",e.feat.cssTransformEnd=e.os.opera?")":",0)",e.os.android&&!e.os.webkit&&(e.os.android=!1)}function h(t){return t._jqmid||(t._jqmid=L++)}function d(t,e,i,s){if(e=u(e),e.ns)var n=f(e.ns);return(P[h(t)]||[]).filter(function(t){return!(!t||e.e&&t.e!=e.e||e.ns&&!n.test(t.ns)||i&&t.fn!=i&&("function"!=typeof t.fn||"function"!=typeof i||""+t.fn!=""+i)||s&&t.selector!=s)})}function u(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function f(t){return RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function p(t,e,i){B.isObject(t)?B.each(t,i):t.split(/\s/).forEach(function(t){i(t,e)})}function m(t,e,i,s,n){var o=h(t),r=P[o]||(P[o]=[]);p(e,i,function(e,i){var o=n&&n(i,e),l=o||i,a=function(e){var i=l.apply(t,[e].concat(e.data));return i===!1&&e.preventDefault(),i},c=B.extend(u(e),{fn:i,proxy:a,selector:s,del:o,i:r.length});r.push(c),t.addEventListener(c.e,a,!1)})}function v(t,e,i,s){var n=h(t);p(e||"",i,function(e,i){d(t,e,i,s).forEach(function(e){delete P[n][e.i],t.removeEventListener(e.e,e.proxy,!1)})})}function g(t){var e=B.extend({originalEvent:t},t);return B.each(O,function(i,s){e[i]=function(){return this[s]=A,"stopImmediatePropagation"!=i&&"stopPropagation"!=i||(t.cancelBubble=!0,t[i])?t[i].apply(t,arguments):x},e[s]=H}),e}function y(t,e){if(e&&t.dispatchEvent){var i=B.Event("destroy",{bubbles:!1});t.dispatchEvent(i)}var s=h(t);if(s&&P[s]){for(var n in P[s])t.removeEventListener(P[s][n].e,P[s][n].proxy,!1);delete P[s]}}function b(t,e){if(t){var i=t.childNodes;if(i&&i.length>0)for(var s in i)b(i[s],e);y(t,e)}}var x,_=t.document,T=[],w=T.slice,S={},E=1,C=/^\s*<(\w+)[^>]*>/,k={},I={},M=function(t,e){if(this.length=0,!t)return this;if(t instanceof M&&e==x)return t;if(B.isFunction(t))return B(_).ready(t);if(B.isArray(t)&&t.length!=x){for(var i=0;t.length>i;i++)this[this.length++]=t[i];return this}if(B.isObject(t)&&B.isObject(e)){if(t.length==x)t.parentNode==e&&(this[this.length++]=t);else for(var i=0;t.length>i;i++)t[i].parentNode==e&&(this[this.length++]=t[i]);return this}if(B.isObject(t)&&e==x)return this[this.length++]=t,this;if(e!==x){if(e instanceof M)return e.find(t)}else e=_;return this.selector(t,e)},B=function(t,e){return new M(t,e)};B.is$=function(t){return t instanceof M},B.map=function(t,e){var i,s,n,o=[];if(B.isArray(t))for(s=0;t.length>s;s++)i=e(t[s],s),i!==x&&o.push(i);else if(B.isObject(t))for(n in t)t.hasOwnProperty(n)&&(i=e(t[n],n),i!==x&&o.push(i));return B([o])},B.each=function(t,e){var i,s;if(B.isArray(t)){for(i=0;t.length>i;i++)if(e(i,t[i])===!1)return t}else if(B.isObject(t))for(s in t)if(t.hasOwnProperty(s)&&e(s,t[s])===!1)return t;return t},B.extend=function(t){if(t==x&&(t=this),1===arguments.length){for(var e in t)this[e]=t[e];return this}return w.call(arguments,1).forEach(function(e){for(var i in e)t[i]=e[i]}),t},B.isArray=function(t){return t instanceof Array&&t.push!=x},B.isFunction=function(t){return"function"==typeof t},B.isObject=function(t){return"object"==typeof t},B.fn=M.prototype={constructor:M,forEach:T.forEach,reduce:T.reduce,push:T.push,indexOf:T.indexOf,concat:T.concat,selector:r,oldElement:x,slice:T.slice,setupOld:function(t){return t==x?B():(t.oldElement=this,t)},map:function(t){var e,i,s=[];for(i=0;this.length>i;i++)e=t(i,this[i]),e!==x&&s.push(e);return B([s])},each:function(t){return this.forEach(function(e,i){t.call(e,i,e)}),this},ready:function(t){return"complete"===_.readyState||"loaded"===_.readyState||!B.os.ie&&"interactive"===_.readyState?t():_.addEventListener("DOMContentLoaded",t,!1),this},find:function(t){if(0===this.length)return this;for(var e,i=[],n=0;this.length>n;n++){e=B(t,this[n]);for(var o=0;e.length>o;o++)i.push(e[o])}return B(s(i))},html:function(t,e){if(0===this.length)return this;if(t===x)return this[0].innerHTML;for(var i=0;this.length>i;i++)e!==!1&&B.cleanUpContent(this[i],!1,!0),this[i].innerHTML=t;return this},text:function(t){if(0===this.length)return this;if(t===x)return this[0].textContent;for(var e=0;this.length>e;e++)this[e].textContent=t;return this},css:function(e,i,s){var n=s!=x?s:this[0];if(0===this.length)return this;if(i==x&&"string"==typeof e)return t.getComputedStyle(n),n.style[e]?n.style[e]:t.getComputedStyle(n)[e];for(var o=0;this.length>o;o++)if(B.isObject(e))for(var r in e)this[o].style[r]=e[r];else this[o].style[e]=i;return this},vendorCss:function(t,e,i){return this.css(B.feat.cssPrefix+t,e,i)},empty:function(){for(var t=0;this.length>t;t++)B.cleanUpContent(this[t],!1,!0),this[t].innerHTML="";return this},hide:function(){if(0===this.length)return this;for(var t=0;this.length>t;t++)"none"!=this.css("display",null,this[t])&&(this[t].setAttribute("jqmOldStyle",this.css("display",null,this[t])),this[t].style.display="none");return this},show:function(){if(0===this.length)return this;for(var t=0;this.length>t;t++)"none"==this.css("display",null,this[t])&&(this[t].style.display=this[t].getAttribute("jqmOldStyle")?this[t].getAttribute("jqmOldStyle"):"block",this[t].removeAttribute("jqmOldStyle"));return this},toggle:function(e){for(var i=e===!0?!0:!1,s=0;this.length>s;s++)"none"!==t.getComputedStyle(this[s]).display||e!==x&&i===!1?(this[s].setAttribute("jqmOldStyle",this[s].style.display),this[s].style.display="none"):(this[s].style.display=this[s].getAttribute("jqmOldStyle")!=x?this[s].getAttribute("jqmOldStyle"):"block",this[s].removeAttribute("jqmOldStyle"));return this},val:function(t){if(0===this.length)return t===x?x:this;if(t==x)return this[0].value;for(var e=0;this.length>e;e++)this[e].value=t;return this},attr:function(t,e){if(0===this.length)return e===x?x:this;if(e===x&&!B.isObject(t)){var i=this[0].jqmCacheId&&k[this[0].jqmCacheId][t]?this[0].jqmCacheId&&k[this[0].jqmCacheId][t]:this[0].getAttribute(t);return i}for(var s=0;this.length>s;s++)if(B.isObject(t))for(var n in t)B(this[s]).attr(n,t[n]);else B.isArray(e)||B.isObject(e)||B.isFunction(e)?(this[s].jqmCacheId||(this[s].jqmCacheId=B.uuid()),k[this[s].jqmCacheId]||(k[this[s].jqmCacheId]={}),k[this[s].jqmCacheId][t]=e):null==e&&e!==x?(this[s].removeAttribute(t),this[s].jqmCacheId&&k[this[s].jqmCacheId][t]&&delete k[this[s].jqmCacheId][t]):this[s].setAttribute(t,e);return this},removeAttr:function(t){for(var e=this,i=0;this.length>i;i++)t.split(/\s+/g).forEach(function(s){e[i].removeAttribute(s),e[i].jqmCacheId&&k[e[i].jqmCacheId][t]&&delete k[e[i].jqmCacheId][t]});return this},prop:function(t,e){if(0===this.length)return e===x?x:this;if(e===x&&!B.isObject(t)){var i,s=this[0].jqmCacheId&&I[this[0].jqmCacheId][t]?this[0].jqmCacheId&&I[this[0].jqmCacheId][t]:!(i=this[0][t])&&t in this[0]?this[0][t]:i;return s}for(var n=0;this.length>n;n++)if(B.isObject(t))for(var o in t)B(this[n]).prop(o,t[o]);else B.isArray(e)||B.isObject(e)||B.isFunction(e)?(this[n].jqmCacheId||(this[n].jqmCacheId=B.uuid()),I[this[n].jqmCacheId]||(I[this[n].jqmCacheId]={}),I[this[n].jqmCacheId][t]=e):null==e&&e!==x?B(this[n]).removeProp(t):this[n][t]=e;return this},removeProp:function(t){for(var e=this,i=0;this.length>i;i++)t.split(/\s+/g).forEach(function(s){e[i][s]&&delete e[i][s],e[i].jqmCacheId&&I[e[i].jqmCacheId][t]&&delete I[e[i].jqmCacheId][t]});return this},remove:function(t){var e=B(this).filter(t);if(e==x)return this;for(var i=0;e.length>i;i++)B.cleanUpContent(e[i],!0,!0),e[i].parentNode.removeChild(e[i]);return this},addClass:function(t){for(var e=0;this.length>e;e++){var i=this[e].className,s=[],n=this;t.split(/\s+/g).forEach(function(t){n.hasClass(t,n[e])||s.push(t)}),this[e].className+=(i?" ":"")+s.join(" "),this[e].className=this[e].className.trim()}return this},removeClass:function(t){for(var e=0;this.length>e;e++){if(t==x)return this[e].className="",this;var s=this[e].className;t.split(/\s+/g).forEach(function(t){s=s.replace(i(t)," ")}),this[e].className=s.length>0?s.trim():""}return this},replaceClass:function(t,e){for(var s=0;this.length>s;s++)if(t!=x){var n=this[s].className;t.split(/\s+/g).concat(e.split(/\s+/g)).forEach(function(t){n=n.replace(i(t)," ")}),n=n.trim(),this[s].className=n.length>0?(n+" "+e).trim():e}else this[s].className=e;return this},hasClass:function(t,e){return 0===this.length?!1:(e||(e=this[0]),i(t).test(e.className))},append:function(i,s){if(i&&i.length!=x&&0===i.length)return this;(B.isArray(i)||B.isObject(i))&&(i=B(i));var n;for(n=0;this.length>n;n++)if(i.length&&"string"!=typeof i)i=B(i),e(i,this[n],s);else{var o=C.test(i)?B(i):x;(o==x||0==o.length)&&(o=_.createTextNode(i)),o.nodeName==x||"script"!=o.nodeName.toLowerCase()||o.type&&"text/javascript"!==o.type.toLowerCase()?o instanceof M?e(o,this[n],s):s!=x?this[n].insertBefore(o,this[n].firstChild):this[n].appendChild(o):t.eval(o.innerHTML)}return this},appendTo:function(t){var e=B(t);return e.append(this),this},prependTo:function(t){var e=B(t);return e.append(this,!0),this},prepend:function(t){return this.append(t,1)},insertBefore:function(t,e){if(0==this.length)return this;if(t=B(t).get(0),!t)return this;for(var i=0;this.length>i;i++)e?t.parentNode.insertBefore(this[i],t.nextSibling):t.parentNode.insertBefore(this[i],t);return this},insertAfter:function(t){this.insertBefore(t,!0)},get:function(t){return t=t==x?0:t,0>t&&(t+=this.length),this[t]?this[t]:x},offset:function(){if(0===this.length)return this;if(this[0]==t)return{left:0,top:0,right:0,bottom:0,width:t.innerWidth,height:t.innerHeight};var e=this[0].getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,right:e.right+t.pageXOffset,bottom:e.bottom+t.pageYOffset,width:e.right-e.left,height:e.bottom-e.top}},height:function(e){if(0===this.length)return this;if(e!=x)return this.css("height",e);if(this[0]==this[0].window)return t.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var i=this.css("height").replace("px","");return i?i:this.offset().height},width:function(e){if(0===this.length)return this;if(e!=x)return this.css("width",e);if(this[0]==this[0].window)return t.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var i=this.css("width").replace("px","");return i?i:this.offset().width},parent:function(t,e){if(0==this.length)return this;for(var i=[],n=0;this.length>n;n++)for(var o=this[n];o.parentNode&&o.parentNode!=_&&(i.push(o.parentNode),o.parentNode&&(o=o.parentNode),e););return this.setupOld(B(s(i)).filter(t))},parents:function(t){return this.parent(t,!0)},children:function(t){if(0==this.length)return this;for(var e=[],i=0;this.length>i;i++)e=e.concat(n(this[i].firstChild));return this.setupOld(B(e).filter(t))},siblings:function(t){if(0==this.length)return this;for(var e=[],i=0;this.length>i;i++)this[i].parentNode&&(e=e.concat(n(this[i].parentNode.firstChild,this[i])));return this.setupOld(B(e).filter(t))},closest:function(t,e){if(0==this.length)return this;var i=this[0],s=B(t,e);if(0==s.length)return B();for(;i&&-1==s.indexOf(i);)i=i!==e&&i!==_&&i.parentNode;return B(i)},filter:function(t){if(0==this.length)return this;if(t==x)return this;for(var e=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&B(t,n.parentNode).indexOf(n)>=0&&e.push(n)}return this.setupOld(B(s(e)))},not:function(t){if(0==this.length)return this;for(var e=[],i=0;this.length>i;i++){var n=this[i];n.parentNode&&-1==B(t,n.parentNode).indexOf(n)&&e.push(n)}return this.setupOld(B(s(e)))},data:function(t,e){return this.attr("data-"+t,e)},end:function(){return this.oldElement!=x?this.oldElement:B()},clone:function(t){if(t=t===!1?!1:!0,0==this.length)return this;for(var e=[],i=0;this.length>i;i++)e.push(this[i].cloneNode(t));return B(e)},size:function(){return this.length},serialize:function(){if(0==this.length)return"";for(var t=[],e=0;this.length>e;e++)this.slice.call(this[e].elements).forEach(function(e){var i=e.getAttribute("type");if("fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||e.checked)&&e.getAttribute("name"))if("select-multiple"==e.type)for(var s=0;e.options.length>s;s++)e.options[s].selected&&t.push(e.getAttribute("name")+"="+encodeURIComponent(e.options[s].value));else t.push(e.getAttribute("name")+"="+encodeURIComponent(e.value))});return t.join("&")},eq:function(t){return B(this.get(t))},index:function(t){return t?this.indexOf(B(t)[0]):this.parent().children().indexOf(this[0])},is:function(t){return!!t&&this.filter(t).length>0}};var j={type:"GET",beforeSend:a,success:a,error:a,complete:a,context:x,timeout:0,crossDomain:null};B.jsonP=function(e){var i,s="jsonp_callback"+ ++E,n="",o=_.createElement("script");return t[s]=function(r){clearTimeout(n),B(o).remove(),delete t[s],e.success.call(i,r)},o.src=e.url.replace(/=\?/,"="+s),e.error&&(o.onerror=function(){clearTimeout(n),e.error.call(i,"","error")}),B("head").append(o),e.timeout>0&&(n=setTimeout(function(){e.error.call(i,"","timeout")},e.timeout)),{}},B.ajax=function(e){var i;try{var s=e||{};for(var n in j)s[n]===x&&(s[n]=j[n]);if(s.url||(s.url=t.location),s.contentType||(s.contentType="application/x-www-form-urlencoded"),s.headers||(s.headers={}),"async"in s&&s.async===!1||(s.async=!0),s.dataType)switch(s.dataType){case"script":s.dataType="text/javascript, application/javascript";break;case"json":s.dataType="application/json";break;case"xml":s.dataType="application/xml, text/xml";break;case"html":s.dataType="text/html";break;case"text":s.dataType="text/plain";break;default:s.dataType="text/html";break;case"jsonp":return B.jsonP(e)}else s.dataType="text/html";if(B.isObject(s.data)&&(s.data=B.param(s.data)),"get"===s.type.toLowerCase()&&s.data&&(s.url+=-1===s.url.indexOf("?")?"?"+s.data:"&"+s.data),/=\?/.test(s.url))return B.jsonP(s);null===s.crossDomain&&(s.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(s.url)&&RegExp.$2!=t.location.host),s.crossDomain||(s.headers=B.extend({"X-Requested-With":"XMLHttpRequest"},s.headers));var o,r=s.context,l=/^([\w-]+:)\/\//.test(s.url)?RegExp.$1:t.location.protocol;i=new t.XMLHttpRequest,i.onreadystatechange=function(){var t=s.dataType;if(4===i.readyState){clearTimeout(o);var e,n=!1;if(i.status>=200&&300>i.status||0===i.status&&"file:"==l){if("application/json"!==t||/^\s*$/.test(i.responseText))"application/xml, text/xml"===t?e=i.responseXML:"text/html"==t?(e=i.responseText,B.parseJS(e)):e=i.responseText;else try{e=JSON.parse(i.responseText)}catch(a){n=a}0===i.status&&0===e.length&&(n=!0),n?s.error.call(r,i,"parsererror",n):s.success.call(r,e,"success",i)}else n=!0,s.error.call(r,i,"error");s.complete.call(r,i,n?"error":"success")}},i.open(s.type,s.url,s.async),s.withCredentials&&(i.withCredentials=!0),s.contentType&&(s.headers["Content-Type"]=s.contentType);for(var c in s.headers)i.setRequestHeader(c,s.headers[c]);if(s.beforeSend.call(r,i,s)===!1)return i.abort(),!1;s.timeout>0&&(o=setTimeout(function(){i.onreadystatechange=a,i.abort(),s.error.call(r,i,"timeout")},s.timeout)),i.send(s.data)}catch(h){s.error.call(r,i,"error",h)}return i},B.get=function(t,e){return this.ajax({url:t,success:e})},B.post=function(t,e,i,s){return"function"==typeof e&&(i=e,e={}),s===x&&(s="html"),this.ajax({url:t,type:"POST",data:e,dataType:s,success:i})},B.getJSON=function(t,e,i){return"function"==typeof e&&(i=e,e={}),this.ajax({url:t,data:e,success:i,dataType:"json"})},B.param=function(t,e){var i=[];if(t instanceof M)t.each(function(){var t=e?e+"[]":this.id,s=this.value;i.push(t+"="+encodeURIComponent(s))});else for(var s in t){var n=e?e+"["+s+"]":s,o=t[s];i.push(B.isObject(o)?B.param(o,n):n+"="+encodeURIComponent(o))}return i.join("&")},B.parseJSON=function(t){return JSON.parse(t)},B.parseXML=function(t){return(new DOMParser).parseFromString(t,"text/xml")},c(B,navigator.userAgent),B.__detectUA=c,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+|\s+$/,""),this}),B.uuid=function(){var t=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},B.getCssMatrix=function(e){if(e==x)return t.WebKitCSSMatrix||t.MSCSSMatrix||{a:0,b:0,c:0,d:0,e:0,f:0};try{if(t.WebKitCSSMatrix)return new WebKitCSSMatrix(t.getComputedStyle(e).webkitTransform);if(t.MSCSSMatrix)return new MSCSSMatrix(t.getComputedStyle(e).transform);var i=t.getComputedStyle(e)[B.feat.cssPrefix+"Transform"].replace(/[^0-9\-.,]/g,"").split(",");return{a:+i[0],b:+i[1],c:+i[2],d:+i[3],e:+i[4],f:+i[5]}}catch(s){return{a:0,b:0,c:0,d:0,e:0,f:0}}};var P={},L=1;B.event={add:m,remove:v},B.fn.bind=function(t,e){for(var i=0;this.length>i;i++)m(this[i],t,e);return this},B.fn.unbind=function(t,e){for(var i=0;this.length>i;i++)v(this[i],t,e);return this},B.fn.one=function(t,e){return this.each(function(i,s){m(this,t,e,null,function(t,e){return function(){var i=t.apply(s,arguments);return v(s,e,t),i}})})};var A=function(){return!0},H=function(){return!1},O={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};B.fn.delegate=function(t,e,i){for(var s=0;this.length>s;s++){var n=this[s];m(n,e,i,t,function(e){return function(i){var s,o=B(i.target).closest(t,n).get(0);return o?(s=B.extend(g(i),{currentTarget:o,liveFired:n}),e.apply(o,[s].concat([].slice.call(arguments,1)))):x}})}return this},B.fn.undelegate=function(t,e,i){for(var s=0;this.length>s;s++)v(this[s],e,i,t);return this},B.fn.on=function(t,e,i){return e===x||B.isFunction(e)?this.bind(t,e):this.delegate(e,t,i)},B.fn.off=function(t,e,i){return e===x||B.isFunction(e)?this.unbind(t,e):this.undelegate(e,t,i)},B.fn.trigger=function(t,e,i){"string"==typeof t&&(t=B.Event(t,i)),t.data=e;for(var s=0;this.length>s;s++)this[s].dispatchEvent(t);return this},B.Event=function(t,e){var i=_.createEvent("Events"),s=!0;if(e)for(var n in e)"bubbles"==n?s=!!e[n]:i[n]=e[n];return i.initEvent(t,s,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},B.bind=function(t,e,i){t.__events||(t.__events={}),B.isArray(e)||(e=[e]);for(var s=0;e.length>s;s++)t.__events[e[s]]||(t.__events[e[s]]=[]),t.__events[e[s]].push(i)},B.trigger=function(t,e,i){var s=!0;if(!t.__events)return s;B.isArray(e)||(e=[e]),B.isArray(i)||(i=[]);for(var n=0;e.length>n;n++)if(t.__events[e[n]])for(var o=t.__events[e[n]],r=0;o.length>r;r++)B.isFunction(o[r])&&o[r].apply(t,i)===!1&&(s=!1);return s},B.unbind=function(t,e,i){if(t.__events){B.isArray(e)||(e=[e]);for(var s=0;e.length>s;s++)if(t.__events[e[s]])for(var n=t.__events[e[s]],o=0;n.length>o;o++)if(i==x&&delete n[o],n[o]==i){n.splice(o,1);break}}},B.proxy=function(t,e,i){return function(){return i?t.apply(e,i):t.apply(e,arguments)}};var D=function(t,e){for(var i=0;t.length>i;i++)b(t[i],e)};B.cleanUpContent=function(t,e,i){if(t){var s=t.childNodes;s&&s.length>0&&B.asap(D,{},[w.apply(s,[0]),i]),e&&y(t,i)}};var Y=[],q=[],N=[];B.asap=function(e,i,s){if(!B.isFunction(e))throw"$.asap - argument is not a valid function";Y.push(e),q.push(i?i:{}),N.push(s?s:[]),t.postMessage("jqm-asap","*")},t.addEventListener("message",function(e){e.source==t&&"jqm-asap"==e.data&&(e.stopPropagation(),Y.length>0&&Y.shift().apply(q.shift(),N.shift()))},!0);var F={};return B.parseJS=function(e){if(e){if("string"==typeof e){var i=_.createElement("div");i.innerHTML=e,e=i}var s=e.getElementsByTagName("script");e=null;for(var n=0;s.length>n;n++)if(s[n].src.length>0&&!F[s[n].src]){var o=_.createElement("script");o.type=s[n].type,o.src=s[n].src,_.getElementsByTagName("head")[0].appendChild(o),F[s[n].src]=1,o=null}else t.eval(s[n].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(t){B.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),B}(window);"$"in window||(window.$=jq),window.numOnly||(window.numOnly=function numOnly(t){if(void 0===t||""===t)return 0;if(isNaN(parseFloat(t))){if(!t.replace)return 0;t=t.replace(/[^0-9.-]/,"")}return parseFloat(t)})}(function(t){var e=window.location.hash,i=e,s=function(){this.availableTransitions={},this.availableTransitions["default"]=this.availableTransitions.none=this.noTransition};s.prototype={header_id:"#header",footer_id:"#footer",content_id:"#content",panel_id:"#panel",side_menu_id:"#side_menu",left_button_id:"#top_left_button",right_button_id:"#top_right_button",active_footer_button_id:"",active_footer_class:"active_footer_button",title_id:"#title",ui_kit_container_id:"#ui_kit",starting_panel_id:"#starting_panel",default_header_content:"",default_footer_content:"",default_side_menu_content:"",last_click:"",cached_pages:[],pages_created:0,pages_in_dom:0,delete_queue:{},on_unload:null,load_content_queue:[],footer:"",header:"",ui_kit_container:"",left_button:"",history:[],homeDiv:"",screen_width:"",content_string:"",modal_window:"",custom_footer:!1,default_footer:"",default_header:null,custom_menu:!1,default_menu:"",_readyFunc:null,doing_transition:!1,password_box:t.password_box?new t.password_box:!1,select_box:t.select_box?t.select_box:!1,ajax_url:"",transition_effect:"fade",scrolling_divs:[],firstDiv:"",has_launched:!1,launch_completed:!1,active_div:"",custom_click_handler:"",menu_animation:null,side_menu_displayed:!1,show_footer_menu:!0,auto_launch:!0,showBackbutton:!0,left_button_text:"Back",reset_scrollers:!0,load_default_hash:!0,useAjaxCacheBuster:!1,autoBoot:function(){this.auto_launch&&this.launch()},launch:function(){if(!this.has_launched){this.has_launched=!0;var s=this;this.ui_kit_container=t(this.ui_kit_container_id),this.footer=t(this.footer_id).get(0),this.content_string=t(this.content_id).get(0),this.header=t(this.header_id).get(0),this.left_button=t(this.left_button_id).get(0),this.right_button=t(this.right_button_id).get(0),this.menu=t(this.side_menu_id).get(0),this.ui_kit_container[0].addEventListener("click",function(e){t.ui.checkAnchorClick(e,e.target)},!1),this.os_specific_fixes(),t(document).on("click",".back_button",function(){s.go_back()});var n=t(this.starting_panel_id)[0],o=n,r=n.previousSibling;if(n.parentNode.removeChild(n),this.addDivAndScroll(o),t(this.starting_panel_id).insertAfter(r),this.firstDiv=t(this.starting_panel_id).get(0),n=null,this.firstDiv){s=this,this.active_div=this.firstDiv,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable();var l=function(){s.default_header=t("#header").children().clone();var n=s.get_panel_id_from_hash(e);n.length>0&&s.load_default_hash&&n!=="#"+s.firstDiv.id&&t(n).length>0?s.load_content(e,!0,!1,"none"):(i="#"+s.firstDiv.id,s.loadContentData(s.firstDiv),s.firstDiv.style.display="block",t("#header #left_button").css("visibility","hidden")),s.launch_completed=!0,t(document).trigger("$.ui.ready")};l()}s=this,t.bind(s,"content-loaded",function(){if(s.load_content_queue.length>0){var t=s.load_content_queue.splice(0,1)[0];s.load_content(t[0],t[1],t[2],t[3],t[4])}}),window.navigator.standalone&&this.blockPageScroll(),this.topClickScroll()}},toggle_visibility:function(e,i){return i===!0?(t(e).show(),void 0):i===!1?(t(e).hide(),void 0):(t(e).toggle(),void 0)},dispose:function(){},set_element:function(e,i){i&&i!==e?(e=t(e),e.html(t(i).html()),e.children().show()):i===e?t(e).children().show():i||t(e).children().hide()},set_active_footer_button:function(e){t(this.current_footer_button_id).removeClass(this.active_footer_class),t(e).addClass(this.active_footer_class),this.current_footer_button_id=e},set_footer:function(e){e?(t(this.footer_id).hide(),this.footer_id=e,t(e).show()):t(this.footer_id).hide()},toggle_footer_menu:function(e){"none"!==t(this.footer_id).css("display")&&(void 0!==e&&e!==!0||void 0===e)?(t("#content").css("bottom","0px"),t(this.footer_id).hide()):(void 0===e||void 0!==e&&e===!0)&&(t(this.footer_id).show(),t("#content").css("bottom",t(this.footer_id).css("height")))},set_header:function(t){t?(this.set_element(this.header_id,t),this.toggle_header_menu(!0)):this.toggle_header_menu(!1)},toggle_header_menu:function(e){"none"!==t("#header").css("display")&&(void 0!==e&&e!==!0||void 0===e)?t("#header").hide():(void 0===e||void 0!==e&&e===!0)&&t(this.header_id).show()},set_left_button:function(t){this.set_element(this.left_button_id,t)},set_right_button:function(t){this.set_element(this.right_button_id,t)},os_specific_fixes:function(){var e=this,i=null;t.bind(t.touch_layer,"enter-edit",function(t){i=t}),t.bind(t.touch_layer,"enter-edit-reshape",function(){var s=t(i),n=s.closest(e.active_div);if(n&&n.size()>0)if(t.os.ios||t.os.chrome){var o,r;o=document.body.scrollTop?document.body.scrollTop-n.offset().top:0,r=n.offset().bottom-s.offset().bottom,e.scrolling_divs[e.active_div.id].setPaddings(o,r)}else if(t.os.android||t.os.blackberry){var l=s.offset(),a=n.offset();l.bottom>a.bottom&&l.height<a.height&&e.scrolling_divs[e.active_div.id].scrollToItem(s,"bottom")}}),t.os.ios&&t.bind(t.touch_layer,"exit-edit-reshape",function(){e.scrolling_divs[e.active_div.id].setPaddings(0,0)})},css3animate:function(e,i){return e=t(e),e.css3Animate(i)},actionsheet:function(e){return t("#ui_kit").actionsheet(e)},popup:function(e){return t("#ui_kit").popup(e)},ready:function(t){this.launch_completed?t():document.addEventListener("$.ui.ready",function(){t(),this.removeEventListener("$.ui.ready",arguments.callee)},!1)},go_back:function(){if(this.history.length>0){this.history.pop();var e=this.history.pop();t.mvc.route(e)}},clear_history:function(){this.history=[]},get_panel_id_from_hash:function(t){var e=t.indexOf("/");return-1===e?t:t.substring(0,e)},update_content_div:function(e,i){e="#"+e.replace("#","");var s=t(e).get(0);if(s){var n=document.createElement("div");n.innerHTML=i,t(n).children(".panel")&&t(n).children(".panel").length>0&&(n=t(n).children(".panel").get()),s.getAttribute("js-scrolling")&&"yes"===s.getAttribute("js-scrolling").toLowerCase()?(t.cleanUpContent(s.childNodes[0],!1,!0),s.childNodes[0].innerHTML=i):(t.cleanUpContent(s,!1,!0),s.innerHTML=i),t(n).title&&(s.title=t(n).title)}},add_content_div:function(e,i,s,n){e="string"!=typeof e?e:-1===e.indexOf("#")?"#"+e:e;var o,r,l=t(e).get(0);return l?o=l:(o=document.createElement("div"),o.innerHTML=i,t(o).children(".panel")&&t(o).children(".panel").length>0&&(o=t(o).children(".panel").get()),!o.title&&s&&(o.title=s),r=o.id?o.id:e.replace("#",""),o.id=r),o.className="panel",r=o.id,this.addDivAndScroll(o,n),l=null,o=null,r},load_content:function(t,e,i,s,n){if(this.doing_transition)this.load_content_queue.push([t,e,i,s,n]);else{if(0===t.length)return;this.loadDiv(t,e,i,s)}},loadDiv:function(e,i,s,n){e=e.replace("#","");var o=e.indexOf("/");-1!==o&&(e=e.substr(0,o));var r=t("#"+e).get(0);if(!r)return 0;this.transition_effect=n;var l=this.active_div;if(l!==r){i&&this.clear_history(),this.doing_transition=!0,l.style.display="block",r.style.display="block",this.runTransition(n,l,r,s),this.loadContentData(r);var a=this;setTimeout(function(){a.scrolling_divs[l.id]&&a.scrolling_divs[l.id].disable()},200)}},loadContentData:function(e){e.title&&t(this.title_id).html(e.title),this.active_div=e,this.scrolling_divs[this.active_div.id]&&this.scrolling_divs[this.active_div.id].enable(this.reset_scrollers)},runTransition:function(t,e,i,s){this.availableTransitions[t]||(t="default"),this.availableTransitions[t].call(this,e,i,s)},addDivAndScroll:function(e,i){var s,n=!1,o=e.style.overflow,r="hidden"!==o&&"visible"!==o,l=this.content_string;!t.feat.nativeTouchScroll&&r&&e.setAttribute("js-scrolling","yes"),e.getAttribute("js-scrolling")&&"yes"===e.getAttribute("js-scrolling").toLowerCase()&&(n=!0,r=!0),e.getAttribute("scrolling")&&"no"===e.getAttribute("scrolling")&&(r=!1,n=!1,e.removeAttribute("js-scrolling")),n?(s=e.cloneNode(!1),e.title=null,e.id=null,t(e).replaceClass("panel","jqmScrollPanel"),s.appendChild(e),l.appendChild(s),this.select_box!==!1&&this.select_box.getOldSelects(s.id),this.password_box!==!1&&this.password_box.getOldPasswords(s.id)):(l.appendChild(e),s=e,e.style["-webkit-overflow-scrolling"]="none"),r&&(this.scrolling_divs[s.id]=t(e).scroller({scrollBars:!0,verticalScroll:!0,horizontalScroll:!1,vScrollCSS:"jqmScrollbar",refresh:i,useJsScroll:n,noParent:!n,autoEnable:!1})),e=null,s=null},scrollToTop:function(t){this.scrolling_divs[t]&&this.scrolling_divs[t].scrollToTop("300ms")
},scrollToBottom:function(t){this.scrolling_divs[t]&&this.scrolling_divs[t].scrollToBottom("300ms")},topClickScroll:function(){document.getElementById("header").addEventListener("click",function(e){15>=e.clientY&&"h1"===e.target.nodeName.toLowerCase()&&t.ui.scrolling_divs[t.ui.active_div.id].scrollToTop("100")})},blockPageScroll:function(){t("#ui_kit #header").bind("touchmove",function(t){t.preventDefault()})},noTransition:function(t,e){e.style.display="block",t.style.display="block";var i=this;i.clearAnimations(e),i.css3animate(t,{x:"0%",y:0}),i.finishTransition(t),e.style.zIndex=2,t.style.zIndex=1},finishTransition:function(e,i){e.style.display="none",this.doing_transition=!1,i&&this.clearAnimations(i),e&&this.clearAnimations(e),t.trigger(this,"content-loaded")},clearAnimations:function(e){e.style[t.feat.cssPrefix+"Transform"]="none",e.style[t.feat.cssPrefix+"Transition"]="none"}},t.ui=new s})(jq),function(t){t.ui.checkAnchorClick=function(e,i){return i!==t.ui.ui_kit_container_id?i.tagName&&"a"!==i.tagName.toLowerCase()&&i.parentNode?t.ui.checkAnchorClick(e,i.parentNode):i.tagName&&"a"===i.tagName.toLowerCase()&&t.mvc.route(i)?e.preventDefault():void 0:void 0}}(jq),function(t){t.fn.actionsheet=function(t){for(var i,s=0;this.length>s;s++)i=new e(this[s],t);return 1==this.length?i:this};var e=function(){var e=function(i,s){if(this.element="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.element)return alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof e))return new e(i,s);if("object"==typeof s)for(var n in s)this[n]=s[n];try{var o,r=this,l='<div id="jq_actionsheet"><div style="width:100%">',a="</div></div>";if("string"==typeof s)o=t(l+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+a);else if("object"==typeof s){o=t(l+a);var c=t(o.children().get());s.push({text:"Cancel",cssClasses:"cancel"});for(var h=0;s.length>h;h++){var d=t('<a href="javascript:;" >'+(s[h].text||"TEXT NOT ENTERED")+"</a>");d[0].onclick=s[h].handler||function(){},s[h].cssClasses&&s[h].cssClasses.length>0&&d.addClass(s[h].cssClasses),c.append(d)}}t(i).find("#jq_actionsheet").remove(),t(i).find("#jq_action_mask").remove(),actionsheetEl=t(i).append(o),o.get().style[t.feat.cssPrefix+"Transition"]="all 0ms",o.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,0"+t.feat.cssTransformEnd),o.css("top",window.innerHeight+"px"),this.element.style.overflow="hidden",o.on("click","a",function(){r.hideSheet()}),this.activeSheet=o,t(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){o.get().style[t.feat.cssPrefix+"Transition"]="all 300ms",o.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,"+-o.height()+"px"+t.feat.cssTransformEnd)},10)}catch(u){alert("error adding actionsheet"+u)}};return e.prototype={activeSheet:null,hideSheet:function(){var e=this;this.activeSheet.off("click","a",function(){e.hideSheet()}),t(this.element).find("#jq_action_mask").remove(),this.activeSheet.get().style[t.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,s=this.element;setTimeout(function(){i.get().style[t.feat.cssPrefix+"Transition"]="all 300ms",i.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,0px"+t.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},e}()}(jq),function(t){t.get_with_token=function(e){t.ajax({type:"GET",dataType:"application/json",headers:{Authorization:current_user.token},url:server+e.api_url,data:e.data,success:e.success,error:e.error})},t.post_with_token=function(e){t.ajax({type:"POST",dataType:"application/json",headers:{Authorization:current_user.token},url:server+e.api_url,data:e.data,success:e.success,error:e.error})},t.put_with_token=function(e){t.ajax({type:"PUT",dataType:"application/json",headers:{Authorization:current_user.token},url:server+e.api_url,data:e.data,success:e.success,error:e.error})}}(jq),function(t){var e=[],i=function(e){return e.jqmCSS3AnimateId||(e.jqmCSS3AnimateId=t.uuid()),e.jqmCSS3AnimateId},s=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):t.is$(e)?e[0]:e},n=function(t,n){var o,r,l=s(t);return r=i(l),e[r]?(e[r].animate(n),o=e[r]):(o=a(l,n),e[r]=o),o};t.fn.css3Animate=function(t){!t.complete&&t.callback&&(t.complete=t.callback);var e=n(this[0],t);t.complete=null,t.sucess=null,t.failure=null;for(var i=1;this.length>i;i++)e.link(this[i],t);return e},t.css3AnimateQueue=function(){return new a.queue};var o=t.feat.cssTransformStart,r=t.feat.cssTransformEnd,l=t.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=t.os.fennec||""==t.feat.cssPrefix||t.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.element=s,this.linkFinishedProxy_=t.proxy(this.linkFinished,this),this.element){this.animate(n);var o=this;jq(this.element).bind("destroy",function(){var t=o.element.jqmCSS3AnimateId;o.callbacksStack=[],e[t]&&delete e[t]})}};return i.prototype={animate:function(e){if(this.isActive&&this.cancel(),this.isActive=!0,!e)return alert("Please provide configuration options for animation of "+this.element.id),void 0;var i=!!e.addClass;if(i)e.removeClass?jq(this.element).replaceClass(e.removeClass,e.addClass):jq(this.element).addClass(e.addClass);else{var s=numOnly(e.time);if(0==s&&(e.time=0),e.y||(e.y=0),e.x||(e.x=0),e.previous){var n=new t.getCssMatrix(this.element);e.y+=numOnly(n.f),e.x+=numOnly(n.e)}e.origin||(e.origin="0% 0%"),e.scale||(e.scale="1"),e.rotateY||(e.rotateY="0"),e.rotateX||(e.rotateX="0"),e.skewY||(e.skewY="0"),e.skewX||(e.skewX="0"),e.timingFunction||(e.timingFunction="linear"),("number"==typeof e.x||-1==e.x.indexOf("%")&&-1==e.x.toLowerCase().indexOf("px")&&-1==e.x.toLowerCase().indexOf("deg"))&&(e.x=parseInt(e.x)+"px"),("number"==typeof e.y||-1==e.y.indexOf("%")&&-1==e.y.toLowerCase().indexOf("px")&&-1==e.y.toLowerCase().indexOf("deg"))&&(e.y=parseInt(e.y)+"px");var a="translate"+o+e.x+","+e.y+r+" scale("+parseFloat(e.scale)+") rotate("+e.rotateX+")";t.os.opera||(a+=" rotateY("+e.rotateY+")"),a+=" skew("+e.skewX+","+e.skewY+")",this.element.style[t.feat.cssPrefix+"Transform"]=a,this.element.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=t.feat.cssPrefix+"Transform";if(void 0!==e.opacity&&(this.element.style.opacity=e.opacity,c+=", opacity"),e.width&&(this.element.style.width=e.width,c="all"),e.height&&(this.element.style.height=e.height,c="all"),this.element.style[t.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+e.time).indexOf("s"))var h="ms",d=e.time+h;else if(-1!==e.time.indexOf("ms"))var h="ms",d=e.time;else var h="s",d=e.time+h;this.element.style[t.feat.cssPrefix+"TransitionDuration"]=d,this.element.style[t.feat.cssPrefix+"TransitionTimingFunction"]=e.timingFunction,this.element.style[t.feat.cssPrefix+"TransformOrigin"]=e.origin}this.callbacksStack.push({complete:e.complete,success:e.success,failure:e.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.element);if(i){var p=f[t.feat.cssPrefix+"TransitionDuration"],s=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==s||"ms"==h&&5>s||"none"==f.display)t.asap(t.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(t){clearTimeout(u.timeout),u.finishAnimation(t),u.element.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(e.time)+50),this.element.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(t){return t&&this.callbacksStack.push(t),this.countStack++,this.linkFinishedProxy_},linkFinished:function(t){t?this.cancel():this.finishAnimation()},finishAnimation:function(t){t&&t.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(t){this.clearEvents();var e=this.callbacksStack;this.cleanup();for(var i=0;e.length>i;i++){var s=e[i].complete,n=e[i].success,o=e[i].failure;s&&"function"==typeof s&&s(t),t&&o&&"function"==typeof o?o():n&&"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.element.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(t,e){var i={complete:e.complete,success:e.success,failure:e.failure};return e.complete=this.addCallbackHook(i),e.success=null,e.failure=null,n(t,e),e.complete=i.complete,e.success=i.success,e.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(t){this.elements.push(t)},pop:function(){return this.elements.pop()},run:function(){var t=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var e=this.shift();e()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(e){e||t.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(t){t.ui.show_modal=function(e){var i=this;e="#"+e.replace("#","");try{t(e)&&(jq("#modalContainer").html(t.feat.nativeTouchScroll?t(e).html():t(e).get(0).childNodes[0].innerHTML+"",!0),t("#modalContainer").append("<a href='javascript:;' onclick='$.ui.hide_modal();' class='closebutton modalbutton'></a>"),this.modal_window.style.display="block",this.scrolling_divs.modal_container.enable(i.reset_scrollers),this.scrollToTop("modal"),t("#modalContainer").data("panel",e))}catch(s){}},t.ui.hide_modal=function(){var e=t("#modalContainer");e.html("",!0),t("#modal_ui").hide(),this.scrolling_divs.modal_container.disable();var i=t(e.data("panel")),s=i.data("unload");"string"==typeof s&&window[s]&&window[s](i.get(0))}}(jq),function(t){t.password_box=function(){return new e};var e=function(){this.oldPasswords={}};e.prototype={showPasswordPlainText:!1,getOldPasswords:function(e){var i=e&&document.getElementById(e)?document.getElementById(e):document;if(!i)return alert("Could not find container element for password_box "+e),void 0;for(var s=i.getElementsByTagName("input"),n=0;s.length>n;n++)"password"==s[n].type&&t.os.webkit&&(s[n].type="text",s[n].style["-webkit-text-security"]="disc")},changePasswordVisiblity:function(e,i){e=parseInt(e);var s=document.getElementById(i);s.style[t.cssPrefix+"text-security"]=1==e?"none":"disc",t.os.webkit||(s.type=1==e?"text":"password"),s=null}}}(jq),function(t){t.fn.popup=function(t){return new i(this[0],t)};var e=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=id=s.id=s.id||t.uuid(),this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,e.push(this),1==e.length&&this.show()}catch(n){}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var e=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";t(this.container).append(t(i));var s=t("#"+this.id);s.bind("close",function(){e.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=t(this);i.bind("click",function(t){"cancel"==i.attr("id")?(e.cancelCallback.call(e.cancelCallback,e),e.hide()):(e.doneCallback.call(e.doneCallback,e),e.autoCloseDone&&e.hide()),t.preventDefault()})}),e.positionPopup(),t.block_ui(.5),s.removeClass("hidden"),s.bind("orientationchange",function(){e.positionPopup()}),s.find("header").show(),s.find("footer").show(),this.onShow(this)},hide:function(){var e=this;t("#"+e.id).addClass("hidden"),t.unblock_ui(),setTimeout(function(){e.remove()},250)},remove:function(){var i=this,s=t("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),e.splice(0,1),e.length>0&&e[0].show()},positionPopup:function(){var e=t("#"+this.id);e.css("top",window.innerHeight/2.5+window.pageYOffset-e[0].clientHeight/2+"px"),e.css("left",window.innerWidth/2-e[0].clientWidth/2+"px")}},i}(),s=!1;t.block_ui=function(e){s||(e=e?" style='opacity:"+e+";'":"",t("BODY").prepend(t("<div id='mask'"+e+"></div>")),t("BODY DIV#mask").bind("touchstart",function(t){t.preventDefault()}),t("BODY DIV#mask").bind("touchmove",function(t){t.preventDefault()}),s=!0)},t.unblock_ui=function(){s=!1,t("BODY DIV#mask").unbind("touchstart"),t("BODY DIV#mask").unbind("touchmove"),t("BODY DIV#mask").remove()},window.alert=function(e){(null===e||void 0===e)&&(e="null"),t("#ui_kit").length>0?t("#ui_kit").popup(""+e):t(document.body).popup(""+e)}}(jq),function(t){function e(t){return n[t].element?!0:(delete n[t],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;t.bind(t.touch_layer,"pre-enter-edit",function(t){if(!i){i=!0;for(var s in n)e(s)&&n[s].needsFormsFix(t)&&n[s].startFormsMode()}}),t.bind(t.touch_layer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(var t in n)e(t)&&n[t].androidFormsMode&&n[t].stopFormsMode()}})}r=!0}var s=75,n=[],o=function(e){return e.jqmScrollerId||(e.jqmScrollerId=t.uuid()),e.jqmScrollerId};t.fn.scroller=function(e){for(var i,s,r=0;this.length>r;r++)s=o(this[r]),n[s]?i=n[s]:(e||(e={}),t.feat.nativeTouchScroll||(e.useJsScroll=!0),i=l(this[r],e),n[s]=i);return 1==this.length?i:this};var r=!1,l=function(){function e(e,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=e+"px",s.style.height=i+"px",s.style[t.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.opacity=0,s.className="scrollBar",s.style.background="black",s}var o,l,a=t.feat.cssTransformStart,c=t.feat.cssTransformEnd,h=function(e,s){if(!r&&t.touch_layer&&t.isObject(t.touch_layer)?i():t.touch_layer&&t.isObject(t.touch_layer)||(t.touch_layer={}),"string"==typeof e||e instanceof String)var n=document.getElementById(e);else var n=e;return n?jq.os.desktop?new d(n,s):s.useJsScroll?new o(n,s):new l(n,s):(alert("Could not find element for scroller "+e),void 0)},d=function(e,i){this.element=e,this.jqEl=t(this.element);for(var s in i)this[s]=i[s]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(t,e){var e=parseInt(e);if(0==e||isNaN(e))return this.element.scrollTop=Math.abs(t.y),this.element.scrollLeft=Math.abs(t.x),void 0;var i=10,s=(this.element.scrollTop-t.y)/Math.ceil(e/i),n=(this.element.scrollLeft-t.x)/Math.ceil(e/i),o=this,r=Math.ceil(this.element.scrollTop-t.y)/s,l=Math.ceil(this.element.scrollLeft-t.x)/s,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.element.scrollTop-=s,yRun++,yRun>=r&&(o.element.scrollTop=t.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.element.scrollLeft-=n,a++,a>=l&&(o.element.scrollLeft=t.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(t){this._scrollTo({x:0,y:0},t)},_scrollToBottom:function(t){this._scrollTo({x:0,y:this.element.scrollHeight-this.element.offsetHeight},t)},scrollToBottom:function(t){return this._scrollToBottom(t)},scrollToTop:function(t){return this._scrollToTop(t)},init:function(e,i){this.element=e,this.jqEl=t(this.element),this.defaultProperties();for(var s in i)this[s]=i[s];var o=this,r=function(){o.eventsActive&&o.adjustScroll()};this.jqEl.bind("destroy",function(){o.disable(!0);var e=o.element.jqmScrollerId;n[e]&&delete n[e],t.unbind(t.touch_layer,"orientationchange-reshape",r)}),t.bind(t.touch_layer,"orientationchange-reshape",r)},needsFormsFix:function(e){return this.useJsScroll&&this.isEnabled()&&"none"!=this.element.style.display&&t(e).closest(this.jqEl).size()>0},handleEvent:function(t){if(!this.scrollingLocked)switch(t.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"scroll":this.onScroll(t)}},coreAddPullToRefresh:function(e){if(e&&(this.refreshElement=e),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var s=jq(i);else var s=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var s=jq(this.refreshElement);var n=s.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),t(this.element).prepend(this.refreshContainer.append(n,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(e){if(this.refresh&&e){var i=t.trigger(this,"refresh-release",[e])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(t){jq(this.container).find(".jqscroll_refresh").html(t)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(e,i){if(t.is$(e)||(e=t(e)),"bottom"==i){var s=e.offset(),n=s.top-this.jqEl.offset().bottom+s.height;n+=4}else{var o=e.offset().top,n=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(n-=r),n-=4}this.scrollBy({y:n,x:0},0)},setPaddings:function(e,i){var s=t(this.element),n=numOnly(s.css("paddingTop"));s.css("paddingTop",e+"px").css("paddingBottom",i+"px"),this.scrollBy({y:e-n,x:0})},divide:function(t,e){return 0!=e?t/e:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,s){if(this.init(i,s),this.container=this.element.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=t(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var n=e(5,20);n.style.top="0px",this.vScrollCSS&&(n.className=this.vScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.vscrollBar=n,n=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var n=e(20,5);n.style.bottom="0px",this.hScrollCSS&&(n.className=this.hScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.hscrollBar=n,n=null}this.horizontalScroll&&(this.element.style["float"]="left"),this.element.hasScroller=!0},l=function(e,i){this.init(e,i);var s=t(e);if(i.noParent!==!0){var n=s.parent(),o=n.height();o+=-1==o.indexOf("%")?"px":"",s.css("height",o),s.parent().parent().append(s),n.remove()}this.container=this.element,s.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var t=this;this.adjustScrollOverflowProxy_=function(){t.jqEl.css("overflow","auto")}},l.prototype.enable=function(t){this.eventsActive||(this.eventsActive=!0,this.element.style.overflow="auto",t||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("scroll",this,!1))},l.prototype.disable=function(t){this.eventsActive&&(this.logPos(this.element.scrollLeft,this.element.scrollTop),t||(this.element.style.overflow="hidden"),this.element.removeEventListener("touchstart",this,!1),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.element.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(t,e){this.element.removeEventListener("touchstart",this,!1),this.element.addEventListener("touchstart",this,!1),e||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(t),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(e){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.element.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),t.trigger(this,"scrollstart",[this.element]),t.trigger(t.touch_layer,"scrollstart",[this.element])},l.prototype.onTouchMove=function(e){var i=e.touches[0].pageY-this.dY;this.moved||(this.element.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.element.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.element.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),t.trigger(this,"refresh-cancel")),this.cY=i,e.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,t.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var e=this.element.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(e,!0),e&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,s=this,n={top:this.element.scrollTop,left:this.element.scrollLeft},o=0;s.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(s.nativePolling),void 0):((s.element.scrollTop!=n.top||s.element.scrollLeft!=n.left)&&(clearInterval(s.nativePolling),t.trigger(t.touch_layer,"scrollend",[s.element]),t.trigger(s,"scrollend",[s.element])),void 0)},20)},l.prototype.hideRefresh=function(e){if(!this.preventHideRefresh){var i=this,n=function(e){e||(i.element.style[t.feat.cssPrefix+"Transform"]="none",i.element.style[t.feat.cssPrefix+"TransitionProperty"]="none",i.element.scrollTop=0,i.logPos(i.element.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,t.trigger(i,"refresh-finish")};e!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.element.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(t,e){return this.logPos(t.x,t.y),t.x*=-1,t.y*=-1,this._scrollTo(t,e)},l.prototype.scrollBy=function(t,e){return t.x+=this.element.scrollLeft,t.y+=this.element.scrollTop,this.logPos(this.element.scrollLeft,this.element.scrollTop),this._scrollTo(t,e)},l.prototype.scrollToBottom=function(t){this._scrollToBottom(t),this.logPos(this.element.scrollLeft,this.element.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.element.scrollTop)>=this.element.scrollHeight-this.element.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var e=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,t.trigger(e,"infinite-scroll-end"))},l.prototype.logPos=function(t,e){this.loggedPcentX=this.divide(t,this.element.scrollWidth),this.loggedPcentY=this.divide(e,this.element.scrollHeight),this.scrollLeft=t,this.scrollTop=e,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.element.scrollLeft=this.loggedPcentX*this.element.scrollWidth,this.element.scrollTop=this.loggedPcentY*this.element.scrollHeight,this.logPos(this.element.scrollLeft,this.element.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},o.prototype.enable=function(t){this.eventsActive||(this.eventsActive=!0,t?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var t=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.element.clientWidth-t.w)),y:Math.round(this.loggedPcentY*(this.element.clientHeight-t.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var t=this.getCSSMatrix(this.element);this.logPos(numOnly(t.e)-numOnly(this.container.scrollLeft),numOnly(t.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(t,e){e||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(t),this.element.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[t.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[t.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var t=window.getComputedStyle(this.container);return isNaN(numOnly(t.paddingTop))&&alert(typeof t.paddingTop+"::"+t.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(t.paddingTop)-numOnly(t.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(t.paddingLeft)-numOnly(t.paddingRight)}},o.prototype.onTouchStart=function(e){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==e.touches.length&&!this.boolScrollLock)){if(e.touches[0].target&&void 0!=e.touches[0].target.type){var i=e.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.element.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.element.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.element.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.element.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(e),this.saveFirstEventInfo(e);var o=this.getCSSMatrix(this.element);s.top=numOnly(o.f)-numOnly(this.container.scrollTop),s.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.element,this.refresh&&0==s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>s.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[t.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[t.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=s,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),t.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(e){if(this.androidFormsMode){var i=parseInt(e.style.marginTop),s=parseInt(e.style.marginLeft);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=t.getCssMatrix(e);return n},o.prototype.saveEventInfo=function(t){this.lastEventInfo={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:t.timeStamp}},o.prototype.saveFirstEventInfo=function(t){this.firstEventInfo={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:t.timeStamp}},o.prototype.setVScrollBar=function(t,e,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";
s!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+t.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},e,i),!0},o.prototype.setHScrollBar=function(t,e,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+t.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},e,i),!0},o.prototype.onTouchMove=function(t){if(null!=this.currentScrollingObject){var e=this.calculateMovement(t);this.calculateTarget(e),this.lastScrollInfo=e,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==e.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>e.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.doScroll()}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var e=this.getCSSMatrix(this.element);this.lastScrollInfo.top=numOnly(e.f),this.lastScrollInfo.left=numOnly(e.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||s){var n=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-n)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:s&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,t.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,t.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(t,e){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=e?this.firstEventInfo:this.lastEventInfo,n=e?t.pageX:t.touches[0].pageX,o=e?t.pageY:t.touches[0].pageY,r=e?t.time:t.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=r,i.duration=r-s.time,i},o.prototype.calculateTarget=function(t){t.y=this.lastScrollInfo.y+t.deltaY,t.x=this.lastScrollInfo.x+t.deltaX},o.prototype.checkYboundary=function(t){var e=this.container.clientHeight/2,i=this.elementInfo.maxTop+e;if(t.y>e)t.y=e;else{if(!(-t.y>i))return;t.y=-i}this.recalculateDeltaY(t)},o.prototype.checkXboundary=function(t){if(t.x>0)t.x=0;else{if(!(-t.x>this.elementInfo.maxLeft))return;t.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(t)},o.prototype.recalculateDeltaY=function(t){var e=Math.abs(t.deltaY);t.deltaY=t.y-t.top,newAbsDeltaY=Math.abs(t.deltaY),t.duration=t.duration*newAbsDeltaY/e},o.prototype.recalculateDeltaX=function(t){var e=Math.abs(t.deltaX);t.deltaX=t.x-t.left,newAbsDeltaX=Math.abs(t.deltaX),t.duration=t.duration*newAbsDeltaX/e},o.prototype.hideRefresh=function(){var e=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){t.trigger(e,"refresh-finish")}},s),this.refreshTriggered=!1)},o.prototype.setMomentum=function(t){var e=.0012;t.speedY=this.divide(t.deltaY,t.duration),t.speedX=this.divide(t.deltaX,t.duration),t.absSpeedY=Math.abs(t.speedY),t.absSpeedX=Math.abs(t.speedX),t.absDeltaY=Math.abs(t.deltaY),t.absDeltaX=Math.abs(t.deltaX),t.absDeltaY>0?(t.deltaY=(0>t.deltaY?-1:1)*t.absSpeedY*t.absSpeedY/(2*e),t.absDeltaY=Math.abs(t.deltaY),t.duration=t.absSpeedY/e,t.speedY=t.deltaY/t.duration,t.absSpeedY=Math.abs(t.speedY),(100*e>t.absSpeedY||5>t.absDeltaY)&&(t.deltaY=t.absDeltaY=t.duration=t.speedY=t.absSpeedY=0)):t.absDeltaX?(t.deltaX=(0>t.deltaX?-1:1)*t.absSpeedX*t.absSpeedX/(2*e),t.absDeltaX=Math.abs(t.deltaX),t.duration=t.absSpeedX/e,t.speedX=t.deltaX/t.duration,t.absSpeedX=Math.abs(t.speedX),(100*e>t.absSpeedX||5>t.absDeltaX)&&(t.deltaX=t.absDeltaX=t.duration=t.speedX=t.absSpeedX=0)):t.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var e=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(e),this.calculateTarget(e);var i=this.getCSSMatrix(this.element);e.top=numOnly(i.f),e.left=numOnly(i.e),this.checkYboundary(e),this.elementInfo.hasHorScroll&&this.checkXboundary(e);var n=!this.preventPullToRefresh&&(e.top>this.refreshHeight||e.y>this.refreshHeight);this.fireRefreshRelease(n,e.top>0),this.refresh&&n?(e.y=this.refreshHeight,e.duration=s):e.y>=0?(e.y=0,e.top>=0&&(e.duration=s)):(-e.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(e.y=-this.elementInfo.maxTop,-e.top>this.elementInfo.maxTop&&(e.duration=s)),this.androidFormsMode&&(e.duration=0),this.scrollerMoveCSS(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(e.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(e.y)>=this.element.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(e){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),t.trigger(t.touch_layer,"scrollend",[i.element]),t.trigger(i,"scrollend",[i.element]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&t.trigger(i,"infinite-scroll-end")},e)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var e=this.getCSSMatrix(this.element);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.element.style[t.feat.cssPrefix+"Transform"]="none",this.element.style[t.feat.cssPrefix+"Transition"]="none",this.element.style[t.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(e.e),y:numOnly(e.f)},0),this.container.style[t.feat.cssPrefix+"Perspective"]="none",this.container.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[t.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[t.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[t.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[t.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[t.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[t.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var e=this.getCSSMatrix(this.element);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.element.style[t.feat.cssPrefix+"Perspective"]=1e3,this.element.style.marginTop=0,this.element.style.marginLeft=0,this.element.style[t.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(e.e),y:numOnly(e.f)},0),this.container.style[t.feat.cssPrefix+"Perspective"]=1e3,this.container.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[t.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[t.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(e,i,s){i||(i=0),s||(s="linear"),i=numOnly(i),this.element&&this.element.style&&(this.eventsActive&&(this.androidFormsMode?(this.element.style.marginTop=Math.round(e.y)+"px",this.element.style.marginLeft=Math.round(e.x)+"px"):(this.element.style[t.feat.cssPrefix+"Transform"]="translate"+a+e.x+"px,"+e.y+"px"+c,this.element.style[t.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.element.style[t.feat.cssPrefix+"TransitionTimingFunction"]=s)),this.logPos(e.x,e.y))},o.prototype.logPos=function(t,e){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(t,this.element.clientWidth-i.w),this.loggedPcentY=this.divide(e,this.element.clientHeight-i.h),this.scrollTop=e,this.scrollLeft=t},o.prototype.scrollbarMoveCSS=function(e,i,s,n){s||(s=0),n||(n="linear"),e&&e.style&&(this.androidFormsMode?(e.style.marginTop=Math.round(i.y)+"px",e.style.marginLeft=Math.round(i.x)+"px"):(e.style[t.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,e.style[t.feat.cssPrefix+"TransitionDuration"]=s+"ms",e.style[t.feat.cssPrefix+"TransitionTimingFunction"]=n))},o.prototype.scrollTo=function(t,e){e||(e=0),this.scrollerMoveCSS(t,e)},o.prototype.scrollBy=function(t,e){var i=this.getCSSMatrix(this.element),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-t.y,x:n-t.x},e)},o.prototype.scrollToBottom=function(t){this.scrollTo({y:-1*(this.element.clientHeight-this.container.clientHeight),x:0},t)},o.prototype.scrollToTop=function(t){this.scrollTo({x:0,y:0},t)},h}()}(jq),function(t){t.select_box={scroller:null,getOldSelects:function(e){if(t.os.android&&!t.os.androidICS){if(!t.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=e&&document.getElementById(e)?document.getElementById(e):document;if(!i)return alert("Could not find container element for jq.web.select_box "+e),void 0;for(var s=i.getElementsByTagName("select"),n=this,o=0;s.length>o;o++)s[o].hasSelectBoxFix||function(e){var i=document.createElement("div"),r=window.getComputedStyle(e),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(e.style.height)>0?e.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",e.value&&(i.innerHTML=e.options[e.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+e.className,i.id=e.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=e.id,i.onclick=function(){n.initDropDown(this.linkId)},t(i).insertBefore(t(e)),e.style.display="none",e.style.webkitAppearance="none";for(var h=0;e.options.length>h;h++)e.options[h].selected&&(i.value=e.options[h].text),e.options[h].watch("selected",function(t,i,s){return 1==s&&(e.getAttribute("multiple")||n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});e.watch("selectedIndex",function(t,i,s){return this.options[s]&&(e.getAttribute("multiple")||n.updateMaskValue(this.id,this.options[s].text,this.options[s].value),this.value=this.options[s].value),s}),i=null,imageMask=null,s[o].hasSelectBoxFix=!0}(s[o]);n.createHtml()}},updateDropdown:function(t){var e=document.getElementById(t);if(e){for(var i=0;e.options.length>i;i++)e.options[i].selected&&(fakeInput.value=e.options[i].text),e.options[i].watch("selected",function(t,e,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});e=null}},initDropDown:function(t){var e=this,i=document.getElementById(t);if(!i.disabled&&i&&i.options&&0!=i.options.length){var s=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:t;for(var n=0;i.options.length>n;n++){i.options[n].watch("selected",function(t,i,s){return 1==s&&(e.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});var o=i.options[n].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=n,r.onclick=function(){e.setDropDownValue(t,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[n].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(s*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=s*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){}r=null,i=null}},updateMaskValue:function(t,e,i){var s=document.getElementById(t+"_jqmobiSelect"),n=document.getElementById(t);s&&(s.innerHTML=e),"function"==typeof n.onchange&&n.onchange(i),s=null,n=null},setDropDownValue:function(e,i,s){var n=document.getElementById(e);if(n){if(n.getAttribute("multiple")){var o=t(n).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,t(s).find("button").css("background","#fff")):(o.selected=!0,t(s).find("button").css("background","#000"))}else n.selectedIndex=i,t(n).find("option").forEach(function(t){t.selected=!1}),t(n).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();t(n).trigger("change"),n=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var e=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var s=document.createElement("div");s.id="jqmobiSelectBoxContainer",s.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",s.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",s.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var e=this;i.appendChild(s),t(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var n=t("#jqmobiSelectClose").get();n.onclick=function(){e.hideDropDown()};var o=t("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{e.scroller=t("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){}i=null,s=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(t,e){var i=this[t],s=i,n=function(){return s},o=function(n){return i=s,s=e.call(this,t,i,n)};delete this[t]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,t,{get:n,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,t,n),HTMLElement.prototype.__defineSetter__.call(this,t,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(t){var e=this[t];delete this[t],this[t]=e})}(jq),function(t){t.ui.show_page=function(e){this.on_unload&&(this.on_unload(),this.on_unload=null),e.on_unload&&(this.unload=e.on_unload),e.on_load&&e.on_load(),this.set_header(e.header),this.set_footer(e.footer),this.set_active_footer_button(e.active_footer_button),this.set_left_button(e.left_button),this.set_right_button(e.right_button),e.api_url?this.cached_pages[e.div_id]?(t.ui.add_content_div(e.div_id,tmpl[e.div_id](parsed_data),e.title,this.cached_pages[e.div_id]),this.load_content(e.div_id,!1,!1,"fade"),t.get_with_token({api_url:e.api_url,data:e.data,success:function(i){var s=JSON.parse(i);JSON.parse(i),t.ui.update_content_div(e.div_id,tmpl[e.div_id](s))},error:function(){}})):t.get_with_token({api_url:e.api_url,data:e.data,success:function(i){var s=JSON.parse(i);t.ui.add_content_div(e.div_id,tmpl[e.div_id](s),e.title),t.ui.load_content(e.div_id,!1,!1,"fade")},error:function(){}}):(0===t("#"+e.div_id).length?t.ui.add_content_div(e.div_id,tmpl[e.div_id](e.data),e.title):this.update_content_div(e.div_id,tmpl[e.div_id](e.data)),this.load_content(e.div_id,!1,!1,"fade"))}}(jq),function(t){t.ui.side_menu={create_side_menu:function(){this.menu||(this.menu=document.createElement("div"),this.menu.id="menu",this.menu.innerHTML='<div id="menu_scroller"></div>',this.ui_kit_container.append(this.menu),this.menu.style.overflow="hidden",this.scrolling_divs.menu_scroller=jq("#menu_scroller").scroller({scrollBars:!0,verticalScroll:!0,vScrollCSS:"jqmScrollbar",useJsScroll:!t.feat.nativeTouchScroll,noParent:t.feat.nativeTouchScroll}),t.feat.nativeTouchScroll&&t("#menu_scroller").css("height","100%"))},toggle_side_menu:function(t,e){this.side_menu_displayed=!0;var i=this,s=jq("#menu"),n=jq("#content, #menu, #header, #footer");s.hasClass("on")||s.hasClass("to-on")||(void 0===t||t===!1)&&void 0!==t?(void 0===t||void 0!==t&&t===!1)&&i.css3animate(n,{removeClass:"on off to-on",addClass:"to-off",complete:function(t){t?(i.side_menu_displayed=!1,e&&e(!0)):i.css3animate(n,{removeClass:"to-off on to-on",addClass:"off",time:0,complete:function(){s.hide(),i.side_menu_displayed=!1,e&&e(!1)}})}}):(s.show(),i.css3animate(n,{removeClass:"to-off off on",addClass:"to-on",complete:function(t){t?(i.side_menu_displayed=!1,e&&e(!0)):i.css3animate(n,{removeClass:"to-off off to-on",addClass:"on",time:0,complete:function(){i.side_menu_displayed=!1,e&&e(!1)}})}}))},disableSideMenu:function(){var t=jq("#content, #menu, #header, #footer");this.isSideMenuOn()?this.toggle_side_menu(!1,function(e){e||t.removeClass("hasMenu")}):t.removeClass("hasMenu")},enableSideMenu:function(){var t=jq("#content, #menu, #header, #footer");t.addClass("hasMenu")},isSideMenuEnabled:function(){return jq("#content").hasClass("hasMenu")},isSideMenuOn:function(){var t=jq("#menu");return this.isSideMenuEnabled()&&(t.hasClass("on")||t.hasClass("to-on"))},update_side_menu:function(t){var e=this,i=jq("#menu_scroller");if(void 0!==t&&null!=t){if("string"==typeof t)i.html(t,!0);else{i.html("");var s=document.createElement("a");s.className="closebutton jqMenuClose",s.href="javascript:;",s.onclick=function(){e.toggle_side_menu(!1)},i.append(s);var n=document.createElement("div");n.className="jqMenuHeader",n.innerHTML="Menu",i.append(n);for(var o=0;t.length>o;o++){var r=t[o].cloneNode(!0);i.append(r)}}this.scrolling_divs.menu_scroller.hideScrollbars(),this.scrolling_divs.menu_scroller.scrollToTop()}}}}(jq),function(){$.touch_layer=function(t){return $.touch_layer=new c(t),$.touch_layer};var t=["input","select","textarea"],e=["button","radio","checkbox","range","date"],i=$.os.ios,s=$.os.blackberry,n=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var e=this;this.scrollTimeoutExpireProxy_=function(){e.scrollTimeout_=null,e.scrollTimeoutEl_.addEventListener("scroll",e.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(e.layer.style.height="100%"),$.asap(e.testAndFixUI,e,arguments)},document.addEventListener("click",function(t){void 0!==t.clientX&&null!==e.lastTouchStartX&&2>Math.abs(e.lastTouchStartX-t.clientX)&&2>Math.abs(e.lastTouchStartY-t.clientY)&&(t.preventDefault(),t.stopPropagation())},!0),$.bind(this,"scrollstart",function(t){e.isScrolling=!0,e.scrollingEl_=t,e.fireEvent("UIEvents","scrollstart",t,!1,!1)}),$.bind(this,"scrollend",function(t){e.isScrolling=!1,e.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"click":this.onClick(t);break;case"blur":this.onBlur(t);break;case"scroll":this.onScroll(t);break;case"orientationchange":this.onOrientationChange(t);break;case"resize":this.onResize(t);break;case"focusin":this.onFocusIn(t)}},launchFixUI:function(t){return t||(t=l),null===this.reHideAddressBarTimeout_?this.testAndFixUI(0,t):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(t,e){var i=this.getReferenceHeight(),s=this.getCurrentHeight();return i==s||i>s*r&&s>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(t,e),!0)},hideAddressBar:function(t,e){if(t>=e)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px";var i=t+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,e])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(s){var n=s.target&&void 0!=s.target.tagName?s.target.tagName.toLowerCase():"";if(-1===t.indexOf(n)||this.isFocused_&&!s.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=s.target&&void 0!=s.target.type?s.target.type.toLowerCase():"",r=-1!==e.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=s.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[s.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&s.target.focus()}},previewReshapeEvent:function(t){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(t),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=t},fireReshapeEvent:function(t){$.trigger(this,"reshape"),$.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(t){this.isFocused_||this.onClick(t)},onBlur:function(t){jq.os.android&&t.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[t.target]))},exitExit:function(t){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1,$.os.ios){var e=this;setTimeout(function(){e.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(t){this.allowDocumentScroll_||this.isPanning_||t.target!==document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(e){this.dX=e.touches[0].pageX,this.dY=e.touches[0].pageY,this.lastTimestamp=e.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(e.target,this.layer),this.isScrolling&&(null!==this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!==this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&e&&e.target&&e.target.getAttribute&&"ignore"==e.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(n&&e.target&&void 0!=e.target.tagName){var s=e.target.tagName.toLowerCase();-1!==t.indexOf(s)&&("select"!=s&&$.trigger(this,"pre-enter-edit",[e.target]),this.requiresNativeTap=!0)}else e.target&&void 0!==e.target.tagName&&"input"==e.target.tagName.toLowerCase()&&"range"==e.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&e.preventDefault()},demandVerticalScroll:function(){var t=0>=this.scrollingEl_.scrollTop;if(t)this.scrollingEl_.scrollTop=1;else{var e=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=e>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(t){return void 0===t.scrollWidth||void 0===t.clientWidth?!0:void 0===t.scrollHeight||void 0===t.clientHeight?!0:!1},allowsVerticalScroll:function(t,e){var i=e.overflowY;return"scroll"==i?!0:"auto"==i&&t.scrollHeight>t.clientHeight?!0:!1},allowsHorizontalScroll:function(t,e){var i=e.overflowX;return"scroll"==i?!0:"auto"==i&&t.scrollWidth>t.clientWidth?!0:!1},checkDOMTree:function(t,e){if(o&&this.panElementId==t.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var i=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,i))return this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(t,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var s=t==e;!s&&t.parentNode&&this.checkDOMTree(t.parentNode,e)},scrollEnded:function(t){t&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(t){var e=this.moved;return this.moved=!0,s&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(e||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp),$.os.blackberry10||this.requiresNativeTap?(t.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||t.preventDefault(),void 0))
},onTouchEnd:function(t){if($.os.ios){if(a==t.changedTouches[0].identifier)return t.preventDefault(),!1;a=t.changedTouches[0].identifier}var e=this.moved;if(s&&(e=e&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&e)this.wasPanning_=!0;else if(e||this.requiresNativeTap)e&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[t.target])));else if(t.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=t.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,t.mouseToTouch,t.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(t,e,i,s,n,o){var r=document.createEvent(t);r.initEvent(e,s,!0),r.target=i,o&&$.each(o,function(t,e){r[t]=e}),n&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(t){function e(t){return"tagName"in t?t:t.parentNode}function i(t,e,i,s){var n=Math.abs(t-e),o=Math.abs(i-s);return n>=o?t-e>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){r.last&&Date.now()-r.last>=l&&(r.element.trigger("longTap"),r={})}var n,o,r={},l=750;t(document).ready(function(){var a;t(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.element=t(e(i.touches[0].target)),n&&clearTimeout(n),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(s,l),r.element.data("ignore-pressed")||r.element.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.element)}}).bind("touchmove",function(t){r.x2=t.touches[0].pageX,r.y2=t.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.element&&(r.element.data("ignore-pressed")||r.element.removeClass("selected"),r.isDoubleTap?(r.element.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.element.trigger("swipe")&&r.element.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.element.trigger("tap"),n=setTimeout(function(){n=null,r.element&&r.element.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.element&&!r.element.data("ignore-pressed")&&r.element.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}(jq),function(t){t(document).ready(function(){t.os.supportsTouch&&t.touch_layer(document.getElementById("ui_kit"))}),"complete"===document.readyState||"loaded"===document.readyState?t.ui.autoBoot():document.addEventListener("DOMContentLoaded",function(){t.ui.autoBoot(),this.removeEventListener("DOMContentLoaded",arguments.callee)},!1)}(jq),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?(s.css3animate(e,{x:"100%",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(e,{x:"0%",scale:1,time:"150ms",rotateY:"0deg",complete:function(){s.clearAnimations(e)}})}}),s.css3animate(t,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(t,{x:"-100%",opacity:1,scale:1,rotateY:"0deg",complete:function(){s.finishTransition(t)}}),e.style.zIndex=2,t.style.zIndex=1}})):(t.style.zIndex=1,e.style.zIndex=2,s.css3animate(t,{x:"100%",time:"150ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(t,{x:"-100%",y:0,time:"1ms",scale:1,rotateY:"0deg",complete:function(){s.finishTransition(t)}})}}),s.css3animate(e,{x:"100%",time:"1ms",scale:.8,rotateY:"180deg",complete:function(){s.css3animate(e,{x:"0%",time:"150ms",scale:1,rotateY:"0deg",complete:function(){s.clearAnimations(e)}})}}))}t.availableTransitions.flip=e}($.ui),function(t){t.fn.actionsheet=function(t){for(var i,s=0;this.length>s;s++)i=new e(this[s],t);return 1==this.length?i:this};var e=function(){var e=function(i,s){if(this.el="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.el)return alert("Could not find element for actionsheet "+i),void 0;if(!(this instanceof e))return new e(i,s);if("object"==typeof s)for(j in s)this[j]=s[j];try{var n,o=this,r='<div id="jq_actionsheet"><div style="width:100%">',l="</div></div>";if("string"==typeof s)n=t(r+s+"<a href='javascript:;' class='cancel'>Cancel</a>"+l);else if("object"==typeof s){n=t(r+l);var a=t(n.children().get());s.push({text:"Cancel",cssClasses:"cancel"});for(var c=0;s.length>c;c++){var h=t('<a href="javascript:;" >'+(s[c].text||"TEXT NOT ENTERED")+"</a>");h[0].onclick=s[c].handler||function(){},s[c].cssClasses&&s[c].cssClasses.length>0&&h.addClass(s[c].cssClasses),a.append(h)}}t(i).find("#jq_actionsheet").remove(),t(i).find("#jq_action_mask").remove(),actionsheetEl=t(i).append(n),n.get().style[t.feat.cssPrefix+"Transition"]="all 0ms",n.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,0"+t.feat.cssTransformEnd),n.css("top",window.innerHeight+"px"),this.el.style.overflow="hidden",n.on("click","a",function(){o.hideSheet()}),this.activeSheet=n,t(i).append('<div id="jq_action_mask" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;z-index:9998;background:rgba(0,0,0,.4)"/>'),setTimeout(function(){n.get().style[t.feat.cssPrefix+"Transition"]="all 300ms",n.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,"+-n.height()+"px"+t.feat.cssTransformEnd)},10)}catch(d){alert("error adding actionsheet"+d)}};return e.prototype={activeSheet:null,hideSheet:function(){var e=this;this.activeSheet.off("click","a",function(){e.hideSheet()}),t(this.el).find("#jq_action_mask").remove(),this.activeSheet.get().style[t.feat.cssPrefix+"Transition"]="all 0ms";var i=this.activeSheet,s=this.el;setTimeout(function(){i.get().style[t.feat.cssPrefix+"Transition"]="all 300ms",i.css(t.feat.cssPrefix+"Transform","translate"+t.feat.cssTransformStart+"0,0px"+t.feat.cssTransformEnd),setTimeout(function(){i.remove(),i=null,s.style.overflow="none"},500)},10)}},e}()}(jq),function(t){t.fn.alphatable=function(t,i){for(var s,n=0;this.length>n;n++)s=new e(this[n],t,i);return 1==this.length?s:this};var e=function(){t.feat.cssTransformStart,t.feat.cssTransformEnd;var e=function(t,i,s){if("string"==typeof t&&(t=document.getElementById(t)),this.container=t.parentNode,!this.container)return alert("Error finding container for alphaTable "+t),void 0;if(!(this instanceof e))return new e(t,i,s);for(j in s)this[j]=s[j];return i&&"object"==typeof i?(this.scroller=i,this.el=t,this.setupIndex(),this.setupLetterBox(),void 0):alert("Error: Please include an jq.web.scroll object to use this")};return e.prototype={listCssClass:"",letterBox:null,isMoving:!1,prefix:"",scrollToLetter:function(t){var e=document.getElementById(this.prefix+t);if(e){var i=-e.offsetTop;this.scroller.scrollTo({x:0,y:i})}},setupIndex:function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],e=this,s=document.createElement("div");for(s.id="indexDIV_"+this.el.id,s.style.cssText="position:absolute;top:0px;right:20px;width:20px;font-size:6pt;font-weight:bold;color:#000;opacity:.5;border-radius:5px;text-align:center;z-index:9999;border:1px solid black;background:#666;padding-top:5px;padding-bottom:5px;",s.className=this.listCssClass,s.addEventListener("touchend",function(){e.isMoving=!1,e.clearLetterBox()},!1),s.addEventListener("touchstart",function(t){if(t.touches[0].target!=this){e.isMoving=!0;var i=document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY);if(!i||!i.getAttribute("alphatable-item")||0==i.getAttribute("alphatable-item").length)var i=t.touches[0].target;i.innerHTML.length>1||(e.showLetter(i.innerHTML),e.scrollToLetter(i.innerHTML),t.preventDefault(),t.stopPropagation())}},!1),s.addEventListener("touchmove",function(t){var i=document.elementFromPoint(t.changedTouches[0].clientX,t.changedTouches[0].clientY);if(!i||!i.getAttribute("alphatable-item")||0==i.getAttribute("alphatable-item").length)var i=t.touches[0].target;i.innerHTML.length>1||e.isMoving&&(e.showLetter(i.innerHTML),e.scrollToLetter(i.innerHTML),t.preventDefault())},!1),i=0;t.length>i;i++){var n=document.createElement("div");n.innerHTML=t[i],n.setAttribute("alphatable-item","true"),s.appendChild(n)}this.container.appendChild(s),numOnly(s.clientHeight)-numOnly(s.style.top)-numOnly(s.style.paddingTop),this.scroller.scrollTo({x:0,y:0}),s=null},showLetter:function(t){var e=this;this.letterBox.style.display="block",this.letterBox.innerHTML!=t&&(e.letterBox.innerHTML=t)},clearLetterBox:function(){this.letterBox.style.display="none",this.letterBox.innerHTML=""},setupLetterBox:function(){var e=document.createElement("div");e.style.cssText=t.feat.cssPrefix+"-transform:translate3d(0,0,0);display:none;position:absolute;top:35%;left:35%;height:2em;width:15%;line-height:2em;text-align:center;font-size:2em;color:blue;background:#666;z-index:999999;border:1px solid black;border-raidus:10px;",e.className=this.letterBoxCssClass,e.innerHTML="",this.letterBox=e,this.container.appendChild(e),e=null}},e}()}(jq),function(t){function e(t,e){var i=t,s=e;Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)));var n=Math.atan2(s,i),o=Math.round(180*n/Math.PI);return 0>o&&(o=360-Math.abs(o)),215>=o&&o>=155||45>=o&&o>=0||360>=o&&o>=315?!0:!1}var i=[],s=function(e){return e.jqmCarouselId||(e.jqmCarouselId=t.uuid()),e.jqmCarouselId};t.fn.carousel=function(t){for(var e,n,r=0;this.length>r;r++)n=s(this[r]),i[n]?e=i[n]:(e=new o(this[r],t),i[n]=e);return 1==this.length?e:this};var o=function(){var s=t.feat.cssTransformStart,o=t.feat.cssTransformEnd,r=function(e,s){if(this.container="string"==typeof e||e instanceof String?document.getElementById(e):e,!this.container)return alert("Error finding container for carousel "+e),void 0;if(!(this instanceof r))return new r(e,s);for(var n in s)s.hasOwnProperty(n)&&(this[n]=s[n]);var o=this;jq(this.container).bind("destroy",function(t){var e=o.container.jqmCarouselId;window.removeEventListener("orientationchange",o.orientationHandler,!1),i[e]&&delete i[e],t.stopPropagation()}),this.pagingDiv=this.pagingDiv?document.getElementById(this.pagingDiv):null,this.container.style.overflow="hidden",this.vertical&&(this.horizontal=!1);var l=document.createElement("div");this.container.appendChild(l);for(var a=t(l),c=t(this.container),h=Array.prototype.slice.call(this.container.childNodes);h.length>0;){var d=h.splice(0,1);d=c.find(d),d.get()!=l&&a.append(d.get())}this.horizontal?(l.style.display="block",l.style["float"]="left"):l.style.display="block",this.el=l,this.refreshItems();var u=jq(l);u.bind("touchmove",function(t){o.touchMove(t)}),u.bind("touchend",function(t){o.touchEnd(t)}),u.bind("touchstart",function(t){o.touchStart(t)}),this.orientationHandler=function(){o.onMoveIndex(o.carouselIndex,0)},window.addEventListener("orientationchange",this.orientationHandler,!1)};return r.prototype={startX:0,startY:0,dx:0,dy:0,glue:!1,myDivWidth:0,myDivHeight:0,cssMoveStart:0,childrenCount:0,carouselIndex:0,vertical:!1,horizontal:!0,el:null,movingElement:!1,container:null,pagingDiv:null,pagingCssName:"carousel_paging",pagingCssNameSelected:"carousel_paging_selected",pagingFunction:null,lockMove:!1,okToMove:!1,touchStart:function(e){if(this.okToMove=!1,this.myDivWidth=numOnly(this.container.clientWidth),this.myDivHeight=numOnly(this.container.clientHeight),this.lockMove=!1,e.touches[0].target&&void 0!==e.touches[0].target.type){var i=e.touches[0].target.tagName.toLowerCase();if("select"===i||"input"===i||"button"===i)return}if(1===e.touches.length){this.movingElement=!0,this.startY=e.touches[0].pageY,this.startX=e.touches[0].pageX;var s=t.getCssMatrix(this.el);if(this.vertical)try{this.cssMoveStart=numOnly(s.f)}catch(n){this.cssMoveStart=0}else try{this.cssMoveStart=numOnly(s.e)}catch(n){this.cssMoveStart=0}}},touchMove:function(i){if(this.movingElement){if(i.touches.length>1)return this.touchEnd(i);var s={x:i.touches[0].pageX-this.startX,y:i.touches[0].pageY-this.startY};if(this.vertical){var n={x:0,y:0};this.dy=i.touches[0].pageY-this.startY,this.dy+=this.cssMoveStart,n.y=this.dy,i.preventDefault()}else{if(this.lockMove||!e(s.x,s.y))return this.lockMove=!0;var n={x:0,y:0};this.dx=i.touches[0].pageX-this.startX,this.dx+=this.cssMoveStart,i.preventDefault(),n.x=this.dx}var o=this.vertical?-1*100*(this.dy%this.myDivHeight/this.myDivHeight):-1*100*(this.dx%this.myDivWidth/this.myDivWidth);this.okToMove||(oldStateOkToMove=this.okToMove,this.okToMove=this.glue?Math.abs(o)>this.glue&&Math.abs(o)<100-this.glue:!0,this.okToMove&&!oldStateOkToMove&&t.trigger(this,"movestart",[this.el])),this.okToMove&&n&&this.moveCSS3(this.el,n)}},touchEnd:function(){if(this.movingElement){t.trigger(this,"movestop",[this.el]);var e=!1;try{var i=t.getCssMatrix(this.el),s=this.vertical?numOnly(i.f):numOnly(i.e),n=this.vertical?-1*100*(this.dy%this.myDivHeight/this.myDivHeight):-1*100*(this.dx%this.myDivWidth/this.myDivWidth),o=this.carouselIndex;this.cssMoveStart>s&&n>3?o++:s>this.cssMoveStart&&97>n&&o--;var r=o;o>this.childrenCount-1&&(o=0,r=this.childrenCount),0>o&&(o=this.childrenCount-1,r=-1);var l={x:0,y:0};if(this.vertical?l.y=-1*r*this.myDivHeight:l.x=-1*r*this.myDivWidth,this.moveCSS3(this.el,l,"150"),this.pagingDiv&&this.carouselIndex!==o&&(document.getElementById(this.container.id+"_"+this.carouselIndex).className=this.pagingCssName,document.getElementById(this.container.id+"_"+o).className=this.pagingCssNameSelected),this.carouselIndex!=o&&(e=!0),this.carouselIndex=o,r!=o){var a=this;window.setTimeout(function(){a.onMoveIndex(o,"1ms")},155)}}catch(c){}this.dx=0,this.movingElement=!1,this.startX=0,this.dy=0,this.startY=0,e&&this.pagingFunction&&"function"==typeof this.pagingFunction&&this.pagingFunction(this.carouselIndex)}},onMoveIndex:function(t,e){this.myDivWidth=numOnly(this.container.clientWidth),this.myDivHeight=numOnly(this.container.clientHeight);var i=!1;document.getElementById(this.container.id+"_"+this.carouselIndex)&&(document.getElementById(this.container.id+"_"+this.carouselIndex).className=this.pagingCssName);var s=Math.abs(t-this.carouselIndex),n=t;0>n&&(n=0),n>this.childrenCount-1&&(n=this.childrenCount-1);var o={x:0,y:0};this.vertical?o.y=-1*n*this.myDivHeight:o.x=-1*n*this.myDivWidth;var r=e?e:50+parseInt(20*s);if(this.moveCSS3(this.el,o,r),this.carouselIndex!=n&&(i=!0),this.carouselIndex=n,this.pagingDiv){var l=document.getElementById(this.container.id+"_"+this.carouselIndex);l&&(l.className=this.pagingCssNameSelected)}i&&this.pagingFunction&&"function"==typeof this.pagingFunction&&this.pagingFunction(currInd)},moveCSS3:function(e,i,n,r){n=n?parseInt(n):0,r||(r="linear"),e.style[t.feat.cssPrefix+"Transform"]="translate"+s+i.x+"px,"+i.y+"px"+o,e.style[t.feat.cssPrefix+"TransitionDuration"]=n+"ms",e.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden",e.style[t.feat.cssPrefix+"TransformStyle"]="preserve-3d",e.style[t.feat.cssPrefix+"TransitionTimingFunction"]=r},addItem:function(t){t&&t.nodeType&&(this.container.childNodes[0].appendChild(t),this.refreshItems())},refreshItems:function(){var e=0,i=this,s=this.el;t(s).children().find(".prevBuffer").remove(),t(s).children().find(".nextBuffer").remove(),n=s.childNodes[0];for(var o,r=[];n;n=n.nextSibling)1===n.nodeType&&(r.push(n),e++);var l=t(r[r.length-1]).clone().get(0);t(s).prepend(l);var a=t(r[0]).clone().get(0);t(s).append(a),r.push(a),r.unshift(l),this.childrenCount=e,o=parseFloat(100/e)+"%";for(var c=0;r.length>c;c++)this.horizontal?(r[c].style.width=o,r[c].style.height="100%",r[c].style["float"]="left"):(r[c].style.height=o,r[c].style.width="100%",r[c].style.display="block");if(a.style.position="absolute",l.style.position="absolute",this.moveCSS3(s,{x:0,y:0}),this.horizontal?(s.style.width=Math.ceil(100*this.childrenCount)+"%",s.style.height="100%",s.style["min-height"]="100%",l.style.left="-"+o,a.style.left="100%"):(s.style.width="100%",s.style.height=Math.ceil(100*this.childrenCount)+"%",s.style["min-height"]=Math.ceil(100*this.childrenCount)+"%",l.style.top="-"+o,a.style.top="100%"),this.pagingDiv){for(this.pagingDiv.innerHTML="",c=0;this.childrenCount>c;c++){var h=document.createElement("div");h.id=this.container.id+"_"+c,h.pageId=c,h.className=c!==this.carouselIndex?this.pagingCssName:this.pagingCssNameSelected,h.onclick=function(){i.onMoveIndex(this.pageId)};var d=document.createElement("div");d.style.width="20px",this.horizontal?(d.style.display="inline-block",d.innerHTML="&nbsp;"):(d.innerHTML="&nbsp;",d.style.display="block"),this.pagingDiv.appendChild(h),this.childrenCount>c+1&&this.pagingDiv.appendChild(d),h=null,d=null}this.horizontal?(this.pagingDiv.style.width=50*this.childrenCount+"px",this.pagingDiv.style.height="25px"):(this.pagingDiv.style.height=50*this.childrenCount+"px",this.pagingDiv.style.width="25px")}this.onMoveIndex(this.carouselIndex)}},r}()}(jq),function(t){var e=[],i=function(e){return e.jqmCSS3AnimateId||(e.jqmCSS3AnimateId=t.uuid()),e.jqmCSS3AnimateId},s=function(e){return"string"==typeof e||e instanceof String?document.getElementById(e):t.is$(e)?e[0]:e},n=function(t,n){var o,r,l=s(t);return r=i(l),e[r]?(e[r].animate(n),o=e[r]):(o=a(l,n),e[r]=o),o};t.fn.css3Animate=function(t){!t.complete&&t.callback&&(t.complete=t.callback);var e=n(this[0],t);t.complete=null,t.sucess=null,t.failure=null;for(var i=1;this.length>i;i++)e.link(this[i],t);return e},t.css3AnimateQueue=function(){return new a.queue};var o=t.feat.cssTransformStart,r=t.feat.cssTransformEnd,l=t.feat.cssPrefix.replace(/-/g,"")+"TransitionEnd";l=t.os.fennec||""==t.feat.cssPrefix||t.os.ie?"transitionend":l,l=l.replace(l.charAt(0),l.charAt(0).toLowerCase());var a=function(){var i=function(s,n){if(!(this instanceof i))return new i(s,n);if(this.callbacksStack=[],this.activeEvent=null,this.countStack=0,this.isActive=!1,this.el=s,this.linkFinishedProxy_=t.proxy(this.linkFinished,this),this.el){this.animate(n);var o=this;jq(this.el).bind("destroy",function(){var t=o.el.jqmCSS3AnimateId;o.callbacksStack=[],e[t]&&delete e[t]})}};return i.prototype={animate:function(e){if(this.isActive&&this.cancel(),this.isActive=!0,!e)return alert("Please provide configuration options for animation of "+this.el.id),void 0;var i=!!e.addClass;if(i)e.removeClass?jq(this.el).replaceClass(e.removeClass,e.addClass):jq(this.el).addClass(e.addClass);else{var s=numOnly(e.time);if(0==s&&(e.time=0),e.y||(e.y=0),e.x||(e.x=0),e.previous){var n=new t.getCssMatrix(this.el);e.y+=numOnly(n.f),e.x+=numOnly(n.e)}e.origin||(e.origin="0% 0%"),e.scale||(e.scale="1"),e.rotateY||(e.rotateY="0"),e.rotateX||(e.rotateX="0"),e.skewY||(e.skewY="0"),e.skewX||(e.skewX="0"),e.timingFunction||(e.timingFunction="linear"),("number"==typeof e.x||-1==e.x.indexOf("%")&&-1==e.x.toLowerCase().indexOf("px")&&-1==e.x.toLowerCase().indexOf("deg"))&&(e.x=parseInt(e.x)+"px"),("number"==typeof e.y||-1==e.y.indexOf("%")&&-1==e.y.toLowerCase().indexOf("px")&&-1==e.y.toLowerCase().indexOf("deg"))&&(e.y=parseInt(e.y)+"px");var a="translate"+o+e.x+","+e.y+r+" scale("+parseFloat(e.scale)+") rotate("+e.rotateX+")";t.os.opera||(a+=" rotateY("+e.rotateY+")"),a+=" skew("+e.skewX+","+e.skewY+")",this.el.style[t.feat.cssPrefix+"Transform"]=a,this.el.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden";var c=t.feat.cssPrefix+"Transform";if(void 0!==e.opacity&&(this.el.style.opacity=e.opacity,c+=", opacity"),e.width&&(this.el.style.width=e.width,c="all"),e.height&&(this.el.style.height=e.height,c="all"),this.el.style[t.feat.cssPrefix+"TransitionProperty"]="all",-1===(""+e.time).indexOf("s"))var h="ms",d=e.time+h;else if(-1!==e.time.indexOf("ms"))var h="ms",d=e.time;else var h="s",d=e.time+h;this.el.style[t.feat.cssPrefix+"TransitionDuration"]=d,this.el.style[t.feat.cssPrefix+"TransitionTimingFunction"]=e.timingFunction,this.el.style[t.feat.cssPrefix+"TransformOrigin"]=e.origin}this.callbacksStack.push({complete:e.complete,success:e.success,failure:e.failure}),this.countStack++;var u=this,f=window.getComputedStyle(this.el);if(i){var p=f[t.feat.cssPrefix+"TransitionDuration"],s=numOnly(p);if(-1!==p.indexOf("ms"))var h="ms";else var h="s"}if(0==s||"ms"==h&&5>s||"none"==f.display)t.asap(t.proxy(this.finishAnimation,this,[!1]));else{var u=this;this.activeEvent=function(t){clearTimeout(u.timeout),u.finishAnimation(t),u.el.removeEventListener(l,u.activeEvent,!1)},u.timeout=setTimeout(this.activeEvent,numOnly(e.time)+50),this.el.addEventListener(l,this.activeEvent,!1)}},addCallbackHook:function(t){return t&&this.callbacksStack.push(t),this.countStack++,this.linkFinishedProxy_},linkFinished:function(t){t?this.cancel():this.finishAnimation()},finishAnimation:function(t){t&&t.preventDefault(),this.isActive&&(this.countStack--,0==this.countStack&&this.fireCallbacks(!1))},fireCallbacks:function(t){this.clearEvents();var e=this.callbacksStack;this.cleanup();for(var i=0;e.length>i;i++){var s=e[i].complete,n=e[i].success,o=e[i].failure;s&&"function"==typeof s&&s(t),t&&o&&"function"==typeof o?o():n&&"function"==typeof n&&n()}},cancel:function(){this.isActive&&this.fireCallbacks(!0)},cleanup:function(){this.callbacksStack=[],this.isActive=!1,this.countStack=0},clearEvents:function(){this.activeEvent&&this.el.removeEventListener(l,this.activeEvent,!1),this.activeEvent=null},link:function(t,e){var i={complete:e.complete,success:e.success,failure:e.failure};return e.complete=this.addCallbackHook(i),e.success=null,e.failure=null,n(t,e),e.complete=i.complete,e.success=i.success,e.failure=i.failure,this}},i}();a.queue=function(){return{elements:[],push:function(t){this.elements.push(t)},pop:function(){return this.elements.pop()},run:function(){var t=this;if(0!=this.elements.length){if("function"==typeof this.elements[0]){var e=this.shift();e()}if(0!=this.elements.length){var i=this.shift();this.elements.length>0&&(i.complete=function(e){e||t.run()}),a(document.getElementById(i.id),i)}}},shift:function(){return this.elements.shift()}}}}(jq),function(t){t.debug={},t.debug.out=function(){};var e=14,s=function(){return(new Date).getTime()},n=s(),o=function(){return thisTime=s(),pastTime=thisTime-n,n=thisTime,pastTime>1e4?""+Math.floor(pastTime/1e3)+"s":pastTime>3e3?""+Math.floor(pastTime/100)/10+"s":""+Math.floor(pastTime)+"ms"},r=function(i,s){if(null===i)return null;if(curType=typeof i,"number"==curType)return i;if("string"==curType)return"'"+i+"'";if("boolean"==curType)return i?"true":"false";if(t.isArray(i)){if(e>=i.length){var n="[",o=!0;for(el in i)o?o=!1:n+=", ",n+=r(i[el],!1);return n+"]"}}else if("object"==curType){var l=t.is$(i);if(!l&&s&&e>=Object.keys(i).length){var n="{",o=!0;for(el in i)o?o=!1:n+=", ",n+=el+":"+r(i[el],!1);return n+"}"}if(l){for(var n="$("+i[0].tagName+(i[0].id?"#"+i[0].id:""),a=0;i.length>a;a++)n+=", "+oobj[a].tagName+(i[a].id?"#"+i[a].id:"");return n+")"}if(void 0!==i.tagName&&"string"==typeof i.tagName)return"["+i.tagName+(i.id?"#"+i.id:"")+"]"}return"["+curType+"]"},l=function(t){var e="",s=!0;for(i=0;t.length>i;i++)s?s=!1:e+=", ",e+=r(t[i],!0);return""==e&&(e="void"),e};t.debug.since=function(){return"[+"+o()+"] "},t.debug.log=function(t){this.out(this.since()+t)},t.debug.method=function(t,e,i){var s=this;return function(){return s.log(i+"("+l(arguments)+")"),e.apply(t,arguments)}},t.debug.object=function(t,e){for(item in t)"function"==typeof t[item]&&(t[item]=this.method(t,t[item],e+"."+item))},t.debug.type=function(t,e){var i=this,s=function(){i.log(e+".constructor("+l(arguments)+")"),t.apply(this,arguments),i.object(this,e)};for(el in t.prototype)s.prototype[el]=t.prototype[el];return s}}(jq),function($){var cancelClickMove=!1,preventAll=function(t){t.preventDefault(),t.stopPropagation()},redirectMouseToTouch=function(type,originalEvent,newTarget){var theTarget=newTarget?newTarget:originalEvent.target;-1==theTarget.tagName.toUpperCase().indexOf("SELECT")&&-1==theTarget.tagName.toUpperCase().indexOf("TEXTAREA")&&-1==theTarget.tagName.toUpperCase().indexOf("INPUT")&&preventAll(originalEvent);var touchevt=document.createEvent("MouseEvent");if(touchevt.initEvent(type,!0,!0),touchevt.initMouseEvent(type,!0,!0,window,originalEvent.detail,originalEvent.screenX,originalEvent.screenY,originalEvent.clientX,originalEvent.clientY,originalEvent.ctrlKey,originalEvent.shiftKey,originalEvent.altKey,originalEvent.metaKey,originalEvent.button,originalEvent.relatedTarget),"touchend"!=type&&(touchevt.touches=[],touchevt.touches[0]={},touchevt.touches[0].pageX=originalEvent.pageX,touchevt.touches[0].pageY=originalEvent.pageY,touchevt.touches[0].target=theTarget,touchevt.changedTouches=touchevt.touches,touchevt.targetTouches=touchevt.touches),touchevt.mouseToTouch=!0,$.os.ie)for(var elem=originalEvent.target;null!=elem;)elem.hasAttribute("on"+type)&&eval(elem.getAttribute("on"+type)),elem=elem.parentElement;theTarget.dispatchEvent(touchevt)},mouseDown=!1,lastTarget=null,firstMove=!1;window.navigator.msPointerEnabled?(document.addEventListener("MSPointerDown",function(t){mouseDown=!0,lastTarget=t.target,"a"==t.target.nodeName.toLowerCase()&&"javascript:;"==t.target.href.toLowerCase()&&(t.target.href="#"),redirectMouseToTouch("touchstart",t),firstMove=!0,cancelClickMove=!1},!0),document.addEventListener("MSPointerUp",function(t){mouseDown&&(redirectMouseToTouch("touchend",t,lastTarget),lastTarget=null,mouseDown=!1)},!0),document.addEventListener("MSPointerMove",function(t){if(mouseDown){if(firstMove)return firstMove=!1;redirectMouseToTouch("touchmove",t),t.preventDefault(),cancelClickMove=!0}},!0)):(document.addEventListener("mousedown",function(t){mouseDown=!0,lastTarget=t.target,"a"==t.target.nodeName.toLowerCase()&&"javascript:;"==t.target.href.toLowerCase()&&(t.target.href="#"),redirectMouseToTouch("touchstart",t),firstMove=!0,cancelClickMove=!1},!0),document.addEventListener("mouseup",function(t){mouseDown&&(redirectMouseToTouch("touchend",t,lastTarget),lastTarget=null,mouseDown=!1)},!0),document.addEventListener("mousemove",function(t){if(mouseDown){if(firstMove)return firstMove=!1;redirectMouseToTouch("touchmove",t),t.preventDefault(),cancelClickMove=!0}},!0)),document.addEventListener("drag",preventAll,!0),document.addEventListener("dragstart",preventAll,!0),document.addEventListener("dragenter",preventAll,!0),document.addEventListener("dragover",preventAll,!0),document.addEventListener("dragleave",preventAll,!0),document.addEventListener("dragend",preventAll,!0),document.addEventListener("drop",preventAll,!0),document.addEventListener("selectstart",preventAll,!0),document.addEventListener("click",function(t){t.mouseToTouch||t.target!=lastTarget||preventAll(t),cancelClickMove&&(preventAll(t),cancelClickMove=!1)},!0),window.addEventListener("resize",function(){var t=document.createEvent("Event");t.initEvent("orientationchange",!0,!0),document.dispatchEvent(t)},!1)}(jq),function(t){t.fn.drawer=function(t){for(var i,s=0;this.length>s;s++)i=new e(this[s],t);return 1==this.length?i:this};var e=function(){var e=t.feat.cssTransformStart,i=t.feat.cssTransformEnd,s=!1,n=function(e,i){if(this.el="string"==typeof e||e instanceof String?document.getElementById(e):e,!this.el)return alert("Could not find element for drawer "+e),void 0;if(!(this instanceof n))return new n(e,i);for(j in i)this[j]=i[j];this.direction=this.direction.toLowerCase();try{if(this.handle=this.el.querySelectorAll(".drawer_handle")[0],!this.handle)return alert("Could not find handle for drawer -  "+e);var s=this;this.handle.addEventListener("touchmove",function(t){s.touchMove(t)},!1),this.handle.addEventListener("touchend",function(t){s.touchEnd(t)},!1)}catch(o){alert("error adding drawer"+o)}this.zIndex=t(this.el).css("zIndex")};return n.prototype={lockY:0,lockX:0,boolScrollLock:!1,currentDrawer:null,maxTop:0,startTop:0,maxLeft:0,startLeft:0,timeMoved:0,vdistanceMoved:0,hdistanceMoved:0,direction:"down",prevTime:0,handle:null,zIndex:1,touchMove:function(e){try{if(s||(s=!0,this.touchStart(e)),null!=this.currentDrawer){e.preventDefault();var i={x:0,y:0};if("down"==this.direction||"up"==this.direction){var n=0,o=0,r=this.lockY-e.touches[0].pageY;r=-r;var n=this.startTop+r;try{var o=numOnly(t.getCssMatrix(this.el).f)}catch(l){var o=0}i.y=n,this.vdistanceMoved+=Math.abs(o)-Math.abs(n)}else{var a=0,c=0,h=this.lockX-e.touches[0].pageX;h=-h;var a=this.startLeft+h;try{var c=numOnly(t.getCssMatrix(this.el).e)}catch(l){var c=0}i.x=a,this.hdistanceMoved+=Math.abs(c)-Math.abs(a)}this.drawerMove(this.currentDrawer,i,0)}}catch(d){alert("error in scrollMove: "+d)}},touchStart:function(e){var i=this.handle,s=this.el;if(i)try{if(e.touches[0].target&&void 0!=e.touches[0].target.type){var n=e.touches[0].target.tagName.toLowerCase();if("select"==n||"input"==n||"button"==n)return}if(this.vdistanceMoved=0,this.hdistanceMoved=0,this.maxTop=numOnly(this.el.style.height)-numOnly(this.handle.style.height),this.maxLeft=numOnly(this.el.style.width)-numOnly(this.handle.style.width),"up"==this.direction&&(this.maxTop*=-1),"left"==this.direction&&(this.maxLeft*=-1),1==e.touches.length&&0==this.boolScrollLock){try{this.startTop=numOnly(t.getCssMatrix(this.el).f),this.startLeft=numOnly(t.getCssMatrix(this.el).e)}catch(o){this.startTop=0,this.startLeft=0}this.lockY=e.touches[0].pageY,this.lockX=e.touches[0].pageX,this.currentDrawer=s,e.preventDefault()}}catch(o){alert("error in drawer start: "+o)}},touchEnd:function(e){if(null!=this.currentDrawer){e.preventDefault(),e.stopPropagation();var i={x:0,y:0};if("up"==this.direction||"down"==this.direction){var n=-this.vdistanceMoved,o=Math.ceil(100*(Math.abs(n)/Math.abs(this.maxTop))),r=numOnly(t.getCssMatrix(this.el).f);i.y=o>17?n>0?this.maxTop:0:Math.floor(this.maxTop/r)>2?0:this.maxTop}else{var n=-this.hdistanceMoved,o=Math.ceil(100*(Math.abs(n)/Math.abs(this.maxLeft))),l=numOnly(t.getCssMatrix(this.el).e);o>17?i.x=n>0?this.maxLeft:0:Math.floor(this.maxLeft/l)>2?i.y=0:i.x=this.maxLeft}this.el.zIndex=i.y>0||i.x>0?"9999":this.zIndex,this.drawerMove(this.currentDrawer,i,300,"ease-out"),this.currentDrawer=null}this.vdistanceMoved=0,s=!1},drawerMove:function(s,n,o,r){o||(o=0),r||(r="linear"),s.style[t.feat.cssPrefix+"Transform"]="translate"+e+n.x+"px,"+n.y+"px"+i,s.style[t.feat.cssPrefix+"TransitionDuration"]=o+"ms",s.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden",s.style[t.feat.cssPrefix+"TransformStyle"]="preserve-3d",s.style[t.feat.cssPrefix+"TransitionTimingFunction"]=r}},n}()}(jq),function(t){var e=function(){};t.fn.fadeOut=function(t,i,s){if(0!=this.length){t||(t=0);var n=this,o=e;i||(i=e),s||(s=0,o=function(){this.hide()});var r={opacity:s,time:t,callback:function(){i.apply(n),o.apply(n)}};return this.css3Animate(r),this}},t.fn.fadeIn=function(t,e){t||(t="300ms"),this.show(),this.css("opacity",".1");var i=this;return window.setTimeout(function(){i.fadeOut(t,e,10)},1),this},t.fn.slideToggle=function(e,i,s){for(var n={time:e?e:"500ms",callback:i?i:null,easing:s?s:"linear"},o=0;this.length>o;o++){var r=this.css("display",null,this[o]),l=!1,a=t(this[o]);"none"==r&&(a.show(),l=!0);var c=this.css("height",null,this[o]);l?(a.css("height","0px"),n.height=c):(n.height="0px",i=function(){a.hide();var t={height:c,time:"0ms"};a.css3Animate(t)}),i&&(n.callback=i),window.setTimeout(function(){a.css3Animate(n)},1)}return this}}(jq),function(t){t.passwordBox=function(){return new e};var e=function(){this.oldPasswords={}};e.prototype={showPasswordPlainText:!1,getOldPasswords:function(e){var i=e&&document.getElementById(e)?document.getElementById(e):document;if(!i)return alert("Could not find container element for passwordBox "+e),void 0;for(var s=i.getElementsByTagName("input"),n=0;s.length>n;n++)"password"==s[n].type&&t.os.webkit&&(s[n].type="text",s[n].style["-webkit-text-security"]="disc")
},changePasswordVisiblity:function(e,i){e=parseInt(e);var s=document.getElementById(i);s.style[t.cssPrefix+"text-security"]=1==e?"none":"disc",t.os.webkit||(s.type=1==e?"text":"password"),s=null}}}(jq),function(t){t.fn.popup=function(t){return new i(this[0],t)};var e=[],i=function(){var i=function(i,s){if(this.container="string"==typeof i||i instanceof String?document.getElementById(i):i,!this.container)return alert("Error finding container for popup "+i),void 0;try{("string"==typeof s||"number"==typeof s)&&(s={message:s,cancelOnly:"true",cancelText:"OK"}),this.id=id=s.id=s.id||t.uuid(),this.title=s.suppressTitle?"":s.title||"Alert",this.message=s.message||"",this.cancelText=s.cancelText||"Cancel",this.cancelCallback=s.cancelCallback||function(){},this.cancelClass=s.cancelClass||"button",this.doneText=s.doneText||"Done",this.doneCallback=s.doneCallback||function(){},this.doneClass=s.doneClass||"button",this.cancelOnly=s.cancelOnly||!1,this.onShow=s.onShow||function(){},this.autoCloseDone=void 0!==s.autoCloseDone?s.autoCloseDone:!0,e.push(this),1==e.length&&this.show()}catch(n){}};return i.prototype={id:null,title:null,message:null,cancelText:null,cancelCallback:null,cancelClass:null,doneText:null,doneCallback:null,doneClass:null,cancelOnly:!1,onShow:null,autoCloseDone:!0,supressTitle:!1,show:function(){var e=this,i='<div id="'+this.id+'" class="jqPopup hidden">	        				<header>'+this.title+'</header>	        				<div><div style="width:1px;height:1px;-webkit-transform:translate3d(0,0,0);float:right"></div>'+this.message+'</div>	        				<footer style="clear:both;">	        					<a href="javascript:;" class="'+this.cancelClass+'" id="cancel">'+this.cancelText+'</a>	        					<a href="javascript:;" class="'+this.doneClass+'" id="action">'+this.doneText+"</a>	        				</footer>	        			</div></div>";t(this.container).append(t(i));var s=t("#"+this.id);s.bind("close",function(){e.hide()}),this.cancelOnly&&(s.find("A#action").hide(),s.find("A#cancel").addClass("center")),s.find("A").each(function(){var i=t(this);i.bind("click",function(t){"cancel"==i.attr("id")?(e.cancelCallback.call(e.cancelCallback,e),e.hide()):(e.doneCallback.call(e.doneCallback,e),e.autoCloseDone&&e.hide()),t.preventDefault()})}),e.positionPopup(),t.block_ui(.5),s.removeClass("hidden"),s.bind("orientationchange",function(){e.positionPopup()}),s.find("header").show(),s.find("footer").show(),this.onShow(this)},hide:function(){var e=this;t("#"+e.id).addClass("hidden"),t.unblock_ui(),setTimeout(function(){e.remove()},250)},remove:function(){var i=this,s=t("#"+i.id);s.unbind("close"),s.find("BUTTON#action").unbind("click"),s.find("BUTTON#cancel").unbind("click"),s.unbind("orientationchange").remove(),e.splice(0,1),e.length>0&&e[0].show()},positionPopup:function(){var e=t("#"+this.id);e.css("top",window.innerHeight/2.5+window.pageYOffset-e[0].clientHeight/2+"px"),e.css("left",window.innerWidth/2-e[0].clientWidth/2+"px")}},i}(),s=!1;t.block_ui=function(e){s||(e=e?" style='opacity:"+e+";'":"",t("BODY").prepend(t("<div id='mask'"+e+"></div>")),t("BODY DIV#mask").bind("touchstart",function(t){t.preventDefault()}),t("BODY DIV#mask").bind("touchmove",function(t){t.preventDefault()}),s=!0)},t.unblock_ui=function(){s=!1,t("BODY DIV#mask").unbind("touchstart"),t("BODY DIV#mask").unbind("touchmove"),t("BODY DIV#mask").remove()},window.alert=function(e){(null===e||void 0===e)&&(e="null"),t("#ui_kit").length>0?t("#ui_kit").popup(""+e):t(document.body).popup(""+e)}}(jq),function(t){function e(t){return n[t].el?!0:(delete n[t],!1)}function i(){if(jq.os.android&&!jq.os.chrome&&jq.os.webkit){var i=!1;t.bind(t.touchLayer,"pre-enter-edit",function(t){if(!i){i=!0;for(el in n)e(el)&&n[el].needsFormsFix(t)&&n[el].startFormsMode()}}),t.bind(t.touchLayer,["cancel-enter-edit","exit-edit"],function(){if(i){i=!1;for(el in n)e(el)&&n[el].androidFormsMode&&n[el].stopFormsMode()}})}r=!0}var s=75,n=[],o=function(e){return e.jqmScrollerId||(e.jqmScrollerId=t.uuid()),e.jqmScrollerId};t.fn.scroller=function(e){for(var i,s,r=0;this.length>r;r++)s=o(this[r]),n[s]?i=n[s]:(e||(e={}),t.feat.nativeTouchScroll||(e.useJsScroll=!0),i=l(this[r],e),n[s]=i);return 1==this.length?i:this};var r=!1,l=function(){function e(e,i){var s=document.createElement("div");return s.style.position="absolute",s.style.width=e+"px",s.style.height=i+"px",s.style[t.feat.cssPrefix+"BorderRadius"]="2px",s.style.borderRadius="2px",s.style.opacity=0,s.className="scrollBar",s.style.background="black",s}var o,l,a=t.feat.cssTransformStart,c=t.feat.cssTransformEnd,h=function(e,s){if(!r&&t.touchLayer&&t.isObject(t.touchLayer)?i():t.touchLayer&&t.isObject(t.touchLayer)||(t.touchLayer={}),"string"==typeof e||e instanceof String)var n=document.getElementById(e);else var n=e;return n?jq.os.desktop?new d(n,s):s.useJsScroll?new o(n,s):new l(n,s):(alert("Could not find element for scroller "+e),void 0)},d=function(e,i){this.el=e,this.jqEl=t(this.el);for(j in i)this[j]=i[j]};return d.prototype={refresh:!1,refreshContent:"Pull to Refresh",refreshHangTimeout:2e3,refreshHeight:60,refreshElement:null,refreshCancelCB:null,refreshRunning:!1,scrollTop:0,scrollLeft:0,preventHideRefresh:!0,verticalScroll:!0,horizontalScroll:!1,refreshTriggered:!1,moved:!1,eventsActive:!1,rememberEventsActive:!1,scrollingLocked:!1,autoEnable:!0,blockFormsFix:!1,loggedPcentY:0,loggedPcentX:0,infinite:!1,infiniteEndCheck:!1,infiniteTriggered:!1,scrollSkip:!1,scrollTopInterval:null,scrollLeftInterval:null,_scrollTo:function(t,e){var e=parseInt(e);if(0==e||isNaN(e))return this.el.scrollTop=Math.abs(t.y),this.el.scrollLeft=Math.abs(t.x),void 0;var i=10,s=(this.el.scrollTop-t.y)/Math.ceil(e/i),n=(this.el.scrollLeft-t.x)/Math.ceil(e/i),o=this,r=Math.ceil(this.el.scrollTop-t.y)/s,l=Math.ceil(this.el.scrollLeft-t.x)/s,a=yRun=0;o.scrollTopInterval=window.setInterval(function(){o.el.scrollTop-=s,yRun++,yRun>=r&&(o.el.scrollTop=t.y,clearInterval(o.scrollTopInterval))},i),o.scrollLeftInterval=window.setInterval(function(){o.el.scrollLeft-=n,a++,a>=l&&(o.el.scrollLeft=t.x,clearInterval(o.scrollLeftInterval))},i)},enable:function(){},disable:function(){},hideScrollbars:function(){},addPullToRefresh:function(){},_scrollToTop:function(t){this._scrollTo({x:0,y:0},t)},_scrollToBottom:function(t){this._scrollTo({x:0,y:this.el.scrollHeight-this.el.offsetHeight},t)},scrollToBottom:function(t){return this._scrollToBottom(t)},scrollToTop:function(t){return this._scrollToTop(t)},init:function(e,i){this.el=e,this.jqEl=t(this.el),this.defaultProperties();for(j in i)this[j]=i[j];var s=this,o=function(){s.eventsActive&&s.adjustScroll()};this.jqEl.bind("destroy",function(){s.disable(!0);var e=s.el.jqmScrollerId;n[e]&&delete n[e],t.unbind(t.touchLayer,"orientationchange-reshape",o)}),t.bind(t.touchLayer,"orientationchange-reshape",o)},needsFormsFix:function(e){return this.useJsScroll&&this.isEnabled()&&"none"!=this.el.style.display&&t(e).closest(this.jqEl).size()>0},handleEvent:function(t){if(!this.scrollingLocked)switch(t.type){case"touchstart":clearInterval(this.scrollTopInterval),this.preventHideRefresh=!this.refreshRunning,this.moved=!1,this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"scroll":this.onScroll(t)}},coreAddPullToRefresh:function(e){if(e&&(this.refreshElement=e),null==this.refreshElement){var i=document.getElementById(this.container.id+"_pulldown");if(null!=i)var s=jq(i);else var s=jq("<div id='"+this.container.id+"_pulldown' class='jqscroll_refresh' style='border-radius:.6em;border: 1px solid #2A2A2A;background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#666666),color-stop(1,#222222));background:#222222;margin:0px;height:60px;position:relative;text-align:center;line-height:60px;color:white;width:100%;'>"+this.refreshContent+"</div>")}else var s=jq(this.refreshElement);var n=s.get();this.refreshContainer=jq('<div style="overflow:hidden;width:100%;height:0;margin:0;padding:0;padding-left:5px;padding-right:5px;display:none;"></div>'),t(this.el).prepend(this.refreshContainer.append(n,"top")),this.refreshContainer=this.refreshContainer[0]},fireRefreshRelease:function(e){if(this.refresh&&e){var i=t.trigger(this,"refresh-release",[e])!==!1;if(this.preventHideRefresh=!1,this.refreshRunning=!0,i){var s=this;this.refreshHangTimeout>0&&(this.refreshCancelCB=setTimeout(function(){s.hideRefresh()},this.refreshHangTimeout))}}},setRefreshContent:function(t){jq(this.container).find(".jqscroll_refresh").html(t)},lock:function(){this.scrollingLocked||(this.scrollingLocked=!0,this.rememberEventsActive=this.eventsActive,this.eventsActive||this.initEvents())},unlock:function(){this.scrollingLocked&&(this.scrollingLocked=!1,this.rememberEventsActive||this.removeEvents())},scrollToItem:function(e,i){if(t.is$(e)||(e=t(e)),"bottom"==i){var s=e.offset(),n=s.top-this.jqEl.offset().bottom+s.height;n+=4}else{var o=e.offset().top,n=o-document.body.scrollTop,r=this.jqEl.offset().top;r>document.body.scrollTop&&(n-=r),n-=4}this.scrollBy({y:n,x:0},0)},setPaddings:function(e,i){var s=t(this.el),n=numOnly(s.css("paddingTop"));s.css("paddingTop",e+"px").css("paddingBottom",i+"px"),this.scrollBy({y:e-n,x:0})},divide:function(t,e){return 0!=e?t/e:0},isEnabled:function(){return this.eventsActive},addInfinite:function(){this.infinite=!0},clearInfinite:function(){this.infiniteTriggered=!1,this.scrollSkip=!0}},o=function(i,s){if(this.init(i,s),this.container=this.el.parentNode,this.container.jqmScrollerId=i.jqmScrollerId,this.jqEl=t(this.container),"hidden"!=this.container.style.overflow&&(this.container.style.overflow="hidden"),this.addPullToRefresh(null,!0),this.autoEnable&&this.enable(!0),this.verticalScroll&&1==this.verticalScroll&&1==this.scrollBars){var n=e(5,20);n.style.top="0px",this.vScrollCSS&&(n.className=this.vScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.vscrollBar=n,n=null}if(this.horizontalScroll&&1==this.horizontalScroll&&1==this.scrollBars){var n=e(20,5);n.style.bottom="0px",this.hScrollCSS&&(n.className=this.hScrollCSS),n.style.opacity="0",this.container.appendChild(n),this.hscrollBar=n,n=null}this.horizontalScroll&&(this.el.style["float"]="left"),this.el.hasScroller=!0},l=function(e,i){this.init(e,i);var s=t(e);if(i.noParent!==!0){var n=s.parent(),o=n.height();o+=-1==o.indexOf("%")?"px":"",s.css("height",o),s.parent().parent().append(s),n.remove()}this.container=this.el,s.css("-webkit-overflow-scrolling","touch")},l.prototype=new d,o.prototype=new d,l.prototype.defaultProperties=function(){this.refreshContainer=null,this.dY=this.cY=0,this.cancelPropagation=!1,this.loggedPcentY=0,this.loggedPcentX=0;var t=this;this.adjustScrollOverflowProxy_=function(){t.jqEl.css("overflow","auto")}},l.prototype.enable=function(t){this.eventsActive||(this.eventsActive=!0,this.el.style.overflow="auto",t||this.adjustScroll(),(this.refresh||this.infinite&&!jq.os.desktop)&&this.el.addEventListener("touchstart",this,!1),this.el.addEventListener("scroll",this,!1))},l.prototype.disable=function(t){this.eventsActive&&(this.logPos(this.el.scrollLeft,this.el.scrollTop),t||(this.el.style.overflow="hidden"),this.el.removeEventListener("touchstart",this,!1),this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.el.removeEventListener("scroll",this,!1),this.eventsActive=!1)},l.prototype.addPullToRefresh=function(t,e){this.el.removeEventListener("touchstart",this,!1),this.el.addEventListener("touchstart",this,!1),e||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(t),this.refreshContainer.style.position="absolute",this.refreshContainer.style.top="-60px",this.refreshContainer.style.height="60px",this.refreshContainer.style.display="block")},l.prototype.onTouchStart=function(e){this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),(this.refresh||this.infinite)&&(this.el.addEventListener("touchmove",this,!1),this.dY=e.touches[0].pageY,this.refresh&&0>this.dY&&this.showRefresh()),t.trigger(this,"scrollstart",[this.el]),t.trigger(t.touchLayer,"scrollstart",[this.el])},l.prototype.onTouchMove=function(e){var i=e.touches[0].pageY-this.dY;this.moved||(this.el.addEventListener("touchend",this,!1),this.moved=!0),i-this.cY,this.refresh&&0>this.el.scrollTop?this.showRefresh():this.refreshTriggered&&this.refresh&&this.el.scrollTop>this.refreshHeight&&(this.refreshTriggered=!1,this.refreshCancelCB&&clearTimeout(this.refreshCancelCB),this.hideRefresh(!1),t.trigger(this,"refresh-cancel")),this.cY=i,e.stopPropagation()},l.prototype.showRefresh=function(){this.refreshTriggered||(this.refreshTriggered=!0,t.trigger(this,"refresh-trigger"))},l.prototype.onTouchEnd=function(){var e=this.el.scrollTop<=-this.refreshHeight;this.fireRefreshRelease(e,!0),e&&(this.refreshContainer.style.position="relative",this.refreshContainer.style.top="0px"),this.dY=this.cY=0,this.el.removeEventListener("touchmove",this,!1),this.el.removeEventListener("touchend",this,!1),this.infiniteEndCheck=!0,this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0),this.touchEndFired=!0;var i=200,s=this,n={top:this.el.scrollTop,left:this.el.scrollLeft},o=0;s.nativePolling=setInterval(function(){return o++,o>=i?(clearInterval(s.nativePolling),void 0):((s.el.scrollTop!=n.top||s.el.scrollLeft!=n.left)&&(clearInterval(s.nativePolling),t.trigger(t.touchLayer,"scrollend",[s.el]),t.trigger(s,"scrollend",[s.el])),void 0)},20)},l.prototype.hideRefresh=function(e){if(!this.preventHideRefresh){var i=this,n=function(e){e||(i.el.style[t.feat.cssPrefix+"Transform"]="none",i.el.style[t.feat.cssPrefix+"TransitionProperty"]="none",i.el.scrollTop=0,i.logPos(i.el.scrollLeft,0)),i.refreshContainer.style.top="-60px",i.refreshContainer.style.position="absolute",i.dY=i.cY=0,t.trigger(i,"refresh-finish")};e!==!1&&i.jqEl.css3Animate?i.jqEl.css3Animate({y:i.el.scrollTop-i.refreshHeight+"px",x:"0%",time:s+"ms",complete:n}):n(),this.refreshTriggered=!1}},l.prototype.hideScrollbars=function(){},l.prototype.scrollTo=function(t,e){return this.logPos(t.x,t.y),t.x*=-1,t.y*=-1,this._scrollTo(t,e)},l.prototype.scrollBy=function(t,e){return t.x+=this.el.scrollLeft,t.y+=this.el.scrollTop,this.logPos(this.el.scrollLeft,this.el.scrollTop),this._scrollTo(t,e)},l.prototype.scrollToBottom=function(t){this._scrollToBottom(t),this.logPos(this.el.scrollLeft,this.el.scrollTop)},l.prototype.onScroll=function(){if(this.infinite&&this.touchEndFired)return this.touchEndFired=!1,void 0;if(this.scrollSkip)return this.scrollSkip=!1,void 0;this.infinite&&!this.infiniteTriggered&&Math.abs(this.el.scrollTop)>=this.el.scrollHeight-this.el.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"),this.infiniteEndCheck=!0);var e=this;this.infinite&&this.infiniteEndCheck&&this.infiniteTriggered&&(this.infiniteEndCheck=!1,t.trigger(e,"infinite-scroll-end"))},l.prototype.logPos=function(t,e){this.loggedPcentX=this.divide(t,this.el.scrollWidth),this.loggedPcentY=this.divide(e,this.el.scrollHeight),this.scrollLeft=t,this.scrollTop=e,isNaN(this.loggedPcentX)&&(this.loggedPcentX=0),isNaN(this.loggedPcentY)&&(this.loggedPcentY=0)},l.prototype.adjustScroll=function(){this.adjustScrollOverflowProxy_(),this.el.scrollLeft=this.loggedPcentX*this.el.scrollWidth,this.el.scrollTop=this.loggedPcentY*this.el.scrollHeight,this.logPos(this.el.scrollLeft,this.el.scrollTop)},o.prototype.defaultProperties=function(){this.boolScrollLock=!1,this.currentScrollingObject=null,this.elementInfo=null,this.verticalScroll=!0,this.horizontalScroll=!1,this.scrollBars=!0,this.vscrollBar=null,this.hscrollBar=null,this.hScrollCSS="scrollBar",this.vScrollCSS="scrollBar",this.firstEventInfo=null,this.moved=!1,this.preventPullToRefresh=!0,this.doScrollInterval=null,this.refreshRate=25,this.isScrolling=!1,this.androidFormsMode=!1,this.refreshSafeKeep=!1,this.lastScrollbar="",this.finishScrollingObject=null,this.container=null,this.scrollingFinishCB=null,this.loggedPcentY=0,this.loggedPcentX=0},o.prototype.enable=function(t){this.eventsActive||(this.eventsActive=!0,t?this.scrollerMoveCSS({x:0,y:0},0):this.adjustScroll(),this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},o.prototype.adjustScroll=function(){var t=this.getViewportSize();this.scrollerMoveCSS({x:Math.round(this.loggedPcentX*(this.el.clientWidth-t.w)),y:Math.round(this.loggedPcentY*(this.el.clientHeight-t.h))},0)},o.prototype.disable=function(){if(this.eventsActive){var t=this.getCSSMatrix(this.el);this.logPos(numOnly(t.e)-numOnly(this.container.scrollLeft),numOnly(t.f)-numOnly(this.container.scrollTop)),this.container.removeEventListener("touchstart",this,!1),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.eventsActive=!1}},o.prototype.addPullToRefresh=function(t,e){e||(this.refresh=!0),this.refresh&&1==this.refresh&&(this.coreAddPullToRefresh(t),this.el.style.overflow="visible")},o.prototype.hideScrollbars=function(){this.hscrollBar&&(this.hscrollBar.style.opacity=0,this.hscrollBar.style[t.feat.cssPrefix+"TransitionDuration"]="0ms"),this.vscrollBar&&(this.vscrollBar.style.opacity=0,this.vscrollBar.style[t.feat.cssPrefix+"TransitionDuration"]="0ms")},o.prototype.getViewportSize=function(){var t=window.getComputedStyle(this.container);return isNaN(numOnly(t.paddingTop))&&alert(typeof t.paddingTop+"::"+t.paddingTop+":"),{h:this.container.clientHeight>window.innerHeight?window.innerHeight:this.container.clientHeight-numOnly(t.paddingTop)-numOnly(t.paddingBottom),w:this.container.clientWidth>window.innerWidth?window.innerWidth:this.container.clientWidth-numOnly(t.paddingLeft)-numOnly(t.paddingRight)}},o.prototype.onTouchStart=function(e){if(this.moved=!1,this.currentScrollingObject=null,this.container&&(this.refreshCancelCB&&(clearTimeout(this.refreshCancelCB),this.refreshCancelCB=null),this.scrollingFinishCB&&(clearTimeout(this.scrollingFinishCB),this.scrollingFinishCB=null),1==e.touches.length&&!this.boolScrollLock)){if(e.touches[0].target&&void 0!=e.touches[0].target.type){var i=e.touches[0].target.tagName.toLowerCase();if("select"==i||"input"==i||"button"==i)return}var s={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0};this.elementInfo={};var n=this.getViewportSize();this.elementInfo.bottomMargin=n.h,this.elementInfo.maxTop=this.el.clientHeight-this.elementInfo.bottomMargin,0>this.elementInfo.maxTop&&(this.elementInfo.maxTop=0),this.elementInfo.divHeight=this.el.clientHeight,this.elementInfo.rightMargin=n.w,this.elementInfo.maxLeft=this.el.clientWidth-this.elementInfo.rightMargin,0>this.elementInfo.maxLeft&&(this.elementInfo.maxLeft=0),this.elementInfo.divWidth=this.el.clientWidth,this.elementInfo.hasVertScroll=this.verticalScroll||this.elementInfo.maxTop>0,this.elementInfo.hasHorScroll=this.elementInfo.maxLeft>0,this.elementInfo.requiresVScrollBar=this.vscrollBar&&this.elementInfo.hasVertScroll,this.elementInfo.requiresHScrollBar=this.hscrollBar&&this.elementInfo.hasHorScroll,this.saveEventInfo(e),this.saveFirstEventInfo(e);var o=this.getCSSMatrix(this.el);s.top=numOnly(o.f)-numOnly(this.container.scrollTop),s.left=numOnly(o.e)-numOnly(this.container.scrollLeft),this.container.scrollTop=this.container.scrollLeft=0,this.currentScrollingObject=this.el,this.refresh&&0==s.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>s.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),s.x=s.left,s.y=s.top,this.setVScrollBar(s,0,0)&&(this.container.clientWidth>window.innerWidth?this.vscrollBar.style.left=window.innerWidth-3*numOnly(this.vscrollBar.style.width)+"px":this.vscrollBar.style.right="0px",this.vscrollBar.style[t.feat.cssPrefix+"Transition"]=""),this.setHScrollBar(s,0,0)&&(this.container.clientHeight>window.innerHeight?this.hscrollBar.style.top=window.innerHeight-numOnly(this.hscrollBar.style.height)+"px":this.hscrollBar.style.bottom=numOnly(this.hscrollBar.style.height),this.hscrollBar.style[t.feat.cssPrefix+"Transition"]=""),this.lastScrollInfo=s,this.hasMoved=!0,this.scrollerMoveCSS(this.lastScrollInfo,0),t.trigger(this,"scrollstart")}},o.prototype.getCSSMatrix=function(e){if(this.androidFormsMode){var i=parseInt(e.style.marginTop),s=parseInt(e.style.marginLeft);return isNaN(i)&&(i=0),isNaN(s)&&(s=0),{f:i,e:s}}var n=t.getCssMatrix(e);return n},o.prototype.saveEventInfo=function(t){this.lastEventInfo={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:t.timeStamp}},o.prototype.saveFirstEventInfo=function(t){this.firstEventInfo={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,time:t.timeStamp}},o.prototype.setVScrollBar=function(t,e,i){if(!this.elementInfo.requiresVScrollBar)return!1;var s=parseFloat(this.elementInfo.bottomMargin/this.elementInfo.divHeight)*this.elementInfo.bottomMargin+"px";s!=this.vscrollBar.style.height&&(this.vscrollBar.style.height=s);var n=this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height)-(this.elementInfo.maxTop+t.y)/this.elementInfo.maxTop*(this.elementInfo.bottomMargin-numOnly(this.vscrollBar.style.height));return n>this.elementInfo.bottomMargin&&(n=this.elementInfo.bottomMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.vscrollBar,{x:0,y:n},e,i),!0},o.prototype.setHScrollBar=function(t,e,i){if(!this.elementInfo.requiresHScrollBar)return!1;var s=parseFloat(this.elementInfo.rightMargin/this.elementInfo.divWidth)*this.elementInfo.rightMargin+"px";s!=this.hscrollBar.style.width&&(this.hscrollBar.style.width=s);var n=this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width)-(this.elementInfo.maxLeft+t.x)/this.elementInfo.maxLeft*(this.elementInfo.rightMargin-numOnly(this.hscrollBar.style.width));return n>this.elementInfo.rightMargin&&(n=this.elementInfo.rightMargin),0>n&&(n=0),this.scrollbarMoveCSS(this.hscrollBar,{x:n,y:0},e,i),!0},o.prototype.onTouchMove=function(t){if(null!=this.currentScrollingObject){var e=this.calculateMovement(t);this.calculateTarget(e),this.lastScrollInfo=e,this.moved||(this.elementInfo.requiresVScrollBar&&(this.vscrollBar.style.opacity=1),this.elementInfo.requiresHScrollBar&&(this.hscrollBar.style.opacity=1)),this.moved=!0,this.refresh&&0==e.top?(this.refreshContainer.style.display="block",this.refreshHeight=this.refreshContainer.firstChild.clientHeight,this.refreshContainer.firstChild.style.top=-this.refreshHeight+"px",this.refreshContainer.style.overflow="visible",this.preventPullToRefresh=!1):0>e.top&&(this.preventPullToRefresh=!0,this.refresh&&(this.refreshContainer.style.overflow="hidden")),this.saveEventInfo(t),this.doScroll()}},o.prototype.doScroll=function(){if(!this.isScrolling&&this.lastScrollInfo.x!=this.lastScrollInfo.left||this.lastScrollInfo.y!=this.lastScrollInfo.top){this.isScrolling=!0,this.onScrollStart&&this.onScrollStart();var e=this.getCSSMatrix(this.el);this.lastScrollInfo.top=numOnly(e.f),this.lastScrollInfo.left=numOnly(e.e),this.recalculateDeltaY(this.lastScrollInfo),this.recalculateDeltaX(this.lastScrollInfo),this.checkYboundary(this.lastScrollInfo),this.elementInfo.hasHorScroll&&this.checkXboundary(this.lastScrollInfo);var i=this.lastScrollInfo.y>0&&this.lastScrollInfo.deltaY>0,s=this.lastScrollInfo.y<-this.elementInfo.maxTop&&0>this.lastScrollInfo.deltaY;if(i||s){var n=i?this.lastScrollInfo.y:-this.lastScrollInfo.y-this.elementInfo.maxTop,o=(this.container.clientHeight-n)/this.container.clientHeight;.5>o&&(o=.5);var r=0;i&&this.lastScrollInfo.top>0||s&&this.lastScrollInfo.top<-this.elementInfo.maxTop?r=this.lastScrollInfo.top:s&&(r=-this.elementInfo.maxTop);var l=this.lastScrollInfo.deltaY*o,a=Math.abs(this.lastScrollInfo.deltaY*o);1>a&&(l=i?1:-1),this.lastScrollInfo.y=r+l}this.scrollerMoveCSS(this.lastScrollInfo,0),this.setVScrollBar(this.lastScrollInfo,0,0),this.setHScrollBar(this.lastScrollInfo,0,0),this.refresh&&!this.preventPullToRefresh&&(!this.refreshTriggered&&this.lastScrollInfo.top>this.refreshHeight?(this.refreshTriggered=!0,t.trigger(this,"refresh-trigger")):this.refreshTriggered&&this.lastScrollInfo.top<this.refreshHeight&&(this.refreshTriggered=!1,t.trigger(this,"refresh-cancel"))),this.infinite&&!this.infiniteTriggered&&Math.abs(this.lastScrollInfo.top)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"))}},o.prototype.calculateMovement=function(t,e){var i={top:0,left:0,speedY:0,speedX:0,absSpeedY:0,absSpeedX:0,deltaY:0,deltaX:0,absDeltaY:0,absDeltaX:0,y:0,x:0,duration:0},s=e?this.firstEventInfo:this.lastEventInfo,n=e?t.pageX:t.touches[0].pageX,o=e?t.pageY:t.touches[0].pageY,r=e?t.time:t.timeStamp;return i.deltaY=this.elementInfo.hasVertScroll?o-s.pageY:0,i.deltaX=this.elementInfo.hasHorScroll?n-s.pageX:0,i.time=r,i.duration=r-s.time,i},o.prototype.calculateTarget=function(t){t.y=this.lastScrollInfo.y+t.deltaY,t.x=this.lastScrollInfo.x+t.deltaX},o.prototype.checkYboundary=function(t){var e=this.container.clientHeight/2,i=this.elementInfo.maxTop+e;if(t.y>e)t.y=e;else{if(!(-t.y>i))return;t.y=-i}this.recalculateDeltaY(t)},o.prototype.checkXboundary=function(t){if(t.x>0)t.x=0;else{if(!(-t.x>this.elementInfo.maxLeft))return;t.x=-this.elementInfo.maxLeft}this.recalculateDeltaY(t)},o.prototype.recalculateDeltaY=function(t){var e=Math.abs(t.deltaY);t.deltaY=t.y-t.top,newAbsDeltaY=Math.abs(t.deltaY),t.duration=t.duration*newAbsDeltaY/e},o.prototype.recalculateDeltaX=function(t){var e=Math.abs(t.deltaX);t.deltaX=t.x-t.left,newAbsDeltaX=Math.abs(t.deltaX),t.duration=t.duration*newAbsDeltaX/e},o.prototype.hideRefresh=function(){var e=this;this.preventHideRefresh||(this.scrollerMoveCSS({x:0,y:0,complete:function(){t.trigger(e,"refresh-finish")}},s),this.refreshTriggered=!1)},o.prototype.setMomentum=function(t){var e=.0012;t.speedY=this.divide(t.deltaY,t.duration),t.speedX=this.divide(t.deltaX,t.duration),t.absSpeedY=Math.abs(t.speedY),t.absSpeedX=Math.abs(t.speedX),t.absDeltaY=Math.abs(t.deltaY),t.absDeltaX=Math.abs(t.deltaX),t.absDeltaY>0?(t.deltaY=(0>t.deltaY?-1:1)*t.absSpeedY*t.absSpeedY/(2*e),t.absDeltaY=Math.abs(t.deltaY),t.duration=t.absSpeedY/e,t.speedY=t.deltaY/t.duration,t.absSpeedY=Math.abs(t.speedY),(100*e>t.absSpeedY||5>t.absDeltaY)&&(t.deltaY=t.absDeltaY=t.duration=t.speedY=t.absSpeedY=0)):t.absDeltaX?(t.deltaX=(0>t.deltaX?-1:1)*t.absSpeedX*t.absSpeedX/(2*e),t.absDeltaX=Math.abs(t.deltaX),t.duration=t.absSpeedX/e,t.speedX=t.deltaX/t.duration,t.absSpeedX=Math.abs(t.speedX),(100*e>t.absSpeedX||5>t.absDeltaX)&&(t.deltaX=t.absDeltaX=t.duration=t.speedX=t.absSpeedX=0)):t.duration=0},o.prototype.onTouchEnd=function(){if(null!=this.currentScrollingObject&&this.moved){this.finishScrollingObject=this.currentScrollingObject,this.currentScrollingObject=null;var e=this.calculateMovement(this.lastEventInfo,!0);this.androidFormsMode||this.setMomentum(e),this.calculateTarget(e);var i=this.getCSSMatrix(this.el);e.top=numOnly(i.f),e.left=numOnly(i.e),this.checkYboundary(e),this.elementInfo.hasHorScroll&&this.checkXboundary(e);var n=!this.preventPullToRefresh&&(e.top>this.refreshHeight||e.y>this.refreshHeight);this.fireRefreshRelease(n,e.top>0),this.refresh&&n?(e.y=this.refreshHeight,e.duration=s):e.y>=0?(e.y=0,e.top>=0&&(e.duration=s)):(-e.y>this.elementInfo.maxTop||0==this.elementInfo.maxTop)&&(e.y=-this.elementInfo.maxTop,-e.top>this.elementInfo.maxTop&&(e.duration=s)),this.androidFormsMode&&(e.duration=0),this.scrollerMoveCSS(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setVScrollBar(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setHScrollBar(e,e.duration,"cubic-bezier(0.33,0.66,0.66,1)"),this.setFinishCalback(e.duration),this.infinite&&!this.infiniteTriggered&&Math.abs(e.y)>=this.el.clientHeight-this.container.clientHeight&&(this.infiniteTriggered=!0,t.trigger(this,"infinite-scroll"))}},o.prototype.setFinishCalback=function(e){var i=this;this.scrollingFinishCB=setTimeout(function(){i.hideScrollbars(),t.trigger(t.touchLayer,"scrollend",[i.el]),t.trigger(i,"scrollend",[i.el]),i.isScrolling=!1,i.elementInfo=null,i.infinite&&t.trigger(i,"infinite-scroll-end")},e)},o.prototype.startFormsMode=function(){if(!this.blockFormsFix){var e=this.getCSSMatrix(this.el);this.refreshSafeKeep=this.refresh,this.refresh=!1,this.androidFormsMode=!0,this.el.style[t.feat.cssPrefix+"Transform"]="none",this.el.style[t.feat.cssPrefix+"Transition"]="none",this.el.style[t.feat.cssPrefix+"Perspective"]="none",this.scrollerMoveCSS({x:numOnly(e.e),y:numOnly(e.f)},0),this.container.style[t.feat.cssPrefix+"Perspective"]="none",this.container.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible",this.vscrollBar&&(this.vscrollBar.style[t.feat.cssPrefix+"Transform"]="none",this.vscrollBar.style[t.feat.cssPrefix+"Transition"]="none",this.vscrollBar.style[t.feat.cssPrefix+"Perspective"]="none",this.vscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible"),this.hscrollBar&&(this.hscrollBar.style[t.feat.cssPrefix+"Transform"]="none",this.hscrollBar.style[t.feat.cssPrefix+"Transition"]="none",this.hscrollBar.style[t.feat.cssPrefix+"Perspective"]="none",this.hscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="visible")}},o.prototype.stopFormsMode=function(){if(!this.blockFormsFix){var e=this.getCSSMatrix(this.el);this.refresh=this.refreshSafeKeep,this.androidFormsMode=!1,this.el.style[t.feat.cssPrefix+"Perspective"]=1e3,this.el.style.marginTop=0,this.el.style.marginLeft=0,this.el.style[t.feat.cssPrefix+"Transition"]="0ms linear",this.scrollerMoveCSS({x:numOnly(e.e),y:numOnly(e.f)},0),this.container.style[t.feat.cssPrefix+"Perspective"]=1e3,this.container.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden",this.vscrollBar&&(this.vscrollBar.style[t.feat.cssPrefix+"Perspective"]=1e3,this.vscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden"),this.hscrollBar&&(this.hscrollBar.style[t.feat.cssPrefix+"Perspective"]=1e3,this.hscrollBar.style[t.feat.cssPrefix+"BackfaceVisibility"]="hidden")}},o.prototype.scrollerMoveCSS=function(e,i,s){i||(i=0),s||(s="linear"),i=numOnly(i),this.el&&this.el.style&&(this.eventsActive&&(this.androidFormsMode?(this.el.style.marginTop=Math.round(e.y)+"px",this.el.style.marginLeft=Math.round(e.x)+"px"):(this.el.style[t.feat.cssPrefix+"Transform"]="translate"+a+e.x+"px,"+e.y+"px"+c,this.el.style[t.feat.cssPrefix+"TransitionDuration"]=i+"ms",this.el.style[t.feat.cssPrefix+"TransitionTimingFunction"]=s)),this.logPos(e.x,e.y))},o.prototype.logPos=function(t,e){if(this.elementInfo)var i={h:this.elementInfo.bottomMargin,w:this.elementInfo.rightMargin};else var i=this.getViewportSize();this.loggedPcentX=this.divide(t,this.el.clientWidth-i.w),this.loggedPcentY=this.divide(e,this.el.clientHeight-i.h),this.scrollTop=e,this.scrollLeft=t},o.prototype.scrollbarMoveCSS=function(e,i,s,n){s||(s=0),n||(n="linear"),e&&e.style&&(this.androidFormsMode?(e.style.marginTop=Math.round(i.y)+"px",e.style.marginLeft=Math.round(i.x)+"px"):(e.style[t.feat.cssPrefix+"Transform"]="translate"+a+i.x+"px,"+i.y+"px"+c,e.style[t.feat.cssPrefix+"TransitionDuration"]=s+"ms",e.style[t.feat.cssPrefix+"TransitionTimingFunction"]=n))},o.prototype.scrollTo=function(t,e){e||(e=0),this.scrollerMoveCSS(t,e)},o.prototype.scrollBy=function(t,e){var i=this.getCSSMatrix(this.el),s=numOnly(i.f),n=numOnly(i.e);this.scrollTo({y:s-t.y,x:n-t.x},e)},o.prototype.scrollToBottom=function(t){this.scrollTo({y:-1*(this.el.clientHeight-this.container.clientHeight),x:0},t)},o.prototype.scrollToTop=function(t){this.scrollTo({x:0,y:0},t)},h}()}(jq),function(t){t.selectBox={scroller:null,getOldSelects:function(e){if(t.os.android&&!t.os.androidICS){if(!t.fn.scroller)return alert("This library requires jq.web.Scroller"),void 0;var i=e&&document.getElementById(e)?document.getElementById(e):document;
if(!i)return alert("Could not find container element for jq.web.selectBox "+e),void 0;for(var s=i.getElementsByTagName("select"),n=this,o=0;s.length>o;o++)s[o].hasSelectBoxFix||function(e){var i=document.createElement("div"),r=window.getComputedStyle(e),l="intrinsic"==r.width?"100%":r.width,a=parseInt(l)>0?l:"100px",c=parseInt(e.style.height)>0?e.style.height:parseInt(r.height)?r.height:"20px";i.style.width=a,i.style.height=c,i.style.margin=r.margin,i.style.position=r.position,i.style.left=r.left,i.style.top=r.top,i.style.lineHeight=r.lineHeight,i.style.zIndex="1",e.value&&(i.innerHTML=e.options[e.selectedIndex].text),i.style.background="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAeCAIAAABFWWJ4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM1NjQxRUQxNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM1NjQxRUQyNUFEODExRTA5OUE3QjE3NjI3MzczNDAzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QzU2NDFFQ0Y1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QzU2NDFFRDA1QUQ4MTFFMDk5QTdCMTc2MjczNzM0MDMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6YWbdCAAAAlklEQVR42mIsKChgIBGwAHFPTw/xGkpKSlggrG/fvhGjgYuLC0gyMZAOoPb8//9/0Or59+8f8XrICQN66SEnDOgcp3AgKiqKqej169dY9Hz69AnCuHv3rrKyMrIKoAhcVlBQELt/gIqwstHD4B8quH37NlAQSKKJEwg3iLbBED8kpeshoGcwh5uuri5peoBFMEluAwgwAK+5aXfuRb4gAAAAAElFTkSuQmCC') right top no-repeat",i.style.backgroundColor="white",i.style.lineHeight=c,i.style.backgroundSize="contain",i.className="jqmobiSelect_fakeInput "+e.className,i.id=e.id+"_jqmobiSelect",i.style.border="1px solid gray",i.style.color="black",i.linkId=e.id,i.onclick=function(){n.initDropDown(this.linkId)},t(i).insertBefore(t(e)),e.style.display="none",e.style.webkitAppearance="none";for(var h=0;e.options.length>h;h++)e.options[h].selected&&(i.value=e.options[h].text),e.options[h].watch("selected",function(t,i,s){return 1==s&&(e.getAttribute("multiple")||n.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});e.watch("selectedIndex",function(t,i,s){return this.options[s]&&(e.getAttribute("multiple")||n.updateMaskValue(this.id,this.options[s].text,this.options[s].value),this.value=this.options[s].value),s}),i=null,imageMask=null,s[o].hasSelectBoxFix=!0}(s[o]);n.createHtml()}},updateDropdown:function(t){var e=document.getElementById(t);if(e){for(var i=0;e.options.length>i;i++)e.options[i].selected&&(fakeInput.value=e.options[i].text),e.options[i].watch("selected",function(t,e,i){return 1==i&&(that.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),i});e=null}},initDropDown:function(t){var e=this,i=document.getElementById(t);if(!i.disabled&&i&&i.options&&0!=i.options.length){var s=0;document.getElementById("jqmobiSelectBoxScroll").innerHTML="",document.getElementById("jqmobiSelectBoxHeaderTitle").innerHTML=void 0!=i.name&&"undefined"!=i.name&&""!=i.name?i.name:t;for(var n=0;i.options.length>n;n++){i.options[n].watch("selected",function(t,i,s){return 1==s&&(e.updateMaskValue(this.parentNode.id,this.text,this.value),this.parentNode.value=this.value),s});var o=i.options[n].selected?!0:!1,r=document.createElement("div");r.className="jqmobiSelectRow",r.style.cssText=";line-height:40px;font-size:14px;padding-left:10px;height:40px;width:100%;position:relative;width:100%;border-bottom:1px solid black;background:white;";var l=document.createElement("a");l.href="javascript:;",r.tmpValue=n,r.onclick=function(){e.setDropDownValue(t,this.tmpValue,this)},l.style.cssText="text-decoration:none;color:black;",l.innerHTML=i.options[n].text;var a=document.createElement("span");a.style.cssText="float:right;margin-right:20px;margin-top:-2px";var c=document.createElement("button");o?(c.style.cssText="background: #000;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButtonFound"):(c.style.cssText="background: #ffffff;padding: 0px 0px;border-radius:15px;border:3px solid black;",c.className="jqmobiSelectRowButton"),c.style.width="20px",c.style.height="20px",c.checked=o,l.className="jqmobiSelectRowText",a.appendChild(c),r.appendChild(l),r.appendChild(a),document.getElementById("jqmobiSelectBoxScroll").appendChild(r),a=null,c=null,l=null}try{document.getElementById("jqmobiSelectModal").style.display="block"}catch(h){}try{if(r){var d=numOnly(r.style.height),u=numOnly(document.getElementById("jqmobiSelectBoxHeader").style.height);if(s*d+u>=numOnly(document.getElementById("jqmobiSelectBoxFix").clientHeight)-u)var f=s*-d+u;else f=0;this.scroller.scrollTo({x:0,y:f})}}catch(h){}r=null,i=null}},updateMaskValue:function(t,e,i){var s=document.getElementById(t+"_jqmobiSelect"),n=document.getElementById(t);s&&(s.innerHTML=e),"function"==typeof n.onchange&&n.onchange(i),s=null,n=null},setDropDownValue:function(e,i,s){var n=document.getElementById(e);if(n){if(n.getAttribute("multiple")){var o=t(n).find("option:nth-child("+(i+1)+")").get(0);o.selected?(o.selected=!1,t(s).find("button").css("background","#fff")):(o.selected=!0,t(s).find("button").css("background","#000"))}else n.selectedIndex=i,t(n).find("option").forEach(function(t){t.selected=!1}),t(n).find("option:nth-child("+(i+1)+")").get(0).selected=!0,this.scroller.scrollTo({x:0,y:0}),this.hideDropDown();t(n).trigger("change"),n=null}},hideDropDown:function(){document.getElementById("jqmobiSelectModal").style.display="none",document.getElementById("jqmobiSelectBoxScroll").innerHTML=""},createHtml:function(){var e=this;if(!document.getElementById("jqmobiSelectBoxContainer")){var i=document.createElement("div");i.style.cssText="position:absolute;top:0px;bottom:0px;left:0px;right:0px;background:rgba(0,0,0,.7);z-index:200000;display:none;",i.id="jqmobiSelectModal";var s=document.createElement("div");s.id="jqmobiSelectBoxContainer",s.style.cssText="position:absolute;top:8%;bottom:10%;display:block;width:90%;margin:auto;margin-left:5%;height:90%px;background:white;color:black;border:1px solid black;border-radius:6px;",s.innerHTML="<div id='jqmobiSelectBoxHeader' style=\"display:block;font-family:'Eurostile-Bold', Eurostile, Helvetica, Arial, sans-serif;color:#fff;font-weight:bold;font-size:18px;line-height:34px;height:34px; text-transform:uppercase;text-align:left;text-shadow:rgba(0,0,0,.9) 0px -1px 1px;    padding: 0px 8px 0px 8px;    border-top-left-radius:5px; border-top-right-radius:5px; -webkit-border-top-left-radius:5px; -webkit-border-top-right-radius:5px;    background:#39424b;    margin:1px;\"><div style='float:left;' id='jqmobiSelectBoxHeaderTitle'></div><div style='float:right;width:60px;margin-top:-5px'><div id='jqmobiSelectClose' class='button' style='width:60px;height:32px;line-height:32px;'>Close</div></div></div>",s.innerHTML+='<div id="jqmobiSelectBoxFix"  style="position:relative;height:90%;background:white;overflow:hidden;width:100%;"><div id="jqmobiSelectBoxScroll"></div></div>';var e=this;i.appendChild(s),t(document).ready(function(){jq("#ui_kit")?jq("#ui_kit").append(i):document.body.appendChild(i);var n=t("#jqmobiSelectClose").get();n.onclick=function(){e.hideDropDown()};var o=t("<style>.jqselectscrollBarV{opacity:1 !important;}</style>").get();document.body.appendChild(o);try{e.scroller=t("#jqmobiSelectBoxScroll").scroller({scroller:!1,verticalScroll:!0,vScrollCSS:"jqselectscrollBarV"})}catch(r){}i=null,s=null,o=null})}}},HTMLElement.prototype.watch||(HTMLElement.prototype.watch=function(t,e){var i=this[t],s=i,n=function(){return s},o=function(n){return i=s,s=e.call(this,t,i,n)};delete this[t]&&(HTMLElement.defineProperty?HTMLElement.defineProperty(this,t,{get:n,set:o,enumerable:!1,configurable:!0}):HTMLElement.prototype.__defineGetter__&&HTMLElement.prototype.__defineSetter__&&(HTMLElement.prototype.__defineGetter__.call(this,t,n),HTMLElement.prototype.__defineSetter__.call(this,t,o)))}),HTMLElement.prototype.unwatch||(HTMLElement.prototype.unwatch=function(t){var e=this[t];delete this[t],this[t]=e})}(jq),function(t){var e=[];t.fn.swipeListener=function(t){if(void 0===t&&this.length>0)return e[this[0].id]?e[this[0].id]:null;for(var s=0;this.length>s;s++)tmp=new i(this[s],t),this[s].id&&(e[this[s].id]=tmp);return 1==this.length?tmp:this};var i=function(){var t=function(t,e){var i=this;if(this.el="string"==typeof t?document.getElementById(t):t,!this.el)return alert("Error adding swipe listener for "+t),void 0;this.el.addEventListener("touchmove",function(t){i.touchMove(t)},!1),this.el.addEventListener("touchend",function(t){i.touchEnd(t)},!1);for(j in e)this[j]=e[j]};return t.prototype={startX:0,startY:0,movingX:0,movingY:0,vthreshold:50,hthreshold:50,movingElement:!1,swipeDirection:{up:!1,down:!1,left:!1,right:!1},callBack:null,cancel:function(){this.startX=0,this.startY=0,this.movingX=0,this.movingY=0,this.movingElement=!1,this.swipeDirection={up:!1,down:!1,left:!1,right:!1}},touchStart:function(t){t.touches[0].target&&void 0!=t.touches[0].target.type||1==t.touches.length&&(this.movingElement=!0,this.startX=t.touches[0].pageX,this.startY=t.touches[0].pageY,t.preventDefault())},touchMove:function(t){return 0==this.movingElement&&this.touchStart(t),t.preventDefault(),t.touches.length>1||!this.movingElement?(this.cancel(),void 0):(this.movingX=t.touches[0].pageX-this.startX,this.movingY=t.touches[0].pageY-this.startY,void 0)},touchEnd:function(t){if(this.movingElement){t.preventDefault();var e=!1;Math.abs(this.movingX)>this.hthreshold&&(this.swipeDirection.right=this.movingX>0,this.swipeDirection.left=0>this.movingX,e=!0),Math.abs(this.movingY)>this.vthreshold&&(this.swipeDirection.up=0>this.movingY,this.swipeDirection.down=this.movingY>0,e=!0),e&&this.callBack(this.swipeDirection),this.cancel()}}},t}()}(jq),function(t){function e(t){return"tagName"in t?t:t.parentNode}function i(t,e,i,s){var n=Math.abs(t-e),o=Math.abs(i-s);return n>=o?t-e>0?"Left":"Right":i-s>0?"Up":"Down"}function s(){r.last&&Date.now()-r.last>=l&&(r.el.trigger("longTap"),r={})}var n,o,r={},l=750;t(document).ready(function(){var a;t(document.body).bind("touchstart",function(i){if(i.touches&&0!=i.touches.length){var c=Date.now(),h=c-(r.last||c);i.touches&&0!=i.touches.length&&(r.el=t(e(i.touches[0].target)),n&&clearTimeout(n),r.x1=i.touches[0].pageX,r.y1=i.touches[0].pageY,r.x2=r.y2=0,h>0&&250>=h&&(r.isDoubleTap=!0),r.last=c,o=setTimeout(s,l),r.el.data("ignore-pressed")||r.el.addClass("selected"),a&&!a.data("ignore-pressed")&&a.removeClass("selected"),a=r.el)}}).bind("touchmove",function(t){r.x2=t.touches[0].pageX,r.y2=t.touches[0].pageY,clearTimeout(o)}).bind("touchend",function(){r.el&&(r.el.data("ignore-pressed")||r.el.removeClass("selected"),r.isDoubleTap?(r.el.trigger("doubleTap"),r={}):r.x2>0||r.y2>0?((Math.abs(r.x1-r.x2)>30||Math.abs(r.y1-r.y2)>30)&&r.el.trigger("swipe")&&r.el.trigger("swipe"+i(r.x1,r.x2,r.y1,r.y2)),r.x1=r.x2=r.y1=r.y2=r.last=0):"last"in r&&(r.el.trigger("tap"),n=setTimeout(function(){n=null,r.el&&r.el.trigger("singleTap"),r={}},250)))}).bind("touchcancel",function(){r.el&&!r.el.data("ignore-pressed")&&r.el.removeClass("selected"),r={},clearTimeout(o)})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}(jq),function(){$.touchLayer=function(t){return $.touchLayer=new c(t),$.touchLayer};var t=["input","select","textarea"],e=["button","radio","checkbox","range","date"],i=$.os.ios,s=$.os.blackberry,n=$.os.blackberry||$.os.android&&!$.os.chrome;$.os.blackberry||$.os.android&&!$.os.chrome,$.os.ios,$.os.blackberry10;var o=$.os.ios,r=.97,l=2,a=!1,c=function(t){this.clearTouchVars(),t.addEventListener("touchstart",this,!1),t.addEventListener("touchmove",this,!1),t.addEventListener("touchend",this,!1),t.addEventListener("click",this,!1),t.addEventListener("focusin",this,!1),document.addEventListener("scroll",this,!1),window.addEventListener("resize",this,!1),window.addEventListener("orientationchange",this,!1),this.layer=t,this.scrollEndedProxy_=$.proxy(this.scrollEnded,this),this.exitEditProxy_=$.proxy(this.exitExit,this,[]),this.launchFixUIProxy_=$.proxy(this.launchFixUI,this);var e=this;this.scrollTimeoutExpireProxy_=function(){e.scrollTimeout_=null,e.scrollTimeoutEl_.addEventListener("scroll",e.scrollEndedProxy_,!1)},this.retestAndFixUIProxy_=function(){jq.os.android&&(e.layer.style.height="100%"),$.asap(e.testAndFixUI,e,arguments)},document.addEventListener("click",function(t){void 0!==t.clientX&&null!=e.lastTouchStartX&&2>Math.abs(e.lastTouchStartX-t.clientX)&&2>Math.abs(e.lastTouchStartY-t.clientY)&&(t.preventDefault(),t.stopPropagation())},!0),$.bind(this,"scrollstart",function(t){e.isScrolling=!0,e.scrollingEl_=t,e.fireEvent("UIEvents","scrollstart",t,!1,!1)}),$.bind(this,"scrollend",function(t){e.isScrolling=!1,e.fireEvent("UIEvents","scrollend",t,!1,!1)}),this.launchFixUI(5)};c.prototype={dX:0,dY:0,cX:0,cY:0,touchStartX:null,touchStartY:null,layer:null,scrollingEl_:null,scrollTimeoutEl_:null,scrollTimeout_:null,reshapeTimeout_:null,scrollEndedProxy_:null,exitEditProxy_:null,launchFixUIProxy_:null,reHideAddressBarTimeout_:null,retestAndFixUIProxy_:null,panElementId:"header",blockClicks:!1,allowDocumentScroll_:!1,ignoreNextResize_:!1,blockPossibleClick_:!1,isScrolling:!1,isScrollingVertical_:!1,wasPanning_:!1,isPanning_:!1,isFocused_:!1,justBlurred_:!1,requiresNativeTap:!1,holdingReshapeType_:null,handleEvent:function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"click":this.onClick(t);break;case"blur":this.onBlur(t);break;case"scroll":this.onScroll(t);break;case"orientationchange":this.onOrientationChange(t);break;case"resize":this.onResize(t);break;case"focusin":this.onFocusIn(t)}},launchFixUI:function(t){return t||(t=l),null==this.reHideAddressBarTimeout_?this.testAndFixUI(0,t):void 0},resetFixUI:function(){this.reHideAddressBarTimeout_&&clearTimeout(this.reHideAddressBarTimeout_),this.reHideAddressBarTimeout_=null},testAndFixUI:function(t,e){var i=this.getReferenceHeight(),s=this.getCurrentHeight();return i==s||i>s*r&&s>i*r?(jq.os.android&&this.resetFixUI(),!1):(this.hideAddressBar(t,e),!0)},hideAddressBar:function(t,e){if(t>=e)return this.resetFixUI(),void 0;if(jq.os.desktop||jq.os.chrome)this.layer.style.height="100%";else if(jq.os.android){window.scrollTo(1,1),this.layer.style.height=this.isFocused_?window.innerHeight+"px":window.outerHeight/window.devicePixelRatio+"px",that=this;var i=t+1;this.reHideAddressBarTimeout_=setTimeout(this.retestAndFixUIProxy_,250*i,[i,e])}else this.isFocused_||(document.documentElement.style.height="5000px",window.scrollTo(0,0),document.documentElement.style.height=window.innerHeight+"px",this.layer.style.height=window.innerHeight+"px")},getReferenceHeight:function(){return jq.os.android?Math.ceil(window.outerHeight/window.devicePixelRatio):window.innerHeight},getCurrentHeight:function(){return jq.os.android?window.innerHeight:numOnly(document.documentElement.style.height)},onOrientationChange:function(){!this.holdingReshapeType_&&this.reshapeTimeout_?this.fireReshapeEvent("orientationchange"):this.previewReshapeEvent("orientationchange")},onResize:function(){return this.ignoreNextResize_?(this.ignoreNextResize_=!1,void 0):(this.launchFixUI()&&this.reshapeAction(),void 0)},onClick:function(s){var n=s.target&&void 0!=s.target.tagName?s.target.tagName.toLowerCase():"";if(-1===t.indexOf(n)||this.isFocused_&&!s.target!=this.focusedElement)$.os.blackberry10&&this.isFocused_&&this.focusedElement.blur();else{var o=s.target&&void 0!=s.target.type?s.target.type.toLowerCase():"",r=-1!==e.indexOf(o);if(r)this.isFocused_=!1;else{if(this.isFocused_&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=s.target,this.focusedElement.addEventListener("blur",this,!1),!this.isFocused_&&!this.justBlurred_)if($.trigger(this,"enter-edit",[s.target]),$.os.ios){var l=this;setTimeout(function(){l.fireReshapeEvent("enter-edit")},300)}else this.previewReshapeEvent("enter-edit");this.isFocused_=!0}this.justBlurred_=!1,this.allowDocumentScroll_=!0,i&&s.target.focus()}},previewReshapeEvent:function(t){that=this,this.reshapeTimeout_=setTimeout(function(){that.fireReshapeEvent(t),that.reshapeTimeout_=null,that.holdingReshapeType_=null},750),this.holdingReshapeType_=t},fireReshapeEvent:function(t){$.trigger(this,"reshape"),$.trigger(this,t?t+"-reshape":"unknown-reshape")},reshapeAction:function(){this.reshapeTimeout_?(clearTimeout(this.reshapeTimeout_),this.fireReshapeEvent(this.holdingReshapeType_),this.holdingReshapeType_=null,this.reshapeTimeout_=null):this.previewReshapeEvent()},onFocusIn:function(t){this.isFocused_||this.onClick(t)},onBlur:function(t){jq.os.android&&t.target==window||(this.isFocused_=!1,this.focusedElement&&this.focusedElement.removeEventListener("blur",this,!1),this.focusedElement=null,this.justBlurred_=!0,$.asap(this.exitEditProxy_,this,[t.target]))},exitExit:function(t){if(this.justBlurred_=!1,!this.isFocused_)if($.trigger(this,"exit-edit",[t]),this.allowDocumentScroll_=!1,$.os.ios){var e=this;setTimeout(function(){e.fireReshapeEvent("exit-edit")},300)}else this.previewReshapeEvent("exit-edit")},onScroll:function(t){this.allowDocumentScroll_||this.isPanning_||t.target!=document||(this.allowDocumentScroll_=!0,this.wasPanning_?(this.wasPanning_=!1,setTimeout(this.launchFixUIProxy_,2e3,[l])):this.launchFixUI())},onTouchStart:function(e){this.dX=e.touches[0].pageX,this.dY=e.touches[0].pageY,this.lastTimestamp=e.timeStamp,this.lastTouchStartX=this.lastTouchStartY=null,(o||$.feat.nativeTouchScroll)&&this.checkDOMTree(e.target,this.layer),this.isScrolling&&(null!=this.scrollTimeout_?(clearTimeout(this.scrollTimeout_),this.scrollTimeout_=null,this.scrollTimeoutEl_!=this.scrollingEl_?this.scrollEnded(!1):this.blockPossibleClick_=!0):this.scrollTimeoutEl_&&(this.scrollEnded(!0),this.blockPossibleClick_=!0));var i=jq.os.android&&e&&e.target&&e.target.getAttribute&&"ignore"==e.target.getAttribute("data-touchlayer");if(i||this.isFocused_&&!$.os.blackberry10)this.requiresNativeTap=!0,this.allowDocumentScroll_=!0;else if(n&&e.target&&void 0!=e.target.tagName){var s=e.target.tagName.toLowerCase();-1!==t.indexOf(s)&&("select"!=s&&$.trigger(this,"pre-enter-edit",[e.target]),this.requiresNativeTap=!0)}else e.target&&void 0!==e.target.tagName&&"input"==e.target.tagName.toLowerCase()&&"range"==e.target.type&&(this.requiresNativeTap=!0);this.isPanning_||this.requiresNativeTap?this.isScrollingVertical_&&this.demandVerticalScroll():(this.isScrolling&&!$.feat.nativeTouchScroll||!this.isScrolling)&&e.preventDefault()},demandVerticalScroll:function(){var t=0>=this.scrollingEl_.scrollTop;if(t)this.scrollingEl_.scrollTop=1;else{var e=this.scrollingEl_.scrollTop+this.scrollingEl_.clientHeight,i=e>=this.scrollingEl_.scrollHeight;i&&(this.scrollingEl_.scrollTop=this.scrollingEl_.scrollHeight-this.scrollingEl_.clientHeight-1)}},ignoreScrolling:function(t){return void 0===t.scrollWidth||void 0===t.clientWidth?!0:void 0===t.scrollHeight||void 0===t.clientHeight?!0:!1},allowsVerticalScroll:function(t,e){var i=e.overflowY;return"scroll"==i?!0:"auto"==i&&t.scrollHeight>t.clientHeight?!0:!1},allowsHorizontalScroll:function(t,e){var i=e.overflowX;return"scroll"==i?!0:"auto"==i&&t.scrollWidth>t.clientWidth?!0:!1},checkDOMTree:function(t,e){if(o&&this.panElementId==t.id)return this.isPanning_=!0,void 0;if($.feat.nativeTouchScroll){if(this.ignoreScrolling(t))return;var i=window.getComputedStyle(t);if(this.allowsVerticalScroll(t,i))return this.isScrollingVertical_=!0,this.scrollingEl_=t,this.isScrolling=!0,void 0;this.allowsHorizontalScroll(t,i)&&(this.isScrollingVertical_=!1,this.scrollingEl_=null,this.isScrolling=!0)}var s=t==e;!s&&t.parentNode&&this.checkDOMTree(t.parentNode,e)},scrollEnded:function(t){t&&this.scrollTimeoutEl_.removeEventListener("scroll",this.scrollEndedProxy_,!1),this.fireEvent("UIEvents","scrollend",this.scrollTimeoutEl_,!1,!1),this.scrollTimeoutEl_=null},onTouchMove:function(t){var e=this.moved;return this.moved=!0,s&&(this.cY=t.touches[0].pageY-this.dY,this.cX=t.touches[0].pageX-this.dX),this.isPanning_?void 0:(this.isScrolling&&(e||this.fireEvent("UIEvents","scrollstart",this.scrollingEl_,!1,!1),this.speedY=(this.lastY-t.touches[0].pageY)/(t.timeStamp-this.lastTimestamp),this.lastY=t.touches[0].pageY,this.lastX=t.touches[0].pageX,this.lastTimestamp=t.timeStamp),$.os.blackberry10||this.requiresNativeTap?(t.stopPropagation(),void 0):(this.isScrolling&&$.feat.nativeTouchScroll||t.preventDefault(),void 0))},onTouchEnd:function(t){if($.os.ios){if(a==t.changedTouches[0].identifier)return t.preventDefault(),!1;a=t.changedTouches[0].identifier}var e=this.moved;if(s&&(e=e&&!(10>Math.abs(this.cX)&&10>Math.abs(this.cY))),jq.os.ios&&this.requiresNativeTap||(this.allowDocumentScroll_=!1),this.isPanning_&&e)this.wasPanning_=!0;else if(e||this.requiresNativeTap)e&&(this.isScrolling&&(this.scrollTimeoutEl_=this.scrollingEl_,.01>Math.abs(this.speedY)?this.scrollEnded(!1):this.scrollTimeout_=setTimeout(this.scrollTimeoutExpireProxy_,30)),this.requiresNativeTap&&(this.isFocused_||$.trigger(this,"cancel-enter-edit",[t.target])));else if(t.preventDefault(),!this.blockClicks&&!this.blockPossibleClick_){var i=t.target;3==i.nodeType&&(i=i.parentNode),this.fireEvent("Event","click",i,!0,t.mouseToTouch,t.changedTouches[0]),this.lastTouchStartX=this.dX,this.lastTouchStartY=this.dY}this.clearTouchVars()},clearTouchVars:function(){this.speedY=this.lastY=this.cY=this.cX=this.dX=this.dY=0,this.moved=!1,this.isPanning_=!1,this.isScrolling=!1,this.isScrollingVertical_=!1,this.requiresNativeTap=!1,this.blockPossibleClick_=!1},fireEvent:function(t,e,i,s,n,o){var r=document.createEvent(t);r.initEvent(e,s,!0),r.target=i,o&&$.each(o,function(t,e){r[t]=e}),n&&(r.mouseToTouch=!0),i.dispatchEvent(r)}}}(),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?(e.style.zIndex=1,t.style.zIndex=2,s.clearAnimations(e),s.css3animate(t,{x:"0%",time:"150ms",opacity:.1,scale:.2,origin:"-50% 50%",complete:function(i){return i?(s.finishTransition(t),void 0):(s.css3animate(t,{x:"-100%",complete:function(){s.finishTransition(t)}}),e.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,e.style.zIndex=2,s.css3animate(e,{x:"0%",y:"0%",scale:.2,origin:"-50% 50%",opacity:.1,complete:function(){s.css3animate(e,{x:"0%",time:"150ms",scale:1,opacity:1,origin:"0% 0%",complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.clearAnimations(e),s.css3animate(t,{x:"100%",y:0,complete:function(){s.finishTransition(t)}}),void 0)}})}}))}t.availableTransitions.pop=e}($.ui),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?(e.style.zIndex=1,t.style.zIndex=2,s.clearAnimations(e),s.css3animate(t,{y:"-100%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.css3animate(t,{x:"-100%",y:0,complete:function(){s.finishTransition(t)}}),e.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,e.style.zIndex=2,s.css3animate(e,{y:"-100%",x:"0%",complete:function(){s.css3animate(e,{y:"0%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.clearAnimations(e),s.css3animate(t,{x:"-100%",y:0,complete:function(){s.finishTransition(t)}}),void 0)}})}}))}t.availableTransitions.down=e}($.ui),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?s.css3animate(t,{x:"0%",y:"0%",complete:function(){s.css3animate(t,{x:"100%",time:"150ms",complete:function(){s.finishTransition(t,e)}}).link(e,{x:"0%",time:"150ms"})}}).link(e,{x:"-100%",y:"0%"}):s.css3animate(t,{x:"0%",y:"0%",complete:function(){s.css3animate(t,{x:"-100%",time:"150ms",complete:function(){s.finishTransition(t,e)}}).link(e,{x:"0%",time:"150ms"})}}).link(e,{x:"100%",y:"0%"})}t.availableTransitions.slide=e,t.availableTransitions["default"]=e}($.ui),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?(e.style.zIndex=1,t.style.zIndex=2,s.clearAnimations(e),s.css3animate(t,{y:"100%",x:"0%",time:"150ms",complete:function(){s.finishTransition(t),e.style.zIndex=2,t.style.zIndex=1}})):(e.style.zIndex=2,t.style.zIndex=1,s.css3animate(e,{y:"100%",x:"0%",complete:function(){s.css3animate(e,{y:"0%",x:"0%",time:"150ms",complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.clearAnimations(e),s.css3animate(t,{x:"-100%",y:0,complete:function(){s.finishTransition(t)}}),void 0)}})}}))}t.availableTransitions.up=e}($.ui),function(t){function e(t,e,i){t.style.display="block",e.style.display="block";var s=this;i?(e.style.zIndex=1,t.style.zIndex=2,s.clearAnimations(e),s.css3animate(t,{x:"0%",time:"150ms",opacity:.1,complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.css3animate(t,{x:"-100%",opacity:1,complete:function(){s.finishTransition(t)}}),e.style.zIndex=2,t.style.zIndex=1,void 0)}})):(t.style.zIndex=1,e.style.zIndex=2,e.style.opacity=0,s.css3animate(e,{x:"0%",opacity:.1,complete:function(){s.css3animate(e,{x:"0%",time:"150ms",opacity:1,complete:function(i){return i?(s.finishTransition(t,e),void 0):(s.clearAnimations(e),s.css3animate(t,{x:"-100%",y:0,complete:function(){s.finishTransition(t)}}),void 0)}})}}))}t.availableTransitions.fade=e}($.ui),function(){var t=!1;$(document).ready(function(){if(window.google&&google.maps)return $(document).trigger("gmaps:available"),t=!0,!0;var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyC-weGLF_U2fkiHZ4vwT_sL7KXsXqaxrl0&sensor=true&callback=gmapsPluginLoaded",$("head").append(e),window.gmapsPluginLoaded=function(){$(document).trigger("gmaps:available"),t=!0}});var e={};$.fn.gmaps=function(t){if(0!=this.length){if(!t)return e[this[0].id];if("resize"==t&&e[this[0].id])return google.maps.event.trigger(e[this[0].id],"resize");for(var s=0;this.length>s;s++)new i(this[s],t)}};var i=function(i,s){var n=function(){s&&0!=Object.keys(s).length||(s={zoom:8,center:new google.maps.LatLng(40.010787,-76.278076),mapTypeId:google.maps.MapTypeId.ROADMAP}),e[i.id]=new google.maps.Map(i,s),google.maps.event.trigger(e[i.id],"resize")};t?n():$(document).one("gmaps:available",function(){n()})}}(jq),function(t){var e=document.location.protocol+"//"+document.location.host;location.href,"state"in window.history,t.mvc={},t.mvc.first_pop=!0,t.mvc.app=function(){t.mvc._app=this},t.mvc.app.prototype={_useHistory:!1,_html5Pop:function(e){return t.mvc.first_pop?(t.mvc.first_pop=!1,void 0):(t.mvc.route(document.location.href,e,!0),void 0)},useHTML5History:function(t){t===!0?(this._useHistory=!0,window.addEventListener("popstate",this._html5Pop)):(this._useHistory=!1,window.removeEventListener("popstate",this._html5Pop))},listenHashChange:function(){window.addEventListener("hashchange",function(e){var i=document.location.hash.replace("#","/");t.mvc.route(i,e,!0)})}},t.mvc.route=function(i,s,n){if("string"!=typeof i&&i.nodeName&&"a"===i.nodeName.toLowerCase()&&(i=i.href),"string"!=typeof i)throw"Invalid route parameter.  String or <a> expected";var o,r,l=i;return 0===i.indexOf(e)&&(i=i.substring(e.length,i.length)),"/"===i[0]&&(i=i.substr(1)),"/"===i[i.length-1]&&(i=i.slice(0,-1)),i=i.split("/"),i.length>1?(o=i.splice(0,1),r=i.splice(0,1)):(o=i[0],r="default"),t.mvc.controller[o]&&t.mvc.controller[o].hasOwnProperty(r)?(s&&s.preventDefault(),t.mvc.controller[o][r].apply(t.mvc.controller[o],i),t.mvc._app._useHistory&&n!==!0&&(t.ui.history.push(l),window.history.pushState(l,l,l)),!0):!1},t.mvc.addRoute=function(i,s){var n,o;0===i.indexOf(e)&&(i=i.substring(e.length,i.length)),"/"===i[0]&&(i=i.substr(1)),i=i.split("/"),i.length>1?(n=i.splice(0,1),o=i.splice(0,1)):(n=i[0],o="default"),t.mvc.controller[n]||(t.mvc.controller[n]={}),t.mvc.controller[n][o]=s},t.ui?t.ui.custom_click_handler=t.mvc.route:t(document).on("click","a",function(e){t.mvc.route(e.target,e)})}(jq),function(t){t.mvc.model=function(e,i){var s={};return i&&i.modelName&&delete i.modelName,i&&i.id&&delete i.id,t.extend(s,i),s.modelName=e,s},t.mvc.model.clone=function(t,e,i){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return i&&(t.__proto__=e.__proto__),t},t.mvc.model.prototype={_prepareModel:function(e){var i=this,s=t.mvc.model.clone({},i,!0);return s=t.mvc.model.clone(s,e)}},t.mvc.model.Extend=function(e,i){return function(){return new t.mvc.model(e,i)}}}(jq),function(t){var e={},i={},s={},n={},o={};t.mvc.controller={},t.mvc.controller.create=function(r,l){return t.mvc.controller[r]=l,e[r]=0,s[r]=0,n[r]=0,i[r]=0,l.hasOwnProperty("init")&&(o[r]=l),t.mvc.controller[r]}}(jq);var chat_log={chat_info:{chat_id:"23213123",my_photo:"photo_url_on_phone",other_photo:"photo_url",other_name:"Bob"},messages:[{id:"0",user:"Bob",text:"hello there",time:"04:41"},{id:"1",user:"Sam",text:"hey whats up",time:"04:41"},{id:"2",user:"Bob",text:"nothing much",time:"04:41"},{id:"3",user:"Bob",text:"what u doing",time:"04:41"}]},Chat=new $.mvc.model.Extend("chat",{chat_id:"",current_chat:this,my_photo:function(){return current_user.profile_pic},latest_sent_message_timestamp:"",latest_received_message_timestamp:"",messages:[],poll_for_messages:function(){var t={chat_id:this.chat_id,timestamp:this.latest_received_message_timestamp,total_messages:this.messages.length(),token:current_user.token};$.post(server+"chat",t,function(t){current_chat.push.apply(current_chat.messages,t.messages)},"json")},send_message:function(t){$.ajax({url:server+"/users/auth",data:message,success:function(){},error:function(){}}),$.ajax({type:"POST",url:server+"chat",contentType:"application/json",headers:{TOKEN:current_user.token},dataType:"application/json",data:{message:t},success:function(){},error:function(){}})},update:function(){}}),chat_room={};Person=new $.mvc.model.Extend("person",{});var people={};Photo=new $.mvc.model.Extend("photo",{});var photos={};Place=new $.mvc.model.Extend("place",{});var places={},User=new $.mvc.model.Extend("user",{name:"",email:"",token:"",profile_pic:"",save:function(){window.localStorage.setItem("current_user",JSON.stringify(this))},load_local_data:function(){try{var t=JSON.parse(window.localStorage.getItem("current_user"));t.token.length>5&&(current_user.name=t.name,current_user.email=t.email,current_user.token=t.token)}catch(e){current_user.token="guest"}},logout:function(){window.localStorage.clear()}}),current_user=new User,chat_log={chat_info:{chat_id:"23213123",my_photo:"photo_url_on_phone",person2_photo:"photo_url",person2:"Bob"},messages:[{timestamp:"0",user:"Bob",text:"hello there"},{timestamp:"1",user:"Sam",text:"hey whats up"},{timestamp:"2",user:"Bob",text:"nothing much"},{timestamp:"3",user:"Bob",text:"what u doing"}]};$.mvc.controller.create("chats_controller",{init:function(){},"default":function(){chat_room.room_list=JSON.parse(window.localStorage.getItem("chat_room_list")),$.ui.show_page({div_id:"chat_index_view",title:"Chats",header:"#header",left_button:"#top_back_button",right_button:"#top_new_chat_button",footer:"#footer",active_footer_button:"#bottom_nav_home",api_url:"/chats/",data:chat_room.room_list})},detail:function(t){$.ui.show_page({div_id:"chat_detail_view",title:"Chat Detail",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#chat_footer",active_footer_button:!1,api_url:"/chats/",data:t}),$("#chat_submit").bind("click",function(){t.send_message()
})},sent:function(){$.ui.show_page({div_id:"chat_sent_view",title:"Chats",header:"#header",left_button:"#top_back_button",right_button:"#top_new_chat_button",footer:"#footer",active_footer_button:"#bottom_nav_home",api_url:"/chats/sent",data:!1})},"new":function(){$.ui.show_page({div_id:"chat_new_view",title:"New Chat",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_home",api_url:!1,data:!1})}}),$.mvc.controller.create("people_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"people_index_view",title:"Following",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",api_url:!1,data:!1})},followers:function(){$.ui.show_page({div_id:"people_followers_view",title:"Followers",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",api_url:!1,data:!1})},nearby:function(){$.ui.show_page({div_id:"people_nearby_view",title:"People Nearby",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",api_url:/users/,data:!1})},detail:function(){$.ui.show_page({div_id:"people_detail_view",title:"People",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_people",api_url:!1,data:!1})}}),$.mvc.controller.create("photos_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"photos_index_view",title:"Photos",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_photos",api_url:!1,data:!1})},detail:function(){$.ui.show_page({div_id:"photo_detail_view",title:"Photo",header:"#header",left_button:"#top_back_button",right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_photos",api_url:!1,data:!1})},take_photo:function(){"undefined"==typeof forge?alert("Only works on phones"):forge.file.getImage()}}),$.mvc.controller.create("places_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"places_index_view",title:"Places",header:"#header",left_button:!1,right_button:!1,footer:"#footer",active_footer_button:"#bottom_nav_places",api_url:!1,data:!1}),$("#places_index_view").gmaps({center:new google.maps.LatLng(37.76,-122.43),zoom:10,mapTypeId:google.maps.MapTypeId.ROADMAP})}}),$.mvc.controller.create("users_controller",{init:function(){},"default":function(){$.ui.show_page({div_id:"user_index_view",title:"FunLife",header:"#header",left_button:!1,right_button:"#top_logout_button",footer:"#footer",active_footer_button:"#bottom_nav_home",api_url:"/users/",data:!1})},login_register:function(t){switch($("#login_error").hide(),t){case void 0:current_user.token="guest",$.ui.show_page({div_id:"user_login_register_view",title:!1,header:!1,left_button:!1,right_button:!1,footer:!1,active_footer_button:!1,api_url:!1,data:!1});break;case"login":$.ajax({type:"POST",dataType:"application/json",url:server+"/sessions/",data:$("#login_form").serialize(),success:function(t){current_user.token="Basic "+Base64.encode(JSON.parse(t).user.token),current_user.save(),$.mvc.route("/users_controller/")},error:function(t){401===t.status?$("#login_error").html("Wrong Password").show():$("#login_error").html("Connection error...").show()}});break;case"register":$.ajax({type:"POST",dataType:"application/json",data:$("#login_form").serialize(),url:server+"/users/",success:function(t){current_user.token="Basic "+Base64.encode(JSON.parse(t).user.token),current_user.save(),$.mvc.route("/users_controller/register2")},error:function(t){422===t.status?$("#login_error").html("An account with that email already exists. Login instead?").show():$("#login_error").html("Connection error...").show()}})}},register2:function(t){switch(t){case void 0:$.ui.show_page({title:"Complete Your Registration",active_nav:!1,div_id:"user_register2_view",left_button:!1,api_url:!1,data:!1});break;case"complete":$.put_with_token({api_url:"/users/",data:$("#registration_details_form").serialize(),success:function(){$.mvc.route("/users_controller/"),$("#footer").show()},error:function(){}})}},logout:function(){current_user.logout(),$.mvc.route("/users_controller/login_register")}}),String.prototype.encodeHTML=encodeHTMLSource();var tmpl=tmpl||{};if(tmpl.activity_detail_attending_view=function anonymous(){var t="";return t},tmpl.activity_detail_info_view=function anonymous(){var t="";return t},tmpl.activity_detail_join_view=function anonymous(){var t="";return t},tmpl.chat_detail_view=function anonymous(t){var e="<br><!--",i=t.chat_log;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],e+="Chatting with "+s.chat_info.person2,s.messages.name===current_user.name?e+="<div class='chat_message_left'><div class='userimg' style='background-image:url("+s.userimg+");'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p></div></div>":1!=s.level&&(e+="<div class='chat_message_right'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p></div></div>");return e+='--><div class="row-fluid"><div class="span2"><img class="img-polaroid" src="/photos/7.png"></div><div class="span9 offset1 well well-small"><small class="muted">7:10pm</small><p> Hello Bob! How are you doing? </p></div></div><div class="row-fluid"><div class="span9 well well-small"><small class="muted">7:12pm</small><p>I\'m doing good how are you?</p></div><div class="span2"><img class="img-polaroid" src="/photos/5.png"></div></div>'},tmpl.chat_index_view=function anonymous(){var t="<div class=\"row-fluid btn-group\"><a class=\"span6 btn text-info\" href='/chats_controller/'>Recieved</a><a class=\"span6 btn\" href='/chats_controller/sent/'>Sent</a></div><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span7 offset1'><span class='text-info'>Kimberly Rose</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return t},tmpl.chat_list_view=function anonymous(t){var e="All your chats:<table><tr><td>Email</td><td>Name</td><td>Chat</td><tr>",i=t.chat_list;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],e+="<tr><td>"+s.email+"</td><td>"+s.name+'</td><td><a href="/chats_controller/chat/'+s.user_id+'">View</a></td></tr>';return e+="</table>"},tmpl.chat_new_view=function anonymous(){var t="chats_new_view";return t},tmpl.chat_sent_view=function anonymous(){var t="<div class=\"row-fluid btn-group\"><a class=\"span6 btn\" href='/chats_controller/'>Recieved</a><a class=\"span6 btn text-info\" href='/chats_controller/sent/'>Sent</a></div><a href='/chats_controller/detail/blah'><div class='row-fluid well well-small'><div class='span2'><img src=\"/photos/3.png\"></div><div class='span7 offset1'><span class='text-info'>Billy Bob</span><br><small>Dec 17, 11:20pm</small></div><div class='span2'><i class=\"icon-forward\"></i></div></div></a>";return t},tmpl._comments=function anonymous(t){var e='Hello, I am on the _comments.js partial view <br><a href="/hello">Go Back</a>',i=t.comments;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],e+=1==s.level?"<div class='commentLevel1'><div class='userimg' style='background-image:url("+s.userimg+");'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":2==s.level?"<div class='commentLevel2'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>":"<div class='commentLevel3'><div class='userimg' style='background-image: url("+s.userimg+")'></div><div class='usercomment'><span class='username'>"+s.name+"</span><span class='commentTime'>"+s.time+"</span><p class='commentContent'>"+s.comment+"</p><a class='button' href='#reply'>Reply</a></div></div>";return e},tmpl.people_detail_view=function anonymous(){var t="<div class=\"row-fluid btn-group\"><a class=\"span4 btn text-info\" href='/people_controller/profile'>Profile</a><a class=\"span4 btn\" href='/people_controller/profile/comments'>Comments</a><a class=\"span4 btn\" href='/people_controller/profile/photos'>Photos</a></div><br><div class='row-fluid'><div class='span3'><img class='img-polaroid' src=\"/layout/img/user_placeholder.jpeg\"></div><div class='span8 offset1'><div class='row-fluid lead'>FirstName LastName</div><div class='row-fluid text-center'><ul class=\"nav nav-pills\"><li class=\"active\"><a>344<br><small>Followers</small></a></li><li class=\"active\"><a>423<br><small>Following</small></a></li><li class=\"active\"><a>&nbsp<br><small>Status</small></a></li></ul></div></div></div><div class='row-fluid'><div class='span2'><button class=\"btn btn-large btn-success disabled\">7 Trust</button></div><div class='span3 offset2'><a href='#' class='btn btn-small btn-info btn-block'>Trust</a><a href='/chats_controller/detail/chatid/new/userid' class='btn btn-small btn-info btn-block'>Chat</a></div><div class='span3 offset1'><a href='#' class='btn btn-small btn-info btn-block'>Follow</a><a href='#' class='btn btn-small btn-info btn-block'>Invite</a></div></div><br><div class='row-fluid text-center label label-info'>Feedback Score: 83</div><br><div class='row-fluid label'>Activities I want to be invited to</div><div class='row-fluid'>todo</div><br><div class='row-fluid label'>Activities completed</div>";return t},tmpl.people_followers_view=function anonymous(){var t='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn text-info" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div>';return t},tmpl.people_index_view=function anonymous(){var t='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn" href=\'/people_controller/nearby/\'>Nearby</a></div><br><br><br><br><br><a href=\'http:<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvvvv<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index view<br><br><br><br><br>People index viewvvv<br><br><br><br><br>People index view';return t},tmpl.people_nearby_view=function anonymous(t){var e='<div class="row-fluid btn-group"><a class="span4 btn" href=\'/people_controller/\'>Following</a><a class="span4 btn" href=\'/people_controller/followers/\'>Followers</a><a class="span4 btn text-info" href=\'/people_controller/nearby/\'>Nearby</a></div>',i=t.users;if(i)for(var s,n=-1,o=i.length-1;o>n;)s=i[n+=1],0!=n&&0===n%4&&(e+="</ul></div>"),0===n%4&&(e+='<div class="row-fluid"><ul class="thumbnails">'),e+='<li class="span3"><a id="chat_'+s.user_id+'" href="/people_controller/detail/'+s.user_id+'" class="thumbnail"><img src="/layout/img/user_placeholder.jpeg">'+s.name+"</a></li>";return e+="</ul></div>"},tmpl.photo_detail_view=function anonymous(){var t="<div class='row-fluid'><div class='span2'><img src=\"/photos/7.png\"></div><div class='span6'>Larissa Jane</div><div class='span1'><img src='layout/img/icons/comment_bubble.png'></div><div class='span1'><img src='layout/img/icons/photo_likes.png'></div></div><div class='row-fluid'><div class='span10 offset1'><img src='/photos/7.png'></div></div><div class='row-fluid'><div class='span10'>Nashville Concert Hall, Nashville</div><div class='span2'><a href='/photos_controller/detail/photo_id/comment/' class='btn btn-small'>Comment</a></div></div>";return t},tmpl.photos_index_view=function anonymous(){var t='<div class="row-fluid btn-group"><a class="span4 btn text-info" href=\'/photos_controller/\'>Following</a><a class="span4 btn" href=\'/photos_controller/explore/\'>Explore</a><a class="span4 btn" href=\'/photos_controller/my_photos/\'>My Photos</a></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="/photos_controller/detail/photo_id/" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div><div class="row-fluid"><ul class="thumbnails"><li class="span4"><a href="#" class="thumbnail"><img src="/photos/7.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/2.png"></a></li><li class="span4"><a href="#" class="thumbnail"><img src="/photos/11.png"></a></li></ul></div>';return t},tmpl.places_index_view=function anonymous(){var t="";return t},tmpl.user_index_view=function anonymous(){var t='<ul class="breadcrumb"><li>My Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="/activity_controller/new" class="thumbnail no_borders"><img src="/layout/img/create_activity.png"></a></li><li class="span3 text-center"><a href="/chats_controller/" class="thumbnail no_borders"><img src="/layout/img/chats.png"></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/soccer.png"><small>Today<br>4:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/cards.png"><small>Wednesday 11/24<br>9:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Today\'s Activities</li></ul><div class="row-fluid"><ul class="thumbnails"><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/pool.png"><small>2.1 mi<br>7:30pm</small></a></li><li class="span3 text-center"><a href="#" class="thumbnail no_borders"><img src="/layout/img/basketball.png"><small>3.7 mi<br>8:30pm</small></a></li></ul></div><ul class="breadcrumb"><li>Tomorrow\'s Activities</li></ul>';return t},tmpl.user_login_register_view=function anonymous(){var t='<div><div class="row-fluid text-center"><br><br><h1>FunLife</h1><br><div id="login_error" class="alert"></div><br><br><div id="login_holder"><form id="login_form"><input id=\'#login_form_email_field\' type="text" name="user[email]" placeholder="email"><br><input id=\'#login_form_password_field\' type="text" name="user[password]" placeholder="password"></form><ul class="pager"><li><a href="/users_controller/login_register/register">Register</a></li><li><a href="/users_controller/login_register/login">Login</a></li></ul></div></div></div>';return t},tmpl.user_register2_view=function anonymous(){var t='<div class="container-fluid"><div class="row-fluid text-center"><br><br><h3>Tell us a little about yourself:</h3><br><div id="registration_details"><form id="registration_details_form"><input type="text" name="user[first_name]"  placeholder="first name"><input type="text" name="user[last_name]" placeholder="last name"></form><a href="/users_controller/register2/complete" class="btn btn-success">Complete Registration</a></div></div></div>';return t},"undefined"==typeof forge&&"undefined"==typeof device)var server="http://vast-crag-6780.herokuapp.com";else var server="http://vast-crag-6780.herokuapp.com";var debug,current_user,app=new $.mvc.app;app.listenHashChange(),app.useHTML5History(!0),$.ui.ready(function(){current_user.load_local_data(),current_user.token.length>5?$.mvc.route("/users_controller/"):$.mvc.route("/users_controller/login_register")});